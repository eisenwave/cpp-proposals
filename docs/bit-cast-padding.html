<!DOCTYPE html>
<html>
<head>
  <meta charset=UTF-8 /><meta name=viewport content="width=device-width, initial-scale=1"/><link rel=preconnent href=https://fonts.googleapis.com />
  <link rel=preconnent href=https://fonts.gstatic.com crossorigin/>
  <link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"/>
  <style>
html {
    --sans-serif-family: "Noto Sans", sans-serif;
    --serif-family: "Noto Serif", serif;
    --monospace-family: "Fira Code", monospace;

    --light-background-color: white;
    --light-deep-background-color: #fafafa;
    --light-text-color: black;
    --light-border-color: #aaa;
    --light-table-border-color: #777;
    --light-del-color: #be1621;
    --light-del-background-color: #fbe6e8;
    --light-ins-color: #17752d;
    --light-ins-background-color: #e4faea;
    --light-para-color: rgb(10, 73, 136);
    --light-a-color: rgb(10, 73, 136);
    --light-a-visited-color: rgb(44, 10, 136);
    --light-a-hover-color: rgb(15, 93, 170);
    --light-mark-color: black;
    --light-mark-background-color: #ffff85;
    --light-abstract-border-color: #707070;
    --light-abstract-background-color: #f0f0f0;
    --light-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --light-blockquote-border-color: #707070;
    --light-blockquote-background-color: #f0f0f0;
    --light-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --light-bug-block-border-color: #9f7b5d;
    --light-bug-block-background-color: #f0e2d9;
    --light-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%239f7b5d"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --light-decision-block-border-color: #ab6fa2;
    --light-decision-block-background-color: #f4e6f4;
    --light-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --light-del-block-border-color: #be1621;
    --light-del-block-background-color: #fbe6e8;
    --light-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be1621"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --light-details-border-color: #707070;
    --light-details-background-color: #f0f0f0;
    --light-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-diff-block-border-color: #707070;
    --light-diff-block-background-color: #f0f0f0;
    --light-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --light-example-block-border-color: #6f8aab;
    --light-example-block-background-color: #e6e9f4;
    --light-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f8aab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --light-important-block-border-color: #b05252;
    --light-important-block-background-color: #f4e6e6;
    --light-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6f6f"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --light-ins-block-border-color: #17752d;
    --light-ins-block-background-color: #e4faea;
    --light-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%2317752d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --light-note-block-border-color: #6fab6f;
    --light-note-block-background-color: #e6f4e9;
    --light-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab6f"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-tip-block-border-color: #b0a029;
    --light-tip-block-background-color: #f4f4e6;
    --light-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b0a029"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --light-todo-block-border-color: #6faba0;
    --light-todo-block-background-color: #e6f4f3;
    --light-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba0"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --light-warning-block-border-color: #af8141;
    --light-warning-block-background-color: #f4eee6;
    --light-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23af8141"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --light-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="black"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/></svg>');

    --dark-background-color: #202020;
    --dark-deep-background-color: #1a1a1a;
    --dark-text-color: #f0f0f0;
    --dark-border-color: #505050;
    --dark-table-border-color: #777;
    --dark-del-background-color: #67060c;
    --dark-del-color: #ffdcd7;
    --dark-ins-background-color: #033a16;
    --dark-ins-color: #aff5b4;
    --dark-para-color: #5bc0ff;
    --dark-a-color: #5bc0ff;
    --dark-a-visited-color: #c6a8ff;
    --dark-a-hover-color: #afd7ff;
    --dark-mark-color: #ededa8;
    --dark-mark-background-color: #525230;
    --dark-abstract-border-color: #999999;
    --dark-abstract-background-color: #2c2c2c;
    --dark-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23999999"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --dark-blockquote-border-color: #707070;
    --dark-blockquote-background-color: #2c2c2c;
    --dark-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --dark-bug-block-border-color: #ab866f;
    --dark-bug-block-background-color: #373028;
    --dark-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab866f"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --dark-details-border-color: #707070;
    --dark-details-background-color: #2c2c2c;
    --dark-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-decision-block-border-color: #ab6fa2;
    --dark-decision-block-background-color: #30232d;
    --dark-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --dark-del-block-border-color: #be5e64;
    --dark-del-block-background-color: #302323;
    --dark-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be5e64"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --dark-diff-block-border-color: #707070;
    --dark-diff-block-background-color: #2c2c2c;
    --dark-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --dark-example-block-border-color: #6f81ab;
    --dark-example-block-background-color: #232630;
    --dark-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f81ab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --dark-important-block-border-color: #b06262;
    --dark-important-block-background-color: #302323;
    --dark-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b06262"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --dark-ins-block-border-color: #5bab6d;
    --dark-ins-block-background-color: #233023;
    --dark-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%235bab6d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --dark-note-block-border-color: #6fab76;
    --dark-note-block-background-color: #233025;
    --dark-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab76"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-tip-block-border-color: #a2ab6f;
    --dark-tip-block-background-color: #2f3023;
    --dark-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23a2ab6f"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --dark-todo-block-border-color: #6fab98;
    --dark-todo-block-background-color: #23302e;
    --dark-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab98"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --dark-warning-block-border-color: #ab9c6f;
    --dark-warning-block-background-color: #302b23;
    --dark-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab9c6f"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --dark-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23f0f0f0"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/></svg>');

    --indent: 2.5em;
    --border-radius: 0.25em;
}

/* BEGIN LIGHT AND DARK THEME */

@media (prefers-color-scheme: light) {
    html {
        --background-color: var(--light-background-color);
        --deep-background-color: var(--light-deep-background-color);
        --text-color: var(--light-text-color);
        --border-color: var(--light-border-color);
        --table-border-color: var(--light-table-border-color);
        --del-color: var(--light-del-color);
        --del-background-color: var(--light-del-background-color);
        --ins-color: var(--light-ins-color);
        --ins-background-color: var(--light-ins-background-color);
        --para-color: var(--light-para-color);
        --a-color: var(--light-a-color);
        --a-visited-color: var(--light-a-visited-color);
        --a-hover-color: var(--light-a-hover-color);
        --mark-color: var(--light-mark-color);
        --mark-background-color: var(--light-mark-background-color);
        --abstract-border-color: var(--light-abstract-border-color);
        --abstract-background-color: var(--light-abstract-background-color);
        --abstract-image: var(--light-abstract-image);
        --blockquote-border-color: var(--light-blockquote-border-color);
        --blockquote-background-color: var(--light-blockquote-background-color);
        --blockquote-image: var(--light-blockquote-image);
        --bug-block-border-color: var(--light-bug-block-border-color);
        --bug-block-background-color: var(--light-bug-block-background-color);
        --bug-block-image: var(--light-bug-block-image);
        --decision-block-border-color: var(--light-decision-block-border-color);
        --decision-block-background-color: var(--light-decision-block-background-color);
        --decision-block-image: var(--light-decision-block-image);
        --del-block-border-color: var(--light-del-block-border-color);
        --del-block-background-color: var(--light-del-block-background-color);
        --del-block-image: var(--light-del-block-image);
        --details-border-color: var(--light-details-border-color);
        --details-background-color: var(--light-details-background-color);
        --details-image: var(--light-details-image);
        --diff-block-border-color: var(--light-diff-block-border-color);
        --diff-block-background-color: var(--light-diff-block-background-color);
        --diff-block-image: var(--light-diff-block-image);
        --example-block-border-color: var(--light-example-block-border-color);
        --example-block-background-color: var(--light-example-block-background-color);
        --example-block-image: var(--light-example-block-image);
        --important-block-border-color: var(--light-important-block-border-color);
        --important-block-background-color: var(--light-important-block-background-color);
        --important-block-image: var(--light-important-block-image);
        --ins-block-border-color: var(--light-ins-block-border-color);
        --ins-block-background-color: var(--light-ins-block-background-color);
        --ins-block-image: var(--light-ins-block-image);
        --note-block-border-color: var(--light-note-block-border-color);
        --note-block-background-color: var(--light-note-block-background-color);
        --note-block-image: var(--light-note-block-image);
        --tip-block-border-color: var(--light-tip-block-border-color);
        --tip-block-background-color: var(--light-tip-block-background-color);
        --tip-block-image: var(--light-tip-block-image);
        --todo-block-border-color: var(--light-todo-block-border-color);
        --todo-block-background-color: var(--light-todo-block-background-color);
        --todo-block-image: var(--light-todo-block-image);
        --warning-block-border-color: var(--light-warning-block-border-color);
        --warning-block-background-color: var(--light-warning-block-background-color);
        --warning-block-image: var(--light-warning-block-image);
        --theme-icon: var(--light-theme-icon);
    }
}

@media (prefers-color-scheme: dark) {
    html {
        --background-color: var(--dark-background-color);
        --deep-background-color: var(--dark-deep-background-color);
        --text-color: var(--dark-text-color);
        --border-color: var(--dark-border-color);
        --table-border-color: var(--dark-table-border-color);
        --del-color: var(--dark-del-color);
        --del-background-color: var(--dark-del-background-color);
        --ins-color: var(--dark-ins-color);
        --ins-background-color: var(--dark-ins-background-color);
        --para-color: var(--dark-para-color);
        --a-color: var(--dark-a-color);
        --a-visited-color: var(--dark-a-visited-color);
        --a-hover-color: var(--dark-a-hover-color);
        --mark-color: var(--dark-mark-color);
        --mark-background-color: var(--dark-mark-background-color);
        --abstract-border-color: var(--dark-abstract-border-color);
        --abstract-background-color: var(--dark-abstract-background-color);
        --abstract-image: var(--dark-abstract-image);
        --blockquote-border-color: var(--dark-blockquote-border-color);
        --blockquote-background-color: var(--dark-blockquote-background-color);
        --blockquote-image: var(--dark-blockquote-image);
        --bug-block-border-color: var(--dark-bug-block-border-color);
        --bug-block-background-color: var(--dark-bug-block-background-color);
        --bug-block-image: var(--dark-bug-block-image);
        --decision-block-border-color: var(--dark-decision-block-border-color);
        --decision-block-background-color: var(--dark-decision-block-background-color);
        --decision-block-image: var(--dark-decision-block-image);
        --del-block-border-color: var(--dark-del-block-border-color);
        --del-block-background-color: var(--dark-del-block-background-color);
        --del-block-image: var(--dark-del-block-image);
        --details-border-color: var(--dark-details-border-color);
        --details-background-color: var(--dark-details-background-color);
        --details-image: var(--dark-details-image);
        --diff-block-border-color: var(--dark-diff-block-border-color);
        --diff-block-background-color: var(--dark-diff-block-background-color);
        --diff-block-image: var(--dark-diff-block-image);
        --example-block-border-color: var(--dark-example-block-border-color);
        --example-block-background-color: var(--dark-example-block-background-color);
        --example-block-image: var(--dark-example-block-image);
        --important-block-border-color: var(--dark-important-block-border-color);
        --important-block-background-color: var(--dark-important-block-background-color);
        --important-block-image: var(--dark-important-block-image);
        --ins-block-border-color: var(--dark-ins-block-border-color);
        --ins-block-background-color: var(--dark-ins-block-background-color);
        --ins-block-image: var(--dark-ins-block-image);
        --note-block-border-color: var(--dark-note-block-border-color);
        --note-block-background-color: var(--dark-note-block-background-color);
        --note-block-image: var(--dark-note-block-image);
        --tip-block-border-color: var(--dark-tip-block-border-color);
        --tip-block-background-color: var(--dark-tip-block-background-color);
        --tip-block-image: var(--dark-tip-block-image);
        --todo-block-border-color: var(--dark-todo-block-border-color);
        --todo-block-background-color: var(--dark-todo-block-background-color);
        --todo-block-image: var(--dark-todo-block-image);
        --warning-block-border-color: var(--dark-warning-block-border-color);
        --warning-block-background-color: var(--dark-warning-block-background-color);
        --warning-block-image: var(--dark-warning-block-image);
        --theme-icon: var(--dark-theme-icon);
    }
}

html.light {
    --background-color: var(--light-background-color);
    --deep-background-color: var(--light-deep-background-color);
    --text-color: var(--light-text-color);
    --border-color: var(--light-border-color);
    --table-border-color: var(--light-table-border-color);
    --del-color: var(--light-del-color);
    --del-background-color: var(--light-del-background-color);
    --ins-color: var(--light-ins-color);
    --ins-background-color: var(--light-ins-background-color);
    --para-color: var(--light-para-color);
    --a-color: var(--light-a-color);
    --a-visited-color: var(--light-a-visited-color);
    --a-hover-color: var(--light-a-hover-color);
    --mark-color: var(--light-mark-color);
    --mark-background-color: var(--light-mark-background-color);
    --abstract-border-color: var(--light-abstract-border-color);
    --abstract-background-color: var(--light-abstract-background-color);
    --abstract-image: var(--light-abstract-image);
    --blockquote-border-color: var(--light-blockquote-border-color);
    --blockquote-background-color: var(--light-blockquote-background-color);
    --blockquote-image: var(--light-blockquote-image);
    --bug-block-border-color: var(--light-bug-block-border-color);
    --bug-block-background-color: var(--light-bug-block-background-color);
    --bug-block-image: var(--light-bug-block-image);
    --decision-block-border-color: var(--light-decision-block-border-color);
    --decision-block-background-color: var(--light-decision-block-background-color);
    --decision-block-image: var(--light-decision-block-image);
    --del-block-border-color: var(--light-del-block-border-color);
    --del-block-background-color: var(--light-del-block-background-color);
    --del-block-image: var(--light-del-block-image);
    --details-border-color: var(--light-details-border-color);
    --details-background-color: var(--light-details-background-color);
    --details-image: var(--light-details-image);
    --diff-block-border-color: var(--light-diff-block-border-color);
    --diff-block-background-color: var(--light-diff-block-background-color);
    --diff-block-image: var(--light-diff-block-image);
    --example-block-border-color: var(--light-example-block-border-color);
    --example-block-background-color: var(--light-example-block-background-color);
    --example-block-image: var(--light-example-block-image);
    --important-block-border-color: var(--light-important-block-border-color);
    --important-block-background-color: var(--light-important-block-background-color);
    --important-block-image: var(--light-important-block-image);
    --ins-block-border-color: var(--light-ins-block-border-color);
    --ins-block-background-color: var(--light-ins-block-background-color);
    --ins-block-image: var(--light-ins-block-image);
    --note-block-border-color: var(--light-note-block-border-color);
    --note-block-background-color: var(--light-note-block-background-color);
    --note-block-image: var(--light-note-block-image);
    --tip-block-border-color: var(--light-tip-block-border-color);
    --tip-block-background-color: var(--light-tip-block-background-color);
    --tip-block-image: var(--light-tip-block-image);
    --todo-block-border-color: var(--light-todo-block-border-color);
    --todo-block-background-color: var(--light-todo-block-background-color);
    --todo-block-image: var(--light-todo-block-image);
    --warning-block-border-color: var(--light-warning-block-border-color);
    --warning-block-background-color: var(--light-warning-block-background-color);
    --warning-block-image: var(--light-warning-block-image);
    --theme-icon: var(--light-theme-icon);
}

html.dark {
    --background-color: var(--dark-background-color);
    --deep-background-color: var(--dark-deep-background-color);
    --text-color: var(--dark-text-color);
    --border-color: var(--dark-border-color);
    --table-border-color: var(--dark-table-border-color);
    --del-color: var(--dark-del-color);
    --del-background-color: var(--dark-del-background-color);
    --ins-color: var(--dark-ins-color);
    --ins-background-color: var(--dark-ins-background-color);
    --para-color: var(--dark-para-color);
    --a-color: var(--dark-a-color);
    --a-visited-color: var(--dark-a-visited-color);
    --a-hover-color: var(--dark-a-hover-color);
    --mark-color: var(--dark-mark-color);
    --mark-background-color: var(--dark-mark-background-color);
    --abstract-border-color: var(--dark-abstract-border-color);
    --abstract-background-color: var(--dark-abstract-background-color);
    --abstract-image: var(--dark-abstract-image);
    --blockquote-border-color: var(--dark-blockquote-border-color);
    --blockquote-background-color: var(--dark-blockquote-background-color);
    --blockquote-image: var(--dark-blockquote-image);
    --bug-block-border-color: var(--dark-bug-block-border-color);
    --bug-block-background-color: var(--dark-bug-block-background-color);
    --bug-block-image: var(--dark-bug-block-image);
    --decision-block-border-color: var(--dark-decision-block-border-color);
    --decision-block-background-color: var(--dark-decision-block-background-color);
    --decision-block-image: var(--dark-decision-block-image);
    --del-block-border-color: var(--dark-del-block-border-color);
    --del-block-background-color: var(--dark-del-block-background-color);
    --del-block-image: var(--dark-del-block-image);
    --details-border-color: var(--dark-details-border-color);
    --details-background-color: var(--dark-details-background-color);
    --details-image: var(--dark-details-image);
    --diff-block-border-color: var(--dark-diff-block-border-color);
    --diff-block-background-color: var(--dark-diff-block-background-color);
    --diff-block-image: var(--dark-diff-block-image);
    --example-block-border-color: var(--dark-example-block-border-color);
    --example-block-background-color: var(--dark-example-block-background-color);
    --example-block-image: var(--dark-example-block-image);
    --important-block-border-color: var(--dark-important-block-border-color);
    --important-block-background-color: var(--dark-important-block-background-color);
    --important-block-image: var(--dark-important-block-image);
    --ins-block-border-color: var(--dark-ins-block-border-color);
    --ins-block-background-color: var(--dark-ins-block-background-color);
    --ins-block-image: var(--dark-ins-block-image);
    --note-block-border-color: var(--dark-note-block-border-color);
    --note-block-background-color: var(--dark-note-block-background-color);
    --note-block-image: var(--dark-note-block-image);
    --tip-block-border-color: var(--dark-tip-block-border-color);
    --tip-block-background-color: var(--dark-tip-block-background-color);
    --tip-block-image: var(--dark-tip-block-image);
    --todo-block-border-color: var(--dark-todo-block-border-color);
    --todo-block-background-color: var(--dark-todo-block-background-color);
    --todo-block-image: var(--dark-todo-block-image);
    --warning-block-border-color: var(--dark-warning-block-border-color);
    --warning-block-background-color: var(--dark-warning-block-background-color);
    --warning-block-image: var(--dark-warning-block-image);
    --theme-icon: var(--dark-theme-icon);
}

/* END LIGHT AND DARK THEME */

html {
    margin: 0;
    width: 100%;
    font-family: var(--serif-family);
    font-size: 11pt;

    border-left: var(--border-thickness) solid var(--border-color);
    color: var(--text-color);
    background-color: var(--background-color);
}

body {
    --vertical-margin: 2rem;
    --margin-left: 3rem;
    --margin-right: 2rem;

    margin: var(--vertical-margin) var(--margin-right) var(--vertical-margin) var(--margin-left);
    width: calc(100% - var(--margin-left) - var(--margin-right));
    box-sizing: border-box;
}

main {
    max-width: 60rem;
    margin-left: auto;
    margin-right: auto;
}

p {
    text-align: justify;
}

abstract-block,
blockquote,
bug-block,
code-block,
decision-block,
del-block,
details,
dl,
diff-block,
example-block,
hr,
ol,
important-block,
ins-block,
math[display=block],
note-block,
p,
pre,
tip-block,
todo-block,
ul,
warning-block,
.indent {
    display: block;
    margin-top: 1em;
    margin-bottom: 1em;
}

a {
    color: var(--a-color);
    text-decoration: unset;
}

a:visited {
    color: var(--a-visited-color);
}

a:hover,
a:focus {
    color: var(--a-hover-color);
}

a:hover {
    text-decoration: underline;
}

ol,
ul {
    padding-left: var(--indent);
}

li {
    margin: 0.5em 0;
}

dt {
    margin-top: 0.25em;
    font-style: italic;
    font-weight: bold;
}

dd {
    margin-bottom: 0.25em;
    margin-left: var(--indent);
}

abstract-block,
blockquote,
bug-block,
del-block,
details,
decision-block,
diff-block,
example-block,
important-block,
ins-block,
note-block,
tip-block,
todo-block,
warning-block {
    --border-thickness: 0.25em;
    --padding: 0.5em;

    position: relative;
    width: calc(100% - var(--indent));
    box-sizing: border-box;
    padding: var(--padding);
    margin-left: var(--indent);

    border-top-right-radius: var(--border-radius);
    border-bottom-right-radius: var(--border-radius);
}

abstract-block>:first-child,
blockquote>:first-child,
bug-block>:first-child,
del-block>:first-child,
details>:first-child,
decision-block>:first-child,
diff-block>:first-child,
example-block>:first-child,
important-block>:first-child,
ins-block>:first-child,
note-block>:first-child,
tip-block>:first-child,
todo-block>:first-child,
warning-block>:first-child {
    margin-top: 0;
}

abstract-block>:last-child,
blockquote>:last-child,
bug-block>:last-child,
del-block>:last-child,
details>:last-child,
decision-block>:last-child,
diff-block>:last-child,
example-block>:last-child,
important-block>:last-child,
ins-block>:last-child,
note-block>:last-child,
todo-block>:last-child,
tip-block>:last-child,
warning-block>:last-child {
    margin-bottom: 0;
}

abstract-block::before,
blockquote::before,
bug-block::before,
del-block::before,
details::before,
decision-block::before,
diff-block::before,
example-block::before,
important-block::before,
ins-block::before,
note-block::before,
todo-block::before,
tip-block::before,
warning-block::before {
    position: absolute;
    left: -2.5em;
    top: 0.25em;
    width: 2em;
    height: 2em;

    content: "";
    display: inline-block;
    background-size: contain;
    background-repeat: no-repeat;

}

code,
code-block,
pre,
samp,
tt,
tt-,
.mono {
    font-family: var(--monospace-family);
    font-style: normal;
    font-variant-ligatures: none;
}

code-block:not(.borderless),
pre {
    padding: 0.5em;
    border-radius: var(--border-radius);
    box-sizing: border-box;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
}

code-block,
pre {
    font-size: 95%;
    width: 100%;
}

code-block,
pre {
    white-space: pre;
    overflow-x: auto;
}

/* INSERTIONS AND DELETIONS */

ins,
ins-lines {
    text-decoration: underline;
    font-weight: 600;
    color: var(--ins-color);
    background-color: var(--ins-background-color);
}

code-block ins,
code-block ins-lines {
    text-decoration: inherit;
}

del {
    text-decoration: line-through;
}

del,
del-lines {
    color: var(--del-color);
    background-color: var(--del-background-color);
}

ins-lines,
del-lines {
    display: inline-block;
    width: 100%;
}

ins h-,
ins-lines h-,
del h-,
del-lines h- {
    color: inherit !important;
    background-color: inherit !important;
}

kbd {
    font-family: var(--sans-serif-family);

    display: inline-block;
    padding: 0 0.25em 0.15em 0.25em;
    border-radius: 0.25em;
    white-space: nowrap;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
    box-shadow: inset 0 -0.1em 0 var(--border-color);
}

mark {
    color: var(--mark-color);
    background-color: var(--mark-background-color);
}

math:not([display=block]) {
    font-size: 120%;
}

math[display=block] {
    width: fit-content;
    margin-left: var(--indent);

    font-size: 110%;
}

g-term,
f-sans,
f-serif,
wg21-block {
    display: inline;
}

f-sans,
.sans {
    font-family: var(--sans-serif-family);
}

f-serif,
.serif {
    font-family: var(--serif-family);
}

.grammar dd,
g-term {
    font-family: var(--sans-serif-family);
    font-style: oblique;
}

.grammar {
    margin-left: var(--indent);
}

.grammar dt {
    font-weight: normal;
    font-style: normal;
}

.oblique {
    font-style: oblique;
}

.word {
    white-space: nowrap;
}

.wg21-head {
    margin-bottom: 4em;
}

.wg21-head dl {
    font-family: var(--sans-serif-family);
}

.wg21-head dt {
    font-style: normal;
}

/* HEADINGS */

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin: 1rem 0;
}

h1 {
    margin: 2rem 0 1.5rem 0;
    font-size: 250%;
}

h2 {
    margin: 2.5rem 0 1.5rem 0;
    font-size: 166%;
}

h3 {
    margin: 2rem 0 1rem 0;
    font-size: 133%;
}

h4 {
    margin: 1.5rem 0 0.5rem 0;
    font-size: 100%;
}

h5 {
    margin: 1rem 0 0.5rem 0;
    font-size: 100%;
    font-weight: normal;
}

h6 {
    margin: 1rem 0 0.5rem 0;
    font-size: 90%;
    font-weight: normal;
}

table {
    --border: 1px solid var(--table-border-color);

    margin-top: 1em;
    margin-bottom: 1em;
    border-collapse: collapse;
}

table,
tbody,
thead,
th {
    border: var(--border);
}

td {
    border-left: var(--border);
    border-right: var(--border);
}

td,
th {
    padding: 0.1em 0.5em;
}

.para {
    cursor: pointer;
    font-weight: normal;
    font-family: var(--monospace-family);
    text-decoration: none;
    opacity: 0.25;

    position: absolute;
    top: 0.05em;
    left: calc(-1rem - 0.5ch);
}

.para,
.para::before {
    color: var(--para-color);
}

.para:hover,
.para:focus,
:target .para {
    opacity: 1;
}

.para::before {
    content: "ยง";
}

/* TABLE OF CONTENTS */

.toc {
    --h-indent: 0.75em;

    display: grid;
    grid-template-columns: min-content auto;
}

.toc-num {
    display: inline-block;
    align-self: end;
    padding-right: 3em;

    letter-spacing: 0em;
}

.toc h1,
.toc h2,
.toc h3,
.toc h4,
.toc h5,
.toc h6 {
    display: inline-block;

    font-weight: 500;
    font-size: 12pt;

    margin-top: 0;
    margin-bottom: 0;
}

.toc a,
.toc-num {
    border-bottom: 1px solid rgba(0, 0, 0, 0);
    color: var(--text-color);
}

.toc h1,
.toc-num[data-level="1"] {
    font-size: 125%;
    font-weight: 900;
}

.toc h2,
.toc-num[data-level="2"] {
    font-weight: 700;
}

.toc h3,
.toc-num[data-level="3"] {
    font-weight: 500;
}

.toc h4,
.toc-num[data-level="4"] {
    font-size: 95%;
    font-weight: 400;
}

.toc h5,
.toc-num[data-level="5"] {
    font-size: 90%;
    font-weight: 300;
}

.toc h6,
.toc-num[data-level="6"] {
    font-size: 90%;
    font-weight: 100;
}

.toc a:hover {
    display: inline-block;
    width: 100%;

    color: var(--a-hover-color);
    border-bottom: 1px dashed var(--a-hover-color);
}

.toc h1:not(:nth-child(2)>h1) {
    margin-top: 1.5em;
}

.toc h2:not(:nth-child(2)>h2) {
    margin-top: 0.75em;
}

/** BIBLIOGRAPHY */

.bib {
    display: block;
    margin: 1em 0;
}

.bib-item {
    display: inline-block;
    width: 100%;
    margin: 0.25em 0;
}

.bib-item>* {
    padding: 0 0.125em;
}

.bib-author {
    font-style: italic;
}

.bib-title {
    font-weight: 500;
}

.bib-date {
    font-family: var(--monospace-family);
}

.bib-date::before {
    font-family: var(--serif-family);
    content: "(";
}

.bib-date::after {
    font-family: var(--serif-family);
    content: ")";
}

.bib-link {
    display: block;
    margin-left: var(--indent);

    font-family: var(--sans-serif-family);
    font-style: normal;
}

/* SPECIAL BLOCKS */

intro- {
    display: inline-block;

    font-weight: 600;
    text-transform: uppercase;
    font-family: var(--sans-serif-family);
}

abstract-block {
    background-color: var(--abstract-background-color);
    border-left: var(--border-thickness) solid var(--abstract-border-color);
}

abstract-block::before {
    background-image: var(--abstract-image);
}

abstract-block intro-::before {
    content: "Abstract:";
    color: var(--abstract-border-color);
}

blockquote {
    background-color: var(--blockquote-background-color);
    border-left: var(--border-thickness) solid var(--blockquote-border-color);
}

blockquote::before {
    background-image: var(--blockquote-image);
    top: -0.25em;
}

blockquote intro-::before {
    content: "Quote:";
    color: var(--blockquote-border-color);
}

bug-block {
    background-color: var(--bug-block-background-color);
    border-left: var(--border-thickness) solid var(--bug-block-border-color);
}

bug-block::before {
    background-image: var(--bug-block-image);
}

bug-block intro-::before {
    content: "Bug:";
    color: var(--bug-block-border-color);
}

del-block {
    background-color: var(--del-block-background-color);
    border-left: var(--border-thickness) solid var(--del-block-border-color);
    color: var(--del-color);
}

del-block::before {
    background-image: var(--del-block-image);
}

del-block intro-::before {
    content: "Deleted:";
    color: var(--del-block-border-color);
}

del-block code,
del-block code-block {
    color: var(--text-color);
}

details {
    background-color: var(--details-background-color);
    border-left: var(--border-thickness) solid var(--details-border-color);
}

details::before {
    background-image: var(--details-image);
}

summary {
    font-family: var(--sans-serif-family);
    color: var(--details-border-color);
    user-select: none;
    cursor: pointer;
}

details[open]>summary {
    margin-bottom: 0.5em;
}

decision-block {
    background-color: var(--decision-block-background-color);
    border-left: var(--border-thickness) solid var(--decision-block-border-color);
}

decision-block::before {
    background-image: var(--decision-block-image);
}

decision-block intro-::before {
    content: "Decision:";
    color: var(--decision-block-border-color);
}

diff-block {
    background-color: var(--diff-block-background-color);
    border-left: var(--border-thickness) solid var(--diff-block-border-color);
}

diff-block::before {
    background-image: var(--diff-block-image);
}

diff-block intro-::before {
    content: "Difference:";
    color: var(--diff-block-border-color);
}

example-block {
    background-color: var(--example-block-background-color);
    border-left: var(--border-thickness) solid var(--example-block-border-color);
}

example-block::before {
    background-image: var(--example-block-image);
}

example-block intro-::before {
    content: "Example:";
    color: var(--example-block-border-color);
}

important-block {
    background-color: var(--important-block-background-color);
    border-left: var(--border-thickness) solid var(--important-block-border-color);
}

important-block::before {
    background-image: var(--important-block-image);
}

important-block intro-::before {
    content: "Important:";
    color: var(--important-block-border-color);
}

ins-block {
    background-color: var(--ins-block-background-color);
    border-left: var(--border-thickness) solid var(--ins-block-border-color);
    color: var(--ins-color);
}

ins-block code,
ins-block code-block {
    color: var(--text-color);
}

ins-block::before {
    background-image: var(--ins-block-image);
}

ins-block intro-::before {
    content: "Inserted:";
    color: var(--ins-block-border-color);
}

note-block {
    background-color: var(--note-block-background-color);
    border-left: var(--border-thickness) solid var(--note-block-border-color);
}

note-block::before {
    background-image: var(--note-block-image);
}

note-block intro-::before {
    content: "Note:";
    color: var(--note-block-border-color);
}

tip-block {
    background-color: var(--tip-block-background-color);
    border-left: var(--border-thickness) solid var(--tip-block-border-color);
}

tip-block::before {
    background-image: var(--tip-block-image);
}

tip-block intro-::before {
    content: "Tip:";
    color: var(--tip-block-border-color);
}

todo-block {
    background-color: var(--todo-block-background-color);
    border-left: var(--border-thickness) solid var(--todo-block-border-color);
}

todo-block::before {
    background-image: var(--todo-block-image);
}

todo-block intro-::before {
    content: "Todo:";
    color: var(--todo-block-border-color);
}

warning-block {
    background-color: var(--warning-block-background-color);
    border-left: var(--border-thickness) solid var(--warning-block-border-color);
}

warning-block::before {
    background-image: var(--warning-block-image);
}

warning-block intro-::before {
    content: "Warning:";
    color: var(--warning-block-border-color);
}

.indent {
    margin-left: var(--indent);
}

/* SETTINGS MENU */

#settings:not(.js) {
    display: none;
}

#settings {
    z-index: 999;
    position: fixed;
    display: inline-block;
    top: 1em;
    right: 1em;
}

#theme-icon {
    display: block;
    width: 2.5em;
    height: 2.5em;
    cursor: pointer;
    background-image: var(--theme-icon);
    background-size: contain;
    opacity: 0.25;
}

#theme-icon:hover,
#theme-icon:focus {
    opacity: 1;
}
  </style>
  <style>
@media (prefers-color-scheme: light) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:green; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#9f6807; }
h-[data-h^=num] { color:#9f6807; }
h-[data-h^=str] { color:#9f6807; }
h-[data-h^=esc] { color:#9f6807; }
h-[data-h^=null] { color:#00607c; }
h-[data-h^=bool] { color:#9f6807; }
h-[data-h^=this] { color:#00607c; }
h-[data-h^=mac] { color:#6f4e37; }
h-[data-h^=id] { color:#000000; }
h-[data-h^=id_labl] { color:#517a0b; }
h-[data-h^=id_nt] { font-style:italic; }
h-[data-h^=id_nt_dcl] { color:#00607c; font-style:italic; }
h-[data-h^=kw] { color:#00607c; }
h-[data-h^=sym] { color:#570057; }
h-[data-h^=sym_punc] { color:#000000; }
h-[data-h^=sym_par] { color:#af1915; }
h-[data-h^=sym_sqr] { color:#af1915; }
h-[data-h^=sym_brac] { color:#af1915; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#5c477e; }
h-[data-h^=diff_eq] { color:#000000; }
h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
h-[data-h^=mk_tag] { color:#00607c; }
h-[data-h^=mk_attr] { color:#5c477e; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#00607c; }
h-[data-h^=sh-opt] { color:#000000; }
h-[data-h^=asm_ins] { color:#00607c; }
h-[data-h^=asm_ins_psu] { color:#9f6807; }
}
@media (prefers-color-scheme: dark) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#f2d18d; }
h-[data-h^=num] { color:#f2d18d; }
h-[data-h^=num_dlim] { color:#e6b191; }
h-[data-h^=num_deco] { color:#e6b191; }
h-[data-h^=str] { color:#f2d18d; }
h-[data-h^=str_dlim] { color:#e6b191; }
h-[data-h^=str_deco] { color:#e6b191; }
h-[data-h^=esc] { color:#e6aee6; }
h-[data-h^=null] { color:#62ded6; }
h-[data-h^=bool] { color:#f2d18d; }
h-[data-h^=this] { color:#62ded6; }
h-[data-h^=mac] { color:#cc946e; }
h-[data-h^=id] { color:#f0f0f0; }
h-[data-h^=id_labl] { color:#d8eda6; }
h-[data-h^=id_nt] { font-style:italic; }
h-[data-h^=id_nt_dcl] { color:#62ded6; font-style:italic; }
h-[data-h^=kw] { color:#62ded6; }
h-[data-h^=sym] { color:#baa6b9; }
h-[data-h^=sym_punc] { color:#d0d0d0; }
h-[data-h^=sym_par] { color:#fa7878; }
h-[data-h^=sym_sqr] { color:#fa7878; }
h-[data-h^=sym_brac] { color:#fa7878; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#edc385; }
h-[data-h^=diff_eq] { color:#e7e7e7; }
h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
h-[data-h^=mk_tag] { color:#62ded6; }
h-[data-h^=mk_attr] { color:#a4c4de; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#62ded6; }
h-[data-h^=sh-opt] { color:#f0f0f0; }
h-[data-h^=asm_ins] { color:#62ded6; }
h-[data-h^=asm_ins_psu] { color:#e6aee6; }
}

html.light h-[data-h^=err] { color:#ff0000; }
html.light h-[data-h^=cmt] { color:green; font-style:italic; }
html.light h-[data-h^=cmt_dlim] { font-style:normal; }
html.light h-[data-h^=val] { color:#9f6807; }
html.light h-[data-h^=num] { color:#9f6807; }
html.light h-[data-h^=str] { color:#9f6807; }
html.light h-[data-h^=esc] { color:#9f6807; }
html.light h-[data-h^=null] { color:#00607c; }
html.light h-[data-h^=bool] { color:#9f6807; }
html.light h-[data-h^=this] { color:#00607c; }
html.light h-[data-h^=mac] { color:#6f4e37; }
html.light h-[data-h^=id] { color:#000000; }
html.light h-[data-h^=id_labl] { color:#517a0b; }
html.light h-[data-h^=id_nt] { font-style:italic; }
html.light h-[data-h^=id_nt_dcl] { color:#00607c; font-style:italic; }
html.light h-[data-h^=kw] { color:#00607c; }
html.light h-[data-h^=sym] { color:#570057; }
html.light h-[data-h^=sym_punc] { color:#000000; }
html.light h-[data-h^=sym_par] { color:#af1915; }
html.light h-[data-h^=sym_sqr] { color:#af1915; }
html.light h-[data-h^=sym_brac] { color:#af1915; }
html.light h-[data-h^=diff_head] { color:#777777; }
html.light h-[data-h^=diff_head_hunk] { color:#5c477e; }
html.light h-[data-h^=diff_eq] { color:#000000; }
html.light h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
html.light h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
html.light h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
html.light h-[data-h^=mk_tag] { color:#00607c; }
html.light h-[data-h^=mk_attr] { color:#5c477e; }
html.light h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.light h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.light h-[data-h^=mk_emph] { font-style:italic; }
html.light h-[data-h^=mk_stro] { font-weight:bold; }
html.light h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.light h-[data-h^=mk_ulin] { text-decoration:underline; }
html.light h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.light h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_strk] { text-decoration:line-through; }
html.light h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.light h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=sh_cmd] { color:#00607c; }
html.light h-[data-h^=sh-opt] { color:#000000; }
html.light h-[data-h^=asm_ins] { color:#00607c; }
html.light h-[data-h^=asm_ins_psu] { color:#9f6807; }

html.dark h-[data-h^=err] { color:#ff0000; }
html.dark h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
html.dark h-[data-h^=cmt_dlim] { font-style:normal; }
html.dark h-[data-h^=val] { color:#f2d18d; }
html.dark h-[data-h^=num] { color:#f2d18d; }
html.dark h-[data-h^=num_dlim] { color:#e6b191; }
html.dark h-[data-h^=num_deco] { color:#e6b191; }
html.dark h-[data-h^=str] { color:#f2d18d; }
html.dark h-[data-h^=str_dlim] { color:#e6b191; }
html.dark h-[data-h^=str_deco] { color:#e6b191; }
html.dark h-[data-h^=esc] { color:#e6aee6; }
html.dark h-[data-h^=null] { color:#62ded6; }
html.dark h-[data-h^=bool] { color:#f2d18d; }
html.dark h-[data-h^=this] { color:#62ded6; }
html.dark h-[data-h^=mac] { color:#cc946e; }
html.dark h-[data-h^=id] { color:#f0f0f0; }
html.dark h-[data-h^=id_labl] { color:#d8eda6; }
html.dark h-[data-h^=id_nt] { font-style:italic; }
html.dark h-[data-h^=id_nt_dcl] { color:#62ded6; font-style:italic; }
html.dark h-[data-h^=kw] { color:#62ded6; }
html.dark h-[data-h^=sym] { color:#baa6b9; }
html.dark h-[data-h^=sym_punc] { color:#d0d0d0; }
html.dark h-[data-h^=sym_par] { color:#fa7878; }
html.dark h-[data-h^=sym_sqr] { color:#fa7878; }
html.dark h-[data-h^=sym_brac] { color:#fa7878; }
html.dark h-[data-h^=diff_head] { color:#777777; }
html.dark h-[data-h^=diff_head_hunk] { color:#edc385; }
html.dark h-[data-h^=diff_eq] { color:#e7e7e7; }
html.dark h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
html.dark h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
html.dark h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
html.dark h-[data-h^=mk_tag] { color:#62ded6; }
html.dark h-[data-h^=mk_attr] { color:#a4c4de; }
html.dark h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.dark h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.dark h-[data-h^=mk_emph] { font-style:italic; }
html.dark h-[data-h^=mk_stro] { font-weight:bold; }
html.dark h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.dark h-[data-h^=mk_ulin] { text-decoration:underline; }
html.dark h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.dark h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_strk] { text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=sh_cmd] { color:#62ded6; }
html.dark h-[data-h^=sh-opt] { color:#f0f0f0; }
html.dark h-[data-h^=asm_ins] { color:#62ded6; }
html.dark h-[data-h^=asm_ins_psu] { color:#e6aee6; }
  </style>
  <script>
const theme = localStorage.getItem("cowel-theme");
if (theme !== null) {
    document.documentElement.className = theme;
}
  </script>
<title>Fixing std::bit_cast of typeswith padding bits</title></head>
<body>
<div id=settings tabindex=0>
    <div id=theme-icon></div>
    <script>
        const settings = document.getElementById("settings");
        const htmlClasses = document.documentElement.classList;
        const themeIcon = document.getElementById("theme-icon");

        settings.classList.add("js");
        themeIcon.onclick = () => {
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)");
            const overrideClass = prefersDark.matches ? "light" : "dark";
            if (htmlClasses.contains("light")) {
                htmlClasses.remove("light");
                localStorage.removeItem("cowel-theme");
            } else if (htmlClasses.contains("dark")) {
                htmlClasses.remove("dark");
                localStorage.removeItem("cowel-theme");
            } else {
                htmlClasses.add(overrideClass);
                // to avoid legal issues or controversy in general,
                // we don't mess with local storage when the page is hosted in arbitrary places
                if (window.location.protocol === "file:") {
                    localStorage.setItem("cowel-theme", overrideClass);
                }
            }
        };
        settings.onkeydown = (e) => {
            if (e.key === "Enter" || e.key === " ") {
                event.preventDefault();
                themeIcon.onclick();
            }
        };
    </script>
</div>
<main>
<style>
  html {
    --light-edit-note-block-border-color: #6faba9;
    --light-edit-note-block-background-color: #e6f4f3;
    --light-edit-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba9"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');

    --dark-edit-note-block-border-color: #6faba9;
    --dark-edit-note-block-background-color: #232f30;
    --dark-edit-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba9"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');

    --light-diff-comment-color: #386a57ff;
    --dark-diff-comment-color: #a7c7bbff;
  }

  @media (prefers-color-scheme: light) {
    html {
      --edit-note-block-border-color: var(--light-edit-note-block-border-color);
      --edit-note-block-background-color: var(--light-edit-note-block-background-color);
      --edit-note-block-image: var(--light-edit-note-block-image);
      --diff-comment-color: var(--light-diff-comment-color);
    }
  }
  @media (prefers-color-scheme: dark) {
    html {
      --edit-note-block-border-color: var(--dark-edit-note-block-border-color);
      --edit-note-block-background-color: var(--dark-edit-note-block-background-color);
      --edit-note-block-image: var(--dark-edit-note-block-image);
      --diff-comment-color: var(--dark-diff-comment-color);
    }
  }
  html.light {
    --edit-note-block-border-color: var(--light-edit-note-block-border-color);
    --edit-note-block-background-color: var(--light-edit-note-block-background-color);
    --edit-note-block-image: var(--light-edit-note-block-image);
    --diff-comment-color: var(--light-diff-comment-color);
  }
  html.dark {
    --edit-note-block-border-color: var(--dark-edit-note-block-border-color);
    --edit-note-block-background-color: var(--dark-edit-note-block-background-color);
    --edit-note-block-image: var(--dark-edit-note-block-image);
    --diff-comment-color: var(--dark-diff-comment-color);
  }

  note-block.edit {
    background-color: var(--edit-note-block-background-color);
    border-left: var(--border-thickness) solid var(--edit-note-block-border-color);
  }

  note-block.edit::before {
    background-image: var(--edit-note-block-image);
  }

  note-block.edit intro-::before {
    content: "Drafting note:";
    color: var(--edit-note-block-border-color);
  }

  ins-block .para::before {
    display: none;
  }

  .grammar dd {
    margin-top: 0;
    margin-bottom: 0;
  }

  .opt {
    font-family: var(--serif-family);
    font-style: oblique;
  }

  .normal {
    font-style: normal;
    font-family: var(--serif-family);
  }

  .stable-ref {
    float: right;
  }

  .five-way-poll {
    table-layout: fixed;
  }
  .five-way-poll td {
    width: 20%;
    text-align: center;
  }

  q::before {
    content: "โ";
  }
  q::after {
    content: "โ";
  }

  diff-block h-[data-h^=cmt],
  html.light diff-block h-[data-h^=cmt],
  html.dark diff-block h-[data-h^=cmt] {
    color: var(--diff-comment-color);
  }
</style>

<div class=wg21-head><h1>Fixing <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> of types<br/>with padding bits</h1>

<dl>
  <dt>Document number:</dt> <dd><a href=https://wg21.link/P3969R0>P3969R0</a></dd>
  <dt>Date:</dt>            <dd><tt->2026-02-20</tt-></dd>
  <dt>Audience:</dt>        <dd>LEWG</dd>
  <dt>Project:</dt>         <dd>ISO/IEC 14882 Programming Languages โ C++, ISO/IEC JTC1/SC22/WG21</dd>
  <dt>Reply-to:</dt>        <dd>Jan Schultke &lt;<a href=mailto:janschultke@gmail.com class=sans>janschultke@gmail.com</a>&gt;</dd>
  <dt>GitHub Issue:</dt>    <dd><a href=https://wg21.link/P3969/github class=sans>wg21.link/P3969/github</a></dd>
  <dt>Source:</dt>          <dd><a href=https://github.com/eisenwave/cpp-proposals/blob/master/src/bit-cast-padding.cow class=sans>github.com/eisenwave/cpp-proposals/blob/master/src/bit-cast-padding.cow</a></dd>
</dl>
<hr/>
</div>

<abstract-block><p><intro-></intro-> 
When bit-casting a type containing padding bits to a type with no padding bits,
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> degenerates into an alternative spelling for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>unreachable</h-></code>
(some exceptions apply).
Two viable solutions to the problem are presented:
diagnosing <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>
and adding a <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code> function with alternative behavior,
or simply changing the current behavior of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>.
</p></abstract-block>

<h2 id=contents><a class=para href=#contents></a>Contents</h2>

<div class=toc><div class=toc-num data-level=2>1</div>
<a href=#introduction><h2>Introduction</h2></a>
<div class=toc-num data-level=2>2</div>
<a href=#design><h2>Design</h2></a>
<div class=toc-num data-level=3>2.1</div>
<a href=#advantages-of-the-two-function-solution><h3>Advantages of the two-function solution</h3></a>
<div class=toc-num data-level=3>2.2</div>
<a href=#advantages-of-the-single-function-solution><h3>Advantages of the single-function solution</h3></a>
<div class=toc-num data-level=3>2.3</div>
<a href=#cant-you-clear-padding-bits-before-bit-casting><h3>Can't you clear padding bits before bit-casting?</h3></a>
<div class=toc-num data-level=4>2.3.1</div>
<a href=#padding-bits-are-finicky><h4>Padding bits are finicky</h4></a>
<div class=toc-num data-level=4>2.3.2</div>
<a href=#no-padding-bits-during-constant-evaluation><h4>No padding bits during constant evaluation</h4></a>
<div class=toc-num data-level=4>2.3.3</div>
<a href=#std::clear_padding-is-not-ergonomic-for-bit-casting><h4><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> is not ergonomic for bit-casting</h4></a>
<div class=toc-num data-level=4>2.3.4</div>
<a href=#std::clear_padding-is-less-capable><h4><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> is less capable</h4></a>
<div class=toc-num data-level=3>2.4</div>
<a href=#cant-you-make-std::bit_cast-produce-unspecified-or-erroneous-values><h3>Can't you make <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> produce unspecified or erroneous values?</h3></a>
<div class=toc-num data-level=3>2.5</div>
<a href=#constraints-vs-mandates-for-the-two-function-solution><h3><i>Constraints</i> vs <i>Mandates</i> for the two-function solution</h3></a>
<div class=toc-num data-level=3>2.6</div>
<a href=#bit-cast-constant-evaluation-undefined-behavior><h3>Requiring <tt->std::bit_cast</tt-> UB to be diagnosed in constant expressions</h3></a>
<div class=toc-num data-level=3>2.7</div>
<a href=#bumping-the-feature-test-macro><h3>Bumping the feature-test macro</h3></a>
<div class=toc-num data-level=2>3</div>
<a href=#implementation-experience><h2>Implementation experience</h2></a>
<div class=toc-num data-level=2>4</div>
<a href=#wording><h2>Wording</h2></a>
<div class=toc-num data-level=3>4.1</div>
<a href=#two-function-solution><h3>Two-function solution</h3></a>
<div class=toc-num data-level=4>4.1.1</div>
<a href=#version%2esyn><h4>[version.syn]</h4></a>
<div class=toc-num data-level=4>4.1.2</div>
<a href=#bit%2esyn><h4>[bit.syn]</h4></a>
<div class=toc-num data-level=4>4.1.3</div>
<a href=#bit%2ecast><h4>[bit.cast]</h4></a>
<div class=toc-num data-level=3>4.2</div>
<a href=#single-function-solution><h3>Single-function solution</h3></a>
<div class=toc-num data-level=4>4.2.1</div>
<a href=#single-functin-version-syn-wording><h4>[version.syn]</h4></a>
<div class=toc-num data-level=4>4.2.2</div>
<a href=#single-functin-bit-cast-wording><h4>[bit.cast]</h4></a>
<div class=toc-num data-level=2>5</div>
<a href=#references><h2>References</h2></a>
</div>

<h2 id=introduction><a class=para href=#introduction></a>1. Introduction</h2>

<bug-block><p><intro-></intro-> 
The following use of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> has undefined behavior at compile time:
</p><code-block><h- data-h=kw>constexpr</h-> <h- data-h=kw>auto</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=num_dlim>.</h-><h- data-h=num>0</h-><h- data-h=num_deco>L</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> GCC accepts (x = 0), Clang rejects</h-></code-block>
<p>That is because an 80-bit x87 <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code> has 6 bytes of padding,
and it is undefined behavior to map those padding bits onto non-padding bits
in the destination type via <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>.
<a href=https://eel.is/c++draft/bit.cast>[bit.cast]</a> does not disqualify this use of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>
from being a constant expression.
</p></bug-block>

<p>Surprisingly, the undefined behavior in such cases does not depend on the argument.
A specialization <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>To</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h-></code> is an alternative spelling for
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>unreachable</h-></code> if <code><h- data-h=id>From</h-></code> has padding bits and <code><h- data-h=id>To</h-></code> does not,
a <dfn>degenerate form</dfn>.
Despite not depending on the argument,
the degenerate form of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> does not violate the
<i>Constraints</i> or <i>Mandates</i> element,
leaving the bug undetected.
Compilers also have no warning for the degenerate form at the time of writing.
</p>
<note-block><p><intro-></intro-> 
If those padding paddings in <code><h- data-h=id>From</h-></code> are all mapped onto
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>byte</h-></code> or <code><h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>char</h-></code> objects within <code><h- data-h=id>To</h-></code>,
the behavior is well-defined.
</p></note-block>

<p>This behavior is a footgun, and is not very useful.
If users wanted a function that always has UB,
they should be writing <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>unreachable</h-></code>, not <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>.
</p>
<p>Furthermore, it would be useful if bit-casting between <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code>
and a 128-bit integer type was easily possible.
After all, reinterpreting floating-point types and integer types
is part and parcel of implementing mathematical functions like those in <code><h- data-h=str>&lt;cmath&gt;</h-></code>.
It would also be useful if this could be done portably in constant expressions.
Another case where the degenerate form may arise frequently is bit-casting <code><h- data-h=kw_type>_BitInt</h-></code>
(supported by Clang as an extension and proposed in <a href="https://wg21%2elink/p3666r2">[P3666R2]</a>),
considering that most <code><h- data-h=kw_type>_BitInt</h-></code> types (at least 7/8) have padding bits.
</p>
<note-block><p><intro-></intro-> 
It is possible to implement a proper conversion from <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code>
to <code><h- data-h=kw_type>__int128</h-></code>, although it requires multiple steps:
</p><code-block><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> OK because indeterminate bits go into unsigned char:</h->
<h- data-h=kw>auto</h-> <h- data-h=id>bytes</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>array</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>16</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=num_dlim>.</h-><h- data-h=num>0</h-><h- data-h=num_deco>L</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw_ctrl>for</h-> <h- data-h=sym_par>(</h-><h- data-h=kw_type>int</h-> <h- data-h=id>i</h-> <h- data-h=sym_punc>:</h-> <h- data-h=sym_brac>{</h-> <h- data-h=num>10</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>11</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>12</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>13</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>14</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>15</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h-> <h- data-h=id>bytes</h-><h- data-h=sym_sqr>[</h-><h- data-h=id>i</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>auto</h-> <h- data-h=id>result</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>bytes</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>
<p>Another possible workaround is to use a <code><h- data-h=kw>struct</h-></code>
containing a <code><h- data-h=kw_type>__int128</h-> <h- data-h=id>x</h-><h- data-h=sym_punc>:</h-><h- data-h=num>80</h-></code> bit-field,
under the assumption those 80 bits line up with those in <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code>.
</p></note-block>

<note-block><p><intro-></intro-> 
The GCC behavior in the example above is more accurately explained by <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code>
having no padding bytes.
From a C++ standard perspective, GCC's <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code>
is a type with no padding bytes, but six upper bytes that are always zero
(assuming any of this behavior is intentional and not just a compiler bug):
</p><code-block><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> OK: uppermost byte is not a padding byte, but is zero</h->
<h- data-h=kw>static_assert</h-><h- data-h=sym_par>(</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>array</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>16</h-><h- data-h=sym_op>&gt;&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=num_dlim>.</h-><h- data-h=num>0</h-><h- data-h=num_deco>L</h-><h- data-h=sym_par>)</h-><h- data-h=sym_sqr>[</h-><h- data-h=num>15</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_op>==</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> UB: forms a long double whose value representation is not valid for the type</h->
<h- data-h=kw>constexpr</h-> <h- data-h=kw>auto</h-> <h- data-h=id>f</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>-</h-><h- data-h=num>1</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Passes on GCC, despite bit_cast having set all bytes of f to -1,</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> and despite long double having no padding bytes judging by the previous assertion:</h->
<h- data-h=kw>static_assert</h-><h- data-h=sym_par>(</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>array</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>16</h-><h- data-h=sym_op>&gt;&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>f</h-><h- data-h=sym_par>)</h-><h- data-h=sym_sqr>[</h-><h- data-h=num>15</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_op>==</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>
<p>GCC compiles this code;
Clang already rejects both assertions.
</p></note-block>

<h2 id=design><a class=para href=#design></a>2. Design</h2>

<p>To address these issues with <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>,
there are two viable approaches:
</p>
<ol>
  <li>
    Make the degenerate form of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> ill-formed.
    Also add a new <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code> function
    which treats padding bits in the source as zero instead of as indeterminate.
    Other than that, this new function has the same behavior as <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>.
  </li>
  <li>
    Make <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> behave like <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code>
    without adding any new function.
    This should be done as a DR against C++20.
  </li>
</ol>

<p>These are referred to as the
<dfn>two-function solution</dfn> and <dfn>single-function solution</dfn> below, respectively.
</p>
<h3 id=advantages-of-the-two-function-solution><a class=para href=#advantages-of-the-two-function-solution></a>2.1. Advantages of the two-function solution</h3>

<p>The single-function solution is problematic because <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>
can be used to convert padded types to a byte array without undefined behavior
and with zero overhead.
Wiping padding bits would add more cost to existing code.
With only a single function, there is also no way to opt out of that cost
other than using <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>memcpy</h-></code> instead,
and that only works outside of constant evaluation.
</p>
<p>Furthermore, if users assumed <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> to clear padding,
they may inadvertently access uninitialized memory on older compiler versions,
where that behavior is not implemented yet.
Perfectly well-defined C++29 code with no erroneous behavior
that uses <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> could be copied and pasted into older code bases,
and suddenly obtain undefined behavior.
</p>
<p>Last but not least,
users may be surprised by <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> changing the value of any bits.
Conceptually, it is a reinterpretation of existing bits as a new type,
and it is desirable to express behavior like zeroing of padding explicitly.
This surprising behavior may also sweep developer mistakes under the rug;
bit-casting a padded type to an unpadded type may happen unintentionally,
and if it was diagnosed, it would inform the user about incorrect assumptions.
That often seems more desirable than just zeroing the padding bits
and thus silencing any problems.
</p>
<h3 id=advantages-of-the-single-function-solution><a class=para href=#advantages-of-the-single-function-solution></a>2.2. Advantages of the single-function solution</h3>

<p>The obvious benefit of changing the behavior of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>
is that existing UB in users' code disappears,
without any refactoring effort.
This would especially be the case if the proposal is treated as a DR against C++20.
</p>
<p>Additionally,
some may argue that <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code> should be the default anyway,
considering that it's <q>safer</q> to use.
</p>
<p>The single-function solution is also easier to implement;
it only requires a single <code><h- data-h=id>__builtin_bit_cast</h-></code> intrinsic to be maintained.
</p>
<h3 id=cant-you-clear-padding-bits-before-bit-casting><a class=para href=#cant-you-clear-padding-bits-before-bit-casting></a>2.3. Can't you clear padding bits before bit-casting?</h3>

<p>In the discussion of this proposal prior to publication,
it was suggested to clear the padding <em>before</em> bit-casting.
That is, standardizing
<a href=https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#index-_005f_005fbuiltin_005fclear_005fpadding><tt->__builtin_clear_padding</tt-></a>
and using an idiom such as:
</p>
<code-block><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>=</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-><h- data-h=sym_punc>;</h->
<h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<p>However, there are severe problems with this aproach, explained below.
</p>
<h4 id=padding-bits-are-finicky><a class=para href=#padding-bits-are-finicky></a>2.3.1. Padding bits are finicky</h4>

<p>There are only a few places in the standard where padding bits
receive a useful value.
For example, zero-initialization is also stated to result in
padding bits being zeroed (<a href=https://eel.is/c++draft/dcl.init.general#def:zero-initialization>[dcl.init.general] definition of "zero-initialization"</a>).
In most scenarios (e.g. local variables),
the padding bits have erroneous or indeterminate value.
Even when the padding bits have defined value,
lvalue-to-rvalue conversion does not propagate padding bits,
and the assignment operator may render them indeterminate or erroneous.
</p>
<p>This makes it highly questionable to access padding bits
and rely on them having any specific value.
If the user forgets to write <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> or falsely assumes
that padding bits are already cleared,
they could easily acccess uninitialized memory
(which may be a security vulnerability).
</p>
<h4 id=no-padding-bits-during-constant-evaluation><a class=para href=#no-padding-bits-during-constant-evaluation></a>2.3.2. No padding bits during constant evaluation</h4>

<p>Besides the safety issues,
the approach of clearing padding bits in the object
does not make any sense for constant evaluation.
For instance, Clang does not store an object representation for values
during constant evaluation.
When bit-casting, one is generated <q>on the fly</q>.
</p>
<p>This would likely mean that <code><h- data-h=kw>constexpr</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> is effectively
unimplementable in current compilers.
</p>
<h4 id=std::clear_padding-is-not-ergonomic-for-bit-casting><a class=para href=#std::clear_padding-is-not-ergonomic-for-bit-casting></a>2.3.3. <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> is not ergonomic for bit-casting</h4>

<p>We typically pass large types by reference,
even if they are trivially copyable.
Assuming we want to cast a type <code><h- data-h=id>BigT</h-></code> to another type <code><h- data-h=id>BigU</h-></code>
while clearing padding,
the procedure has a lot of steps:
</p>
<code-block><h- data-h=kw_type>__int128</h-> <h- data-h=id>cast</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-> <h- data-h=id>x</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> 1. Clear padding.</h->
  <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> 2. Create a variable for holding the result.</h->
  <h- data-h=kw_type>__int128</h-> <h- data-h=id>result</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> 3. Use std::memcpy to convert the bits.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    This is necessary because std::bit_cast ignores the values of</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    padding bits in the original, so even though we've cleared them,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    they would not be propagated.</h->
  <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>memcpy</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>&amp;</h-><h- data-h=id>result</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>&amp;</h-><h- data-h=id>x</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> 4. Return the result.</h->
  <h- data-h=kw_ctrl>return</h-> <h- data-h=id>result</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_brac>}</h-></code-block>

<p>This procedure gets even more complicated when we receive a <code><h- data-h=kw>const</h-><h- data-h=sym_op>&amp;</h-></code>
or operate on a <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>const</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code>,
in which case we need to create a temporary variable that we can mutate
with <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code>.
</p>
<p>Regardless, this procedure is fairly complex compared to using a
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code> function that does it all in one go.
All of that complexity yields no advantage;
even if <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> was <code><h- data-h=kw>constexpr</h-></code>,
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>memcpy</h-></code> isn't,
so <code><h- data-h=id>cast</h-></code> cannot be made <code><h- data-h=kw>constexpr</h-></code>.
</p>
<h4 id=std::clear_padding-is-less-capable><a class=para href=#std::clear_padding-is-less-capable></a>2.3.4. <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> is less capable</h4>

<p>Last but not least, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> is strictly less capable
than <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code>
because <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> (at least with current compiler technology)
is not a viable solution during constant evaluation.
However, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>clear_padding</h-></code> can be implemented
in terms of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code>:
</p>
<code-block><h- data-h=kw>template</h-> <h- data-h=sym_op>&lt;</h-><h- data-h=kw>typename</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
<h- data-h=kw_type>void</h-> <h- data-h=id>clear_padding</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>object</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> 1. Convert to a byte array.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    All the input padding bits are cleared,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    and there are not padding bits in a byte array.</h->
  <h- data-h=kw>auto</h-> <h- data-h=id>zeroed</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>array</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_par>)</h-><h- data-h=sym_op>&gt;&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>object</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> 2. Copy the bytes back into the object.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    The bits in the value representation have not been changed,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt>    so this does not change the value of T, only the values of padding bits.</h->
  <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>memcpy</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>&amp;</h-><h- data-h=id>object</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>&amp;</h-><h- data-h=id>zeroed</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_brac>}</h-></code-block>

<h3 id=cant-you-make-std::bit_cast-produce-unspecified-or-erroneous-values><a class=para href=#cant-you-make-std::bit_cast-produce-unspecified-or-erroneous-values></a>2.4. Can't you make <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> produce unspecified or erroneous values?</h3>

<p>A possible approach would be to make <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> produce
unspecified bit values instead of indeterminate bit values.
That is, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=num_dlim>.</h-><h- data-h=num>0</h-><h- data-h=num_deco>L</h-><h- data-h=sym_par>)</h-></code> would create a <code><h- data-h=kw_type>__int128</h-></code>
with 10 predictable bytes and 6 bytes with unspecified value.
There are two problems with this idea:
</p><ul>
  <li>
    Since the byte values are now unspecified,
    UBSan (undefined behavior sanitizer) can no longer diagnose accessing/branching
    based on the upper 6 bytes as a bug.
    The bug (possibly CWE-908: Use of Uninitialized Resource) didn't go away,
    it just became non-conforming to diagnose it with termination.
  </li>
  <li>
    This approach should not work for constant evaluation
    because it would add non-determinism at compile time.
  </li>
</ul>

<p>Overall, this design <q>sweeps the problem under the rug</q> with little to no benefit to the user.
</p>
<p>It is also possible to make the result have erroneous value.
However, once again, this approach could not be used to portably
bit-cast <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code> to <code><h- data-h=kw_type>__int128</h-></code>,
especially not during constant evaluation;
the degenerate form of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> would then always produce erroneous values,
so it makes no sense to let it compile in the first place.
This solution would only benefit the case of bit-casting to a byte array;
perhaps that is worth pursuing,
but the only way not to add cost to <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> (with no opt-out)
would be to give the bytes an unspecified value
that is considered an erroneous value.
This provides minimal (if any) benefit,
and could be explored in a separate paper;
it is a separate issue from the one presented in this paper.
</p>
<h3 id=constraints-vs-mandates-for-the-two-function-solution><a class=para href=#constraints-vs-mandates-for-the-two-function-solution></a>2.5. <i>Constraints</i> vs <i>Mandates</i> for the two-function solution</h3>

<p>The degenerate form of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> should be diagnosed using
a <i>Mandates</i> element (that is, <code><h- data-h=kw>static_assert</h-></code>).
That is because the condition for the degenerate form
is relatively complicated and may change in the future.
Also, <i>Constraints</i> tempts the user to test whether <code><h- data-h=id>bit_cast</h-></code>
is <q>safe</q> using <code><h- data-h=kw>requires</h-></code>,
but this test can have false positives.
The detection of the degenerate form would only tell the user whether
<em>all</em> possible arguments result in undefined behavior.
</p>
<p>Conceptually, <i>Constraints</i> for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>
should tell the user whether bit-casting is technically feasible
due to sizes matching and types being trivially copyable,
whereas <i>Mandates</i> should catch misuses such as passing
consteval-only types or types that result in the degenerate form.
</p>
<h3 id=bit-cast-constant-evaluation-undefined-behavior><a class=para href=#bit-cast-constant-evaluation-undefined-behavior></a>2.6. Requiring <tt->std::bit_cast</tt-> UB to be diagnosed in constant expressions</h3>

<p><a href=https://eel.is/c++draft/bit.cast#4.2>[bit.cast] paragraph 4, bullet 2</a> explicitly makes indeterminate result bits undefined behavior
<em>inside</em> <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>,
which arguably makes it <q>library UB</q>,
which is generally not required to be diagnosed during constant evaluation.
</p>
<p>I argue that it should be diagnosed,
both for the two-function and single-function solution.
While <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> is <em>technically</em> a library feature,
it is spiritually a core language feature,
and just acts as a portable spelling for the underlying
<code><h- data-h=id>__builtin_bit_cast</h-></code> intrinsic in compilers.
Core language UB is generally diagnosed as per <a href=https://eel.is/c++draft/expr.const>[expr.const]</a>.
</p>
<p>It should be noted that <a href="https://wg21%2elink/p0476r1">[P0476R1]</a> never motivated this lack of diagnostics,
and it is likely wording defect.
After all, in the cases where <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> has library UB,
it also produces an indeterminate result,
and constant expressions do not allow for indeterminate scalar prvalues
(<a href=https://eel.is/c++draft/expr.const#def:expression,constant>[expr.const] definition of "expression,constant"</a>).
However, crucially, the library UB taking place inside <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code>
precedes the <a href=https://eel.is/c++draft/expr.const>[expr.const]</a> policy on what how indeterminate
results are treated once a function has returned.
Once any library UB happens, everything is UB,
so the policy in <a href=https://eel.is/c++draft/expr.const>[expr.const]</a> arguably does not apply.
</p>
<h3 id=bumping-the-feature-test-macro><a class=para href=#bumping-the-feature-test-macro></a>2.7. Bumping the feature-test macro</h3>

<p>For both the two-function and single-function solution,
the <code><h- data-h=id>__cpp_lib_bit_cast</h-></code> macro should be bumped:
</p><ul>
  <li>
    For the two-function solution,
    this lets the user detect the presence of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code>.
  </li>
  <li>
    For the single-function solution,
    this lets the user detect whether they can evaluate
    <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>__int128</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=num_dlim>.</h-><h- data-h=num>0</h-><h- data-h=num_deco>L</h-><h- data-h=sym_par>)</h-></code> without undefined behavior.
  </li>
</ul>

<h2 id=implementation-experience><a class=para href=#implementation-experience></a>3. Implementation experience</h2>

<p>First, it should be noted that compilers behave radically differently.
</p>
<example-block><p><intro-></intro-> 
</p><code-block><h- data-h=mac>#include &lt;bit&gt;</h->
<h- data-h=kw>struct</h-> <h- data-h=kw>alignas</h-><h- data-h=sym_par>(</h-><h- data-h=num>4</h-><h- data-h=sym_par>)</h-> <h- data-h=id>empty</h-> <h- data-h=sym_brac>{</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>constexpr</h-> <h- data-h=kw>auto</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>int</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>empty</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>static_assert</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-> <h- data-h=sym_op>==</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<p>At the time of writing, GCC and Clang reject the example
because it is considered access of an uninitialized byte.
MSVC accepts the example, and the assertion passes.
</p></example-block>

<p>It appears that the proposed behavior of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast_zero_padding</h-></code>
(which is the behavior of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bit_cast</h-></code> in the single-function solution)
is already implemented by MSVC,
and to a limited extent, by GCC.
</p>
<p>There is no implementation experience for the detection of the degenerate form
in the two-function solution,
and such detection would require compiler support
because there exists no way to query which bits or bytes of a type are padding bits,
or whether a type has padding bits in the first place.
</p>
<note-block><p><intro-></intro-> 
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>has_unique_object_representations_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>float</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>true</h-></code>
despite <code><h- data-h=kw_type>float</h-></code> not having padding bits.
These false positives make it not suitable for detecting the presence of padding bits.
</p></note-block>

<h2 id=wording><a class=para href=#wording></a>4. Wording</h2>

<p>The changes are relative to <a href="https://wg21%2elink/n5032">[N5032]</a>.
</p>
<decision-block><p><intro-></intro-> 
Based on LEWG feedback,
one of the following two sections should be chosen.
</p></decision-block>

<h3 id=two-function-solution><a class=para href=#two-function-solution></a>4.1. Two-function solution</h3>

<h4 id=version.syn><a class=para href=#version%2esyn></a>[version.syn]</h4>

<p>Bump the feature-test macro in <a href=https://eel.is/c++draft/version.syn>[version.syn]</a> as follows:
</p>
<ins-block>
<code-block class=borderless><h- data-h=mac>#define __cpp_lib_bit_cast </h-><del><h- data-h=mac>201806L</h-></del><h- data-h=mac> </h-><ins><h- data-h=mac>20XXXXL</h-></ins><h- data-h=mac> </h-><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding, also in </h-><tt-><h- data-h=cmt>&lt;bit&gt;</h-></tt-></f-serif></code-block>
</ins-block>

<h4 id=bit.syn><a class=para href=#bit%2esyn></a>[bit.syn]</h4>

<p>Change <a href=https://eel.is/c++draft/bit.syn>[bit.syn]</a> as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=cmt_dlim>//</h-><f-serif><h- data-h=cmt> all freestanding</h-></f-serif>
<h- data-h=kw>namespace</h-> <h- data-h=id>std</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=cmt_dlim>//</h-><f-serif><h- data-h=cmt> [bit.cast], </h-><del><code><h- data-h=id>bit_cast</h-></code></del><h- data-h=cmt> </h-><ins><h- data-h=cmt>bit-casting</h-></ins></f-serif>
  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>To</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=id>To</h-> <h- data-h=id>bit_cast</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>from</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>noexcept</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>To</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=id>To</h-> <h- data-h=id>bit_cast_zero_padding</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>from</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>noexcept</h-><h- data-h=sym_punc>;</h-></ins>

  [โฆ]
<h- data-h=sym_brac>}</h-></code-block>
</diff-block>

<h4 id=bit.cast><a class=para href=#bit%2ecast></a>[bit.cast]</h4>

<p>Change <a href=https://eel.is/c++draft/bit.cast>[bit.cast]</a> as follows:
</p>
<diff-block>
<h3><del>Function template <code><h- data-h=id>bit_cast</h-></code></del> <ins>Bit-casting</ins> <span class=stable-ref>[bit.cast]</span></h3>

<code-block class=borderless><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>To</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id>To</h-> <h- data-h=id>bit_cast</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>from</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>noexcept</h-><h- data-h=sym_punc>;</h-></code-block>

<div class=indent>
<p><i>Constraints</i>:
</p><ul>
  <li><code><h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>To</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>==</h-> <h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>From</h-><h- data-h=sym_par>)</h-></code> is <code><h- data-h=bool>true</h-></code>;</li>
  <li><code><h- data-h=id>is_trivially_copyable_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>To</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>true</h-></code>;</li>
  <li><code><h- data-h=id>is_trivially_copyable_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>true</h-></code>.</li>
</ul>

<p><i>Mandates</i>:
</p><ul>
  <li>
    Neither <code><h- data-h=id>To</h-></code> nor <code><h- data-h=id>From</h-></code> are consteval-only types (<a href=https://eel.is/c++draft/basic.types.general>[basic.types.general]</a>)<del>.</del>
    <ins>; and</ins>
  </li>
  <li><ins>
    for some argument of type <code><h- data-h=id>From</h-></code>,
    the result of the function call expression is well-defined.
  </ins></li>
</ul>

<p><i>Constant When</i>:
<code><h- data-h=id>To</h-></code>, <code><h- data-h=id>From</h-></code>, and the types of all subobjects of <code><h- data-h=id>To</h-></code> and <code><h- data-h=id>From</h-></code>
are types <code><h- data-h=id>T</h-></code> such that:
</p><ul>
  <li><code><h- data-h=id>is_union_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>is_pointer_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>is_member_pointer_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>is_volatile_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>T</h-></code> has no non-static data members of reference type.</li>
</ul>

<p><i>Returns</i>:
An object of type <code><h- data-h=id>To</h-></code>.
Implicitly creates objects nested within the result (<a href=https://eel.is/c++draft/intro.object>[intro.object]</a>).
Each bit of the value representation of the result
is equal to the corresponding bit in the object representation of <code><h- data-h=id>from</h-></code>.
Padding bits of the result are unspecified.
For the result and each object created within it,
if there is no value of the object's type corresponding to the value representation produced,
the behavior is undefined.
If there are multiple such values,
which value is produced is unspecified.
A bit in the value representation of the result is indeterminate
if it does not correspond to a bit in the value representation of <code><h- data-h=id>from</h-></code>
or corresponds to a bit for which the smallest enclosing object
is not within its lifetime or has an indeterminate value (<a href=https://eel.is/c++draft/basic.indet>[basic.indet]</a>).
A bit in the value representation of the result is erroneous
if it corresponds to a bit for which the smallest enclosing object has an erroneous value.
For each bit <math display=inline><mi>b</mi></math> in the value representation of the result
that is indeterminate or erroneous,
let <math display=inline><mi>u</mi></math> be the smallest object containing that bit enclosing <math display=inline><mi>b</mi></math>:
</p><ul>
  <li>
    If <math display=inline><mi>u</mi></math> is of unsigned ordinary character type or <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>byte</h-></code> type,
    <math display=inline><mi>u</mi></math> has an indeterminate value
    if any of the bits in its value representation are indeterminate,
    or otherwise has an erroneous value.
  </li>
  <li>
    Otherwise, if <math display=inline><mi>b</mi></math> is indeterminate,
    the behavior is undefined.
  </li>
  <li>
    Otherwise, the behavior is erroneous,
    and the result is as specified above.
  </li>
</ul>
<p>The result does not otherwise contain any indeterminate or erroneous values.
</p>
<p><ins>
<i>Remarks</i>:
A function call expression whose behavior is undefined as per the <i>Returns</i> element
is not a core constant expression (<a href=https://eel.is/c++draft/expr.const>[expr.const]</a>).
</ins>
</p></div>
</diff-block>

<p>Append the following declaration to <a href=https://eel.is/c++draft/bit.cast>[bit.cast]</a>:
</p>
<ins-block>
<code-block class=borderless><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>To</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id>To</h-> <h- data-h=id>bit_cast_zero_padding</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>from</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>noexcept</h-><h- data-h=sym_punc>;</h-></code-block>

<div class=indent>
<p><i>Effects</i>:
Equivalent to <code><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>To</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>from</h-><h- data-h=sym_par>)</h-></code>,
except that if a bit <math display=inline><mi>b</mi></math> in the value representation of the result
does not correspond to a bit in the value representation of <code><h- data-h=id>from</h-></code>,
<math display=inline><mi>b</mi></math> is zero, not indeterminate.
</p>
<p>[<i>Example</i>: 
The following example assumes that
<code><h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>S</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>==</h-> <h- data-h=num>1</h-></code> is <code><h- data-h=bool>true</h-></code>.
</p><code-block class=borderless><h- data-h=kw>struct</h-> <h- data-h=id>S</h-> <h- data-h=sym_brac>{</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw_type>void</h-> <h- data-h=id>f</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>S</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->               <h- data-h=cmt_dlim>//</h-><f-serif><h- data-h=cmt> error: </h-><code><h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char8_t</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>S</h-><h- data-h=sym_op>&gt;</h-></code><h- data-h=cmt> is always undefined</h-></f-serif>
  <h- data-h=id>bit_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>S</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->         <h- data-h=cmt_dlim>//</h-><f-serif><h- data-h=cmt> OK, returns indeterminate value</h-></f-serif>
  <h- data-h=id>bit_cast_zero_padding</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=id>S</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->  <h- data-h=cmt_dlim>//</h-><f-serif><h- data-h=cmt> OK, returns </h-><code><h- data-h=kw_type>char8_t</h-><h- data-h=sym_brac>{</h-><h- data-h=num>0</h-><h- data-h=sym_brac>}</h-></code></f-serif>
<h- data-h=sym_brac>}</h-></code-block>
<p> โ <i>end example</i>]
</p></div>
</ins-block>

<h3 id=single-function-solution><a class=para href=#single-function-solution></a>4.2. Single-function solution</h3>

<h4 id=single-functin-version-syn-wording><a class=para href=#single-functin-version-syn-wording></a>[version.syn]</h4>

<p>Bump the feature-test macro in <a href=https://eel.is/c++draft/version.syn>[version.syn]</a> as follows:
</p>
<ins-block>
<code-block class=borderless><h- data-h=mac>#define __cpp_lib_bit_cast </h-><del><h- data-h=mac>201806L</h-></del><h- data-h=mac> </h-><ins><h- data-h=mac>20XXXXL</h-></ins><h- data-h=mac> </h-><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding, also in </h-><tt-><h- data-h=cmt>&lt;bit&gt;</h-></tt-></f-serif></code-block>
</ins-block>

<h4 id=single-functin-bit-cast-wording><a class=para href=#single-functin-bit-cast-wording></a>[bit.cast]</h4>

<p>Change <a href=https://eel.is/c++draft/bit.cast>[bit.cast]</a> as follows:
</p>
<diff-block>
<h3>Function template <code><h- data-h=id>bit_cast</h-></code> <span class=stable-ref>[bit.cast]</span></h3>

<code-block class=borderless><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>To</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id>To</h-> <h- data-h=id>bit_cast</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>From</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>from</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>noexcept</h-><h- data-h=sym_punc>;</h-></code-block>

<div class=indent>
<p><i>Constraints</i>:
</p><ul>
  <li><code><h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>To</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>==</h-> <h- data-h=kw>sizeof</h-><h- data-h=sym_par>(</h-><h- data-h=id>From</h-><h- data-h=sym_par>)</h-></code> is <code><h- data-h=bool>true</h-></code>;</li>
  <li><code><h- data-h=id>is_trivially_copyable_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>To</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>true</h-></code>;</li>
  <li><code><h- data-h=id>is_trivially_copyable_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>From</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>true</h-></code>.</li>
</ul>

<p><i>Mandates</i>:
Neither <code><h- data-h=id>To</h-></code> nor <code><h- data-h=id>From</h-></code> are consteval-only types (<a href=https://eel.is/c++draft/basic.types.general>[basic.types.general]</a>).
</p>
<p><i>Constant When</i>:
<code><h- data-h=id>To</h-></code>, <code><h- data-h=id>From</h-></code>, and the types of all subobjects of <code><h- data-h=id>To</h-></code> and <code><h- data-h=id>From</h-></code>
are types <code><h- data-h=id>T</h-></code> such that:
</p><ul>
  <li><code><h- data-h=id>is_union_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>is_pointer_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>is_member_pointer_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>is_volatile_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-></code> is <code><h- data-h=bool>false</h-></code>;</li>
  <li><code><h- data-h=id>T</h-></code> has no non-static data members of reference type.</li>
</ul>

<p><i>Returns</i>:
An object of type <code><h- data-h=id>To</h-></code>.
Implicitly creates objects nested within the result (<a href=https://eel.is/c++draft/intro.object>[intro.object]</a>).
Each bit of the value representation of the result
is equal to the corresponding bit in the object representation of <code><h- data-h=id>from</h-></code>.
Padding bits of the result are unspecified.
For the result and each object created within it,
if there is no value of the object's type corresponding to the value representation produced,
the behavior is undefined.
If there are multiple such values,
which value is produced is unspecified.
A bit in the value representation of the result is <del>indeterminate</del> <ins>zero</ins>
if it does not correspond to a bit in the value representation of <code><h- data-h=id>from</h-></code>
<del>or</del><ins>, and is indeterminate if it</ins>
corresponds to a bit for which the smallest enclosing object
is not within its lifetime or has an indeterminate value (<a href=https://eel.is/c++draft/basic.indet>[basic.indet]</a>).
A bit in the value representation of the result is erroneous
if it corresponds to a bit for which the smallest enclosing object has an erroneous value.
For each bit <math display=inline><mi>b</mi></math> in the value representation of the result
that is indeterminate or erroneous,
let <math display=inline><mi>u</mi></math> be the smallest object containing that bit enclosing <math display=inline><mi>b</mi></math>:
</p><ul>
  <li>
    If <math display=inline><mi>u</mi></math> is of unsigned ordinary character type or <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>byte</h-></code> type,
    <math display=inline><mi>u</mi></math> has an indeterminate value
    if any of the bits in its value representation are indeterminate,
    or otherwise has an erroneous value.
  </li>
  <li>
    Otherwise, if <math display=inline><mi>b</mi></math> is indeterminate,
    the behavior is undefined.
  </li>
  <li>
    Otherwise, the behavior is erroneous,
    and the result is as specified above.
  </li>
</ul>
<p>The result does not otherwise contain any indeterminate or erroneous values.
</p>
<p><ins>
<i>Remarks</i>:
A function call expression whose behavior is undefined as per the <i>Returns</i> element
is not a core constant expression (<a href=https://eel.is/c++draft/expr.const>[expr.const]</a>).
</ins>
</p></div>
</diff-block>

<h2 id=references><a class=para href=#references></a>5. References</h2>


<div class=bib><div id=bib-item-N5032 class=bib-item>
<a href="https://wg21%2elink/n5032">[N5032]</a>
<span class=bib-author>Thomas Kรถppe.</span>
<span class=bib-title>Working Draft, Programming Languages โ C++</span>
<span class=bib-date>2025-12-15</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2025/n5032%2epdf" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/n5032.pdf</a></div><div id=bib-item-P0476R1 class=bib-item>
<a href="https://wg21%2elink/p0476r1">[P0476R1]</a>
<span class=bib-author>JF Bastien.</span>
<span class=bib-title>Bit-casting object representations</span>
<span class=bib-date>2016-11-11</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2016/p0476r1%2ehtml" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0476r1.html</a></div><div id=bib-item-P3666R2 class=bib-item>
<a href="https://wg21%2elink/p3666r2">[P3666R2]</a>
<span class=bib-author>Jan Schultke.</span>
<span class=bib-title>Bit-precise integers</span>
<span class=bib-date>2025-12-14</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2025/p3666r2%2epdf" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3666r2.pdf</a></div></div>
</main></body>
</html>
