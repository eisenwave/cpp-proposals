<!DOCTYPE html>
<html>
<head>
  <meta charset=UTF-8 /><meta name=viewport content="width=device-width, initial-scale=1"/><link rel=preconnent href=https://fonts.googleapis.com />
  <link rel=preconnent href=https://fonts.gstatic.com crossorigin/>
  <link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"/>
  <style>
html {
    --sans-serif-family: "Noto Sans", sans-serif;
    --serif-family: "Noto Serif", serif;
    --monospace-family: "Fira Code", monospace;

    --light-background-color: white;
    --light-deep-background-color: #fafafa;
    --light-text-color: black;
    --light-border-color: #aaa;
    --light-table-border-color: #777;
    --light-del-color: #be1621;
    --light-del-background-color: #fbe6e8;
    --light-ins-color: #17752d;
    --light-ins-background-color: #e4faea;
    --light-para-color: rgb(10, 73, 136);
    --light-a-color: rgb(10, 73, 136);
    --light-a-visited-color: rgb(44, 10, 136);
    --light-a-hover-color: rgb(15, 93, 170);
    --light-mark-color: black;
    --light-mark-background-color: #ffff85;
    --light-abstract-border-color: #707070;
    --light-abstract-background-color: #f0f0f0;
    --light-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --light-blockquote-border-color: #707070;
    --light-blockquote-background-color: #f0f0f0;
    --light-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --light-bug-block-border-color: #9f7b5d;
    --light-bug-block-background-color: #f0e2d9;
    --light-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%239f7b5d"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --light-decision-block-border-color: #ab6fa2;
    --light-decision-block-background-color: #f4e6f4;
    --light-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --light-del-block-border-color: #be1621;
    --light-del-block-background-color: #fbe6e8;
    --light-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be1621"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --light-details-border-color: #707070;
    --light-details-background-color: #f0f0f0;
    --light-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-diff-block-border-color: #707070;
    --light-diff-block-background-color: #f0f0f0;
    --light-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --light-example-block-border-color: #6f8aab;
    --light-example-block-background-color: #e6e9f4;
    --light-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f8aab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --light-important-block-border-color: #b05252;
    --light-important-block-background-color: #f4e6e6;
    --light-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6f6f"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --light-ins-block-border-color: #17752d;
    --light-ins-block-background-color: #e4faea;
    --light-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%2317752d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --light-note-block-border-color: #6fab6f;
    --light-note-block-background-color: #e6f4e9;
    --light-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab6f"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-tip-block-border-color: #b0a029;
    --light-tip-block-background-color: #f4f4e6;
    --light-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b0a029"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --light-todo-block-border-color: #6faba0;
    --light-todo-block-background-color: #e6f4f3;
    --light-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba0"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --light-warning-block-border-color: #af8141;
    --light-warning-block-background-color: #f4eee6;
    --light-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23af8141"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --light-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="black"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/></svg>');

    --dark-background-color: #202020;
    --dark-deep-background-color: #1a1a1a;
    --dark-text-color: #f0f0f0;
    --dark-border-color: #505050;
    --dark-table-border-color: #777;
    --dark-del-background-color: #67060c;
    --dark-del-color: #ffdcd7;
    --dark-ins-background-color: #033a16;
    --dark-ins-color: #aff5b4;
    --dark-para-color: #5bc0ff;
    --dark-a-color: #5bc0ff;
    --dark-a-visited-color: #c6a8ff;
    --dark-a-hover-color: #afd7ff;
    --dark-mark-color: #ededa8;
    --dark-mark-background-color: #525230;
    --dark-abstract-border-color: #999999;
    --dark-abstract-background-color: #2c2c2c;
    --dark-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23999999"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --dark-blockquote-border-color: #707070;
    --dark-blockquote-background-color: #2c2c2c;
    --dark-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --dark-bug-block-border-color: #ab866f;
    --dark-bug-block-background-color: #373028;
    --dark-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab866f"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --dark-details-border-color: #707070;
    --dark-details-background-color: #2c2c2c;
    --dark-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-decision-block-border-color: #ab6fa2;
    --dark-decision-block-background-color: #30232d;
    --dark-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --dark-del-block-border-color: #be5e64;
    --dark-del-block-background-color: #302323;
    --dark-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be5e64"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --dark-diff-block-border-color: #707070;
    --dark-diff-block-background-color: #2c2c2c;
    --dark-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --dark-example-block-border-color: #6f81ab;
    --dark-example-block-background-color: #232630;
    --dark-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f81ab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --dark-important-block-border-color: #b06262;
    --dark-important-block-background-color: #302323;
    --dark-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b06262"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --dark-ins-block-border-color: #5bab6d;
    --dark-ins-block-background-color: #233023;
    --dark-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%235bab6d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --dark-note-block-border-color: #6fab76;
    --dark-note-block-background-color: #233025;
    --dark-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab76"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-tip-block-border-color: #a2ab6f;
    --dark-tip-block-background-color: #2f3023;
    --dark-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23a2ab6f"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --dark-todo-block-border-color: #6fab98;
    --dark-todo-block-background-color: #23302e;
    --dark-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab98"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --dark-warning-block-border-color: #ab9c6f;
    --dark-warning-block-background-color: #302b23;
    --dark-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab9c6f"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --dark-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23f0f0f0"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/></svg>');

    --indent: 2.5em;
    --border-radius: 0.25em;
}

/* BEGIN LIGHT AND DARK THEME */

@media (prefers-color-scheme: light) {
    html {
        --background-color: var(--light-background-color);
        --deep-background-color: var(--light-deep-background-color);
        --text-color: var(--light-text-color);
        --border-color: var(--light-border-color);
        --table-border-color: var(--light-table-border-color);
        --del-color: var(--light-del-color);
        --del-background-color: var(--light-del-background-color);
        --ins-color: var(--light-ins-color);
        --ins-background-color: var(--light-ins-background-color);
        --para-color: var(--light-para-color);
        --a-color: var(--light-a-color);
        --a-visited-color: var(--light-a-visited-color);
        --a-hover-color: var(--light-a-hover-color);
        --mark-color: var(--light-mark-color);
        --mark-background-color: var(--light-mark-background-color);
        --abstract-border-color: var(--light-abstract-border-color);
        --abstract-background-color: var(--light-abstract-background-color);
        --abstract-image: var(--light-abstract-image);
        --blockquote-border-color: var(--light-blockquote-border-color);
        --blockquote-background-color: var(--light-blockquote-background-color);
        --blockquote-image: var(--light-blockquote-image);
        --bug-block-border-color: var(--light-bug-block-border-color);
        --bug-block-background-color: var(--light-bug-block-background-color);
        --bug-block-image: var(--light-bug-block-image);
        --decision-block-border-color: var(--light-decision-block-border-color);
        --decision-block-background-color: var(--light-decision-block-background-color);
        --decision-block-image: var(--light-decision-block-image);
        --del-block-border-color: var(--light-del-block-border-color);
        --del-block-background-color: var(--light-del-block-background-color);
        --del-block-image: var(--light-del-block-image);
        --details-border-color: var(--light-details-border-color);
        --details-background-color: var(--light-details-background-color);
        --details-image: var(--light-details-image);
        --diff-block-border-color: var(--light-diff-block-border-color);
        --diff-block-background-color: var(--light-diff-block-background-color);
        --diff-block-image: var(--light-diff-block-image);
        --example-block-border-color: var(--light-example-block-border-color);
        --example-block-background-color: var(--light-example-block-background-color);
        --example-block-image: var(--light-example-block-image);
        --important-block-border-color: var(--light-important-block-border-color);
        --important-block-background-color: var(--light-important-block-background-color);
        --important-block-image: var(--light-important-block-image);
        --ins-block-border-color: var(--light-ins-block-border-color);
        --ins-block-background-color: var(--light-ins-block-background-color);
        --ins-block-image: var(--light-ins-block-image);
        --note-block-border-color: var(--light-note-block-border-color);
        --note-block-background-color: var(--light-note-block-background-color);
        --note-block-image: var(--light-note-block-image);
        --tip-block-border-color: var(--light-tip-block-border-color);
        --tip-block-background-color: var(--light-tip-block-background-color);
        --tip-block-image: var(--light-tip-block-image);
        --todo-block-border-color: var(--light-todo-block-border-color);
        --todo-block-background-color: var(--light-todo-block-background-color);
        --todo-block-image: var(--light-todo-block-image);
        --warning-block-border-color: var(--light-warning-block-border-color);
        --warning-block-background-color: var(--light-warning-block-background-color);
        --warning-block-image: var(--light-warning-block-image);
        --theme-icon: var(--light-theme-icon);
    }
}

@media (prefers-color-scheme: dark) {
    html {
        --background-color: var(--dark-background-color);
        --deep-background-color: var(--dark-deep-background-color);
        --text-color: var(--dark-text-color);
        --border-color: var(--dark-border-color);
        --table-border-color: var(--dark-table-border-color);
        --del-color: var(--dark-del-color);
        --del-background-color: var(--dark-del-background-color);
        --ins-color: var(--dark-ins-color);
        --ins-background-color: var(--dark-ins-background-color);
        --para-color: var(--dark-para-color);
        --a-color: var(--dark-a-color);
        --a-visited-color: var(--dark-a-visited-color);
        --a-hover-color: var(--dark-a-hover-color);
        --mark-color: var(--dark-mark-color);
        --mark-background-color: var(--dark-mark-background-color);
        --abstract-border-color: var(--dark-abstract-border-color);
        --abstract-background-color: var(--dark-abstract-background-color);
        --abstract-image: var(--dark-abstract-image);
        --blockquote-border-color: var(--dark-blockquote-border-color);
        --blockquote-background-color: var(--dark-blockquote-background-color);
        --blockquote-image: var(--dark-blockquote-image);
        --bug-block-border-color: var(--dark-bug-block-border-color);
        --bug-block-background-color: var(--dark-bug-block-background-color);
        --bug-block-image: var(--dark-bug-block-image);
        --decision-block-border-color: var(--dark-decision-block-border-color);
        --decision-block-background-color: var(--dark-decision-block-background-color);
        --decision-block-image: var(--dark-decision-block-image);
        --del-block-border-color: var(--dark-del-block-border-color);
        --del-block-background-color: var(--dark-del-block-background-color);
        --del-block-image: var(--dark-del-block-image);
        --details-border-color: var(--dark-details-border-color);
        --details-background-color: var(--dark-details-background-color);
        --details-image: var(--dark-details-image);
        --diff-block-border-color: var(--dark-diff-block-border-color);
        --diff-block-background-color: var(--dark-diff-block-background-color);
        --diff-block-image: var(--dark-diff-block-image);
        --example-block-border-color: var(--dark-example-block-border-color);
        --example-block-background-color: var(--dark-example-block-background-color);
        --example-block-image: var(--dark-example-block-image);
        --important-block-border-color: var(--dark-important-block-border-color);
        --important-block-background-color: var(--dark-important-block-background-color);
        --important-block-image: var(--dark-important-block-image);
        --ins-block-border-color: var(--dark-ins-block-border-color);
        --ins-block-background-color: var(--dark-ins-block-background-color);
        --ins-block-image: var(--dark-ins-block-image);
        --note-block-border-color: var(--dark-note-block-border-color);
        --note-block-background-color: var(--dark-note-block-background-color);
        --note-block-image: var(--dark-note-block-image);
        --tip-block-border-color: var(--dark-tip-block-border-color);
        --tip-block-background-color: var(--dark-tip-block-background-color);
        --tip-block-image: var(--dark-tip-block-image);
        --todo-block-border-color: var(--dark-todo-block-border-color);
        --todo-block-background-color: var(--dark-todo-block-background-color);
        --todo-block-image: var(--dark-todo-block-image);
        --warning-block-border-color: var(--dark-warning-block-border-color);
        --warning-block-background-color: var(--dark-warning-block-background-color);
        --warning-block-image: var(--dark-warning-block-image);
        --theme-icon: var(--dark-theme-icon);
    }
}

html.light {
    --background-color: var(--light-background-color);
    --deep-background-color: var(--light-deep-background-color);
    --text-color: var(--light-text-color);
    --border-color: var(--light-border-color);
    --table-border-color: var(--light-table-border-color);
    --del-color: var(--light-del-color);
    --del-background-color: var(--light-del-background-color);
    --ins-color: var(--light-ins-color);
    --ins-background-color: var(--light-ins-background-color);
    --para-color: var(--light-para-color);
    --a-color: var(--light-a-color);
    --a-visited-color: var(--light-a-visited-color);
    --a-hover-color: var(--light-a-hover-color);
    --mark-color: var(--light-mark-color);
    --mark-background-color: var(--light-mark-background-color);
    --abstract-border-color: var(--light-abstract-border-color);
    --abstract-background-color: var(--light-abstract-background-color);
    --abstract-image: var(--light-abstract-image);
    --blockquote-border-color: var(--light-blockquote-border-color);
    --blockquote-background-color: var(--light-blockquote-background-color);
    --blockquote-image: var(--light-blockquote-image);
    --bug-block-border-color: var(--light-bug-block-border-color);
    --bug-block-background-color: var(--light-bug-block-background-color);
    --bug-block-image: var(--light-bug-block-image);
    --decision-block-border-color: var(--light-decision-block-border-color);
    --decision-block-background-color: var(--light-decision-block-background-color);
    --decision-block-image: var(--light-decision-block-image);
    --del-block-border-color: var(--light-del-block-border-color);
    --del-block-background-color: var(--light-del-block-background-color);
    --del-block-image: var(--light-del-block-image);
    --details-border-color: var(--light-details-border-color);
    --details-background-color: var(--light-details-background-color);
    --details-image: var(--light-details-image);
    --diff-block-border-color: var(--light-diff-block-border-color);
    --diff-block-background-color: var(--light-diff-block-background-color);
    --diff-block-image: var(--light-diff-block-image);
    --example-block-border-color: var(--light-example-block-border-color);
    --example-block-background-color: var(--light-example-block-background-color);
    --example-block-image: var(--light-example-block-image);
    --important-block-border-color: var(--light-important-block-border-color);
    --important-block-background-color: var(--light-important-block-background-color);
    --important-block-image: var(--light-important-block-image);
    --ins-block-border-color: var(--light-ins-block-border-color);
    --ins-block-background-color: var(--light-ins-block-background-color);
    --ins-block-image: var(--light-ins-block-image);
    --note-block-border-color: var(--light-note-block-border-color);
    --note-block-background-color: var(--light-note-block-background-color);
    --note-block-image: var(--light-note-block-image);
    --tip-block-border-color: var(--light-tip-block-border-color);
    --tip-block-background-color: var(--light-tip-block-background-color);
    --tip-block-image: var(--light-tip-block-image);
    --todo-block-border-color: var(--light-todo-block-border-color);
    --todo-block-background-color: var(--light-todo-block-background-color);
    --todo-block-image: var(--light-todo-block-image);
    --warning-block-border-color: var(--light-warning-block-border-color);
    --warning-block-background-color: var(--light-warning-block-background-color);
    --warning-block-image: var(--light-warning-block-image);
    --theme-icon: var(--light-theme-icon);
}

html.dark {
    --background-color: var(--dark-background-color);
    --deep-background-color: var(--dark-deep-background-color);
    --text-color: var(--dark-text-color);
    --border-color: var(--dark-border-color);
    --table-border-color: var(--dark-table-border-color);
    --del-color: var(--dark-del-color);
    --del-background-color: var(--dark-del-background-color);
    --ins-color: var(--dark-ins-color);
    --ins-background-color: var(--dark-ins-background-color);
    --para-color: var(--dark-para-color);
    --a-color: var(--dark-a-color);
    --a-visited-color: var(--dark-a-visited-color);
    --a-hover-color: var(--dark-a-hover-color);
    --mark-color: var(--dark-mark-color);
    --mark-background-color: var(--dark-mark-background-color);
    --abstract-border-color: var(--dark-abstract-border-color);
    --abstract-background-color: var(--dark-abstract-background-color);
    --abstract-image: var(--dark-abstract-image);
    --blockquote-border-color: var(--dark-blockquote-border-color);
    --blockquote-background-color: var(--dark-blockquote-background-color);
    --blockquote-image: var(--dark-blockquote-image);
    --bug-block-border-color: var(--dark-bug-block-border-color);
    --bug-block-background-color: var(--dark-bug-block-background-color);
    --bug-block-image: var(--dark-bug-block-image);
    --decision-block-border-color: var(--dark-decision-block-border-color);
    --decision-block-background-color: var(--dark-decision-block-background-color);
    --decision-block-image: var(--dark-decision-block-image);
    --del-block-border-color: var(--dark-del-block-border-color);
    --del-block-background-color: var(--dark-del-block-background-color);
    --del-block-image: var(--dark-del-block-image);
    --details-border-color: var(--dark-details-border-color);
    --details-background-color: var(--dark-details-background-color);
    --details-image: var(--dark-details-image);
    --diff-block-border-color: var(--dark-diff-block-border-color);
    --diff-block-background-color: var(--dark-diff-block-background-color);
    --diff-block-image: var(--dark-diff-block-image);
    --example-block-border-color: var(--dark-example-block-border-color);
    --example-block-background-color: var(--dark-example-block-background-color);
    --example-block-image: var(--dark-example-block-image);
    --important-block-border-color: var(--dark-important-block-border-color);
    --important-block-background-color: var(--dark-important-block-background-color);
    --important-block-image: var(--dark-important-block-image);
    --ins-block-border-color: var(--dark-ins-block-border-color);
    --ins-block-background-color: var(--dark-ins-block-background-color);
    --ins-block-image: var(--dark-ins-block-image);
    --note-block-border-color: var(--dark-note-block-border-color);
    --note-block-background-color: var(--dark-note-block-background-color);
    --note-block-image: var(--dark-note-block-image);
    --tip-block-border-color: var(--dark-tip-block-border-color);
    --tip-block-background-color: var(--dark-tip-block-background-color);
    --tip-block-image: var(--dark-tip-block-image);
    --todo-block-border-color: var(--dark-todo-block-border-color);
    --todo-block-background-color: var(--dark-todo-block-background-color);
    --todo-block-image: var(--dark-todo-block-image);
    --warning-block-border-color: var(--dark-warning-block-border-color);
    --warning-block-background-color: var(--dark-warning-block-background-color);
    --warning-block-image: var(--dark-warning-block-image);
    --theme-icon: var(--dark-theme-icon);
}

/* END LIGHT AND DARK THEME */

html {
    margin: 0;
    width: 100%;
    font-family: var(--serif-family);
    font-size: 11pt;

    border-left: var(--border-thickness) solid var(--border-color);
    color: var(--text-color);
    background-color: var(--background-color);
}

body {
    --vertical-margin: 2rem;
    --margin-left: 3rem;
    --margin-right: 2rem;

    margin: var(--vertical-margin) var(--margin-right) var(--vertical-margin) var(--margin-left);
    width: calc(100% - var(--margin-left) - var(--margin-right));
    box-sizing: border-box;
}

main {
    max-width: 60rem;
    margin-left: auto;
    margin-right: auto;
}

p {
    text-align: justify;
}

abstract-block,
blockquote,
bug-block,
code-block,
decision-block,
del-block,
details,
dl,
diff-block,
example-block,
hr,
ol,
important-block,
ins-block,
math[display=block],
note-block,
p,
pre,
tip-block,
todo-block,
ul,
warning-block,
.indent {
    display: block;
    margin-top: 1em;
    margin-bottom: 1em;
}

a {
    color: var(--a-color);
    text-decoration: unset;
}

a:visited {
    color: var(--a-visited-color);
}

a:hover,
a:focus {
    color: var(--a-hover-color);
}

a:hover {
    text-decoration: underline;
}

ol,
ul {
    padding-left: var(--indent);
}

li {
    margin: 0.5em 0;
}

dt {
    margin-top: 0.25em;
    font-style: italic;
    font-weight: bold;
}

dd {
    margin-bottom: 0.25em;
    margin-left: var(--indent);
}

abstract-block,
blockquote,
bug-block,
del-block,
details,
decision-block,
diff-block,
example-block,
important-block,
ins-block,
note-block,
tip-block,
todo-block,
warning-block {
    --border-thickness: 0.25em;
    --padding: 0.5em;

    position: relative;
    width: calc(100% - var(--indent));
    box-sizing: border-box;
    padding: var(--padding);
    margin-left: var(--indent);

    border-top-right-radius: var(--border-radius);
    border-bottom-right-radius: var(--border-radius);
}

abstract-block>:first-child,
blockquote>:first-child,
bug-block>:first-child,
del-block>:first-child,
details>:first-child,
decision-block>:first-child,
diff-block>:first-child,
example-block>:first-child,
important-block>:first-child,
ins-block>:first-child,
note-block>:first-child,
tip-block>:first-child,
todo-block>:first-child,
warning-block>:first-child {
    margin-top: 0;
}

abstract-block>:last-child,
blockquote>:last-child,
bug-block>:last-child,
del-block>:last-child,
details>:last-child,
decision-block>:last-child,
diff-block>:last-child,
example-block>:last-child,
important-block>:last-child,
ins-block>:last-child,
note-block>:last-child,
todo-block>:last-child,
tip-block>:last-child,
warning-block>:last-child {
    margin-bottom: 0;
}

abstract-block::before,
blockquote::before,
bug-block::before,
del-block::before,
details::before,
decision-block::before,
diff-block::before,
example-block::before,
important-block::before,
ins-block::before,
note-block::before,
todo-block::before,
tip-block::before,
warning-block::before {
    position: absolute;
    left: -2.5em;
    top: 0.25em;
    width: 2em;
    height: 2em;

    content: "";
    display: inline-block;
    background-size: contain;
    background-repeat: no-repeat;

}

code,
code-block,
pre,
samp,
tt,
tt-,
.mono {
    font-family: var(--monospace-family);
    font-style: normal;
    font-variant-ligatures: none;
}

code-block:not(.borderless),
pre {
    padding: 0.5em;
    border-radius: var(--border-radius);
    box-sizing: border-box;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
}

code-block,
pre {
    font-size: 95%;
    width: 100%;
}

code-block,
pre {
    white-space: pre;
    overflow-x: auto;
}

/* INSERTIONS AND DELETIONS */

ins,
ins-lines {
    text-decoration: underline;
    font-weight: 600;
    color: var(--ins-color);
    background-color: var(--ins-background-color);
}

code-block ins,
code-block ins-lines {
    text-decoration: inherit;
}

del {
    text-decoration: line-through;
}

del,
del-lines {
    color: var(--del-color);
    background-color: var(--del-background-color);
}

ins-lines,
del-lines {
    display: inline-block;
    width: 100%;
}

ins h-,
ins-lines h-,
del h-,
del-lines h- {
    color: inherit !important;
    background-color: inherit !important;
}

kbd {
    font-family: var(--sans-serif-family);

    display: inline-block;
    padding: 0 0.25em 0.15em 0.25em;
    border-radius: 0.25em;
    white-space: nowrap;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
    box-shadow: inset 0 -0.1em 0 var(--border-color);
}

mark {
    color: var(--mark-color);
    background-color: var(--mark-background-color);
}

math:not([display=block]) {
    font-size: 120%;
}

math[display=block] {
    width: fit-content;
    margin-left: var(--indent);

    font-size: 110%;
}

g-term,
f-sans,
f-serif,
wg21-block {
    display: inline;
}

f-sans,
.sans {
    font-family: var(--sans-serif-family);
}

f-serif,
.serif {
    font-family: var(--serif-family);
}

.grammar dd,
g-term {
    font-family: var(--sans-serif-family);
    font-style: oblique;
}

.grammar {
    margin-left: var(--indent);
}

.grammar dt {
    font-weight: normal;
    font-style: normal;
}

.oblique {
    font-style: oblique;
}

.word {
    white-space: nowrap;
}

.wg21-head {
    margin-bottom: 4em;
}

.wg21-head dl {
    font-family: var(--sans-serif-family);
}

.wg21-head dt {
    font-style: normal;
}

/* HEADINGS */

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin: 1rem 0;
}

h1 {
    margin: 2rem 0 1.5rem 0;
    font-size: 250%;
}

h2 {
    margin: 2.5rem 0 1.5rem 0;
    font-size: 166%;
}

h3 {
    margin: 2rem 0 1rem 0;
    font-size: 133%;
}

h4 {
    margin: 1.5rem 0 0.5rem 0;
    font-size: 100%;
}

h5 {
    margin: 1rem 0 0.5rem 0;
    font-size: 100%;
    font-weight: normal;
}

h6 {
    margin: 1rem 0 0.5rem 0;
    font-size: 90%;
    font-weight: normal;
}

table {
    --border: 1px solid var(--table-border-color);

    margin-top: 1em;
    margin-bottom: 1em;
    border-collapse: collapse;
}

table,
tbody,
thead,
th {
    border: var(--border);
}

td {
    border-left: var(--border);
    border-right: var(--border);
}

td,
th {
    padding: 0.1em 0.5em;
}

.para {
    cursor: pointer;
    font-weight: normal;
    font-family: var(--monospace-family);
    text-decoration: none;
    opacity: 0.25;

    position: absolute;
    top: 0.05em;
    left: calc(-1rem - 0.5ch);
}

.para,
.para::before {
    color: var(--para-color);
}

.para:hover,
.para:focus,
:target .para {
    opacity: 1;
}

.para::before {
    content: "§";
}

/* TABLE OF CONTENTS */

.toc {
    --h-indent: 0.75em;

    display: grid;
    grid-template-columns: min-content auto;
}

.toc-num {
    display: inline-block;
    align-self: end;
    padding-right: 3em;

    letter-spacing: 0em;
}

.toc h1,
.toc h2,
.toc h3,
.toc h4,
.toc h5,
.toc h6 {
    display: inline-block;

    font-weight: 500;
    font-size: 12pt;

    margin-top: 0;
    margin-bottom: 0;
}

.toc a,
.toc-num {
    border-bottom: 1px solid rgba(0, 0, 0, 0);
    color: var(--text-color);
}

.toc h1,
.toc-num[data-level="1"] {
    font-size: 125%;
    font-weight: 900;
}

.toc h2,
.toc-num[data-level="2"] {
    font-weight: 700;
}

.toc h3,
.toc-num[data-level="3"] {
    font-weight: 500;
}

.toc h4,
.toc-num[data-level="4"] {
    font-size: 95%;
    font-weight: 400;
}

.toc h5,
.toc-num[data-level="5"] {
    font-size: 90%;
    font-weight: 300;
}

.toc h6,
.toc-num[data-level="6"] {
    font-size: 90%;
    font-weight: 100;
}

.toc a:hover {
    display: inline-block;
    width: 100%;

    color: var(--a-hover-color);
    border-bottom: 1px dashed var(--a-hover-color);
}

.toc h1:not(:nth-child(2)>h1) {
    margin-top: 1.5em;
}

.toc h2:not(:nth-child(2)>h2) {
    margin-top: 0.75em;
}

/** BIBLIOGRAPHY */

.bib {
    display: block;
    margin: 1em 0;
}

.bib-item {
    display: inline-block;
    width: 100%;
    margin: 0.25em 0;
}

.bib-item>* {
    padding: 0 0.125em;
}

.bib-author {
    font-style: italic;
}

.bib-title {
    font-weight: 500;
}

.bib-date {
    font-family: var(--monospace-family);
}

.bib-date::before {
    font-family: var(--serif-family);
    content: "(";
}

.bib-date::after {
    font-family: var(--serif-family);
    content: ")";
}

.bib-link {
    display: block;
    margin-left: var(--indent);

    font-family: var(--sans-serif-family);
    font-style: normal;
}

/* SPECIAL BLOCKS */

intro- {
    display: inline-block;

    font-weight: 600;
    text-transform: uppercase;
    font-family: var(--sans-serif-family);
}

abstract-block {
    background-color: var(--abstract-background-color);
    border-left: var(--border-thickness) solid var(--abstract-border-color);
}

abstract-block::before {
    background-image: var(--abstract-image);
}

abstract-block intro-::before {
    content: "Abstract:";
    color: var(--abstract-border-color);
}

blockquote {
    background-color: var(--blockquote-background-color);
    border-left: var(--border-thickness) solid var(--blockquote-border-color);
}

blockquote::before {
    background-image: var(--blockquote-image);
    top: -0.25em;
}

blockquote intro-::before {
    content: "Quote:";
    color: var(--blockquote-border-color);
}

bug-block {
    background-color: var(--bug-block-background-color);
    border-left: var(--border-thickness) solid var(--bug-block-border-color);
}

bug-block::before {
    background-image: var(--bug-block-image);
}

bug-block intro-::before {
    content: "Bug:";
    color: var(--bug-block-border-color);
}

del-block {
    background-color: var(--del-block-background-color);
    border-left: var(--border-thickness) solid var(--del-block-border-color);
    color: var(--del-color);
}

del-block::before {
    background-image: var(--del-block-image);
}

del-block intro-::before {
    content: "Deleted:";
    color: var(--del-block-border-color);
}

del-block code,
del-block code-block {
    color: var(--text-color);
}

details {
    background-color: var(--details-background-color);
    border-left: var(--border-thickness) solid var(--details-border-color);
}

details::before {
    background-image: var(--details-image);
}

summary {
    font-family: var(--sans-serif-family);
    color: var(--details-border-color);
    user-select: none;
    cursor: pointer;
}

details[open]>summary {
    margin-bottom: 0.5em;
}

decision-block {
    background-color: var(--decision-block-background-color);
    border-left: var(--border-thickness) solid var(--decision-block-border-color);
}

decision-block::before {
    background-image: var(--decision-block-image);
}

decision-block intro-::before {
    content: "Decision:";
    color: var(--decision-block-border-color);
}

diff-block {
    background-color: var(--diff-block-background-color);
    border-left: var(--border-thickness) solid var(--diff-block-border-color);
}

diff-block::before {
    background-image: var(--diff-block-image);
}

diff-block intro-::before {
    content: "Difference:";
    color: var(--diff-block-border-color);
}

example-block {
    background-color: var(--example-block-background-color);
    border-left: var(--border-thickness) solid var(--example-block-border-color);
}

example-block::before {
    background-image: var(--example-block-image);
}

example-block intro-::before {
    content: "Example:";
    color: var(--example-block-border-color);
}

important-block {
    background-color: var(--important-block-background-color);
    border-left: var(--border-thickness) solid var(--important-block-border-color);
}

important-block::before {
    background-image: var(--important-block-image);
}

important-block intro-::before {
    content: "Important:";
    color: var(--important-block-border-color);
}

ins-block {
    background-color: var(--ins-block-background-color);
    border-left: var(--border-thickness) solid var(--ins-block-border-color);
    color: var(--ins-color);
}

ins-block code,
ins-block code-block {
    color: var(--text-color);
}

ins-block::before {
    background-image: var(--ins-block-image);
}

ins-block intro-::before {
    content: "Inserted:";
    color: var(--ins-block-border-color);
}

note-block {
    background-color: var(--note-block-background-color);
    border-left: var(--border-thickness) solid var(--note-block-border-color);
}

note-block::before {
    background-image: var(--note-block-image);
}

note-block intro-::before {
    content: "Note:";
    color: var(--note-block-border-color);
}

tip-block {
    background-color: var(--tip-block-background-color);
    border-left: var(--border-thickness) solid var(--tip-block-border-color);
}

tip-block::before {
    background-image: var(--tip-block-image);
}

tip-block intro-::before {
    content: "Tip:";
    color: var(--tip-block-border-color);
}

todo-block {
    background-color: var(--todo-block-background-color);
    border-left: var(--border-thickness) solid var(--todo-block-border-color);
}

todo-block::before {
    background-image: var(--todo-block-image);
}

todo-block intro-::before {
    content: "Todo:";
    color: var(--todo-block-border-color);
}

warning-block {
    background-color: var(--warning-block-background-color);
    border-left: var(--border-thickness) solid var(--warning-block-border-color);
}

warning-block::before {
    background-image: var(--warning-block-image);
}

warning-block intro-::before {
    content: "Warning:";
    color: var(--warning-block-border-color);
}

.indent {
    margin-left: var(--indent);
}

/* SETTINGS MENU */

#settings:not(.js) {
    display: none;
}

#settings {
    z-index: 999;
    position: fixed;
    display: inline-block;
    top: 1em;
    right: 1em;
}

#theme-icon {
    display: block;
    width: 2.5em;
    height: 2.5em;
    cursor: pointer;
    background-image: var(--theme-icon);
    background-size: contain;
    opacity: 0.25;
}

#theme-icon:hover,
#theme-icon:focus {
    opacity: 1;
}
  </style>
  <style>
@media (prefers-color-scheme: light) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:green; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#9f6807; }
h-[data-h^=num] { color:#9f6807; }
h-[data-h^=str] { color:#9f6807; }
h-[data-h^=esc] { color:#9f6807; }
h-[data-h^=null] { color:#00607c; }
h-[data-h^=bool] { color:#9f6807; }
h-[data-h^=this] { color:#00607c; }
h-[data-h^=mac] { color:#6f4e37; }
h-[data-h^=id] { color:#000000; }
h-[data-h^=id_labl] { color:#517a0b; }
h-[data-h^=id_nt] { font-style:italic; }
h-[data-h^=id_nt_dcl] { color:#00607c; font-style:italic; }
h-[data-h^=kw] { color:#00607c; }
h-[data-h^=sym] { color:#570057; }
h-[data-h^=sym_punc] { color:#000000; }
h-[data-h^=sym_par] { color:#af1915; }
h-[data-h^=sym_sqr] { color:#af1915; }
h-[data-h^=sym_brac] { color:#af1915; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#5c477e; }
h-[data-h^=diff_eq] { color:#000000; }
h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
h-[data-h^=mk_tag] { color:#00607c; }
h-[data-h^=mk_attr] { color:#5c477e; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#00607c; }
h-[data-h^=sh-opt] { color:#000000; }
h-[data-h^=asm_ins] { color:#00607c; }
h-[data-h^=asm_ins_psu] { color:#9f6807; }
}
@media (prefers-color-scheme: dark) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#f2d18d; }
h-[data-h^=num] { color:#f2d18d; }
h-[data-h^=num_dlim] { color:#e6b191; }
h-[data-h^=num_deco] { color:#e6b191; }
h-[data-h^=str] { color:#f2d18d; }
h-[data-h^=str_dlim] { color:#e6b191; }
h-[data-h^=str_deco] { color:#e6b191; }
h-[data-h^=esc] { color:#e6aee6; }
h-[data-h^=null] { color:#62ded6; }
h-[data-h^=bool] { color:#f2d18d; }
h-[data-h^=this] { color:#62ded6; }
h-[data-h^=mac] { color:#cc946e; }
h-[data-h^=id] { color:#f0f0f0; }
h-[data-h^=id_labl] { color:#d8eda6; }
h-[data-h^=id_nt] { font-style:italic; }
h-[data-h^=id_nt_dcl] { color:#62ded6; font-style:italic; }
h-[data-h^=kw] { color:#62ded6; }
h-[data-h^=sym] { color:#baa6b9; }
h-[data-h^=sym_punc] { color:#d0d0d0; }
h-[data-h^=sym_par] { color:#fa7878; }
h-[data-h^=sym_sqr] { color:#fa7878; }
h-[data-h^=sym_brac] { color:#fa7878; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#edc385; }
h-[data-h^=diff_eq] { color:#e7e7e7; }
h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
h-[data-h^=mk_tag] { color:#62ded6; }
h-[data-h^=mk_attr] { color:#a4c4de; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#62ded6; }
h-[data-h^=sh-opt] { color:#f0f0f0; }
h-[data-h^=asm_ins] { color:#62ded6; }
h-[data-h^=asm_ins_psu] { color:#e6aee6; }
}

html.light h-[data-h^=err] { color:#ff0000; }
html.light h-[data-h^=cmt] { color:green; font-style:italic; }
html.light h-[data-h^=cmt_dlim] { font-style:normal; }
html.light h-[data-h^=val] { color:#9f6807; }
html.light h-[data-h^=num] { color:#9f6807; }
html.light h-[data-h^=str] { color:#9f6807; }
html.light h-[data-h^=esc] { color:#9f6807; }
html.light h-[data-h^=null] { color:#00607c; }
html.light h-[data-h^=bool] { color:#9f6807; }
html.light h-[data-h^=this] { color:#00607c; }
html.light h-[data-h^=mac] { color:#6f4e37; }
html.light h-[data-h^=id] { color:#000000; }
html.light h-[data-h^=id_labl] { color:#517a0b; }
html.light h-[data-h^=id_nt] { font-style:italic; }
html.light h-[data-h^=id_nt_dcl] { color:#00607c; font-style:italic; }
html.light h-[data-h^=kw] { color:#00607c; }
html.light h-[data-h^=sym] { color:#570057; }
html.light h-[data-h^=sym_punc] { color:#000000; }
html.light h-[data-h^=sym_par] { color:#af1915; }
html.light h-[data-h^=sym_sqr] { color:#af1915; }
html.light h-[data-h^=sym_brac] { color:#af1915; }
html.light h-[data-h^=diff_head] { color:#777777; }
html.light h-[data-h^=diff_head_hunk] { color:#5c477e; }
html.light h-[data-h^=diff_eq] { color:#000000; }
html.light h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
html.light h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
html.light h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
html.light h-[data-h^=mk_tag] { color:#00607c; }
html.light h-[data-h^=mk_attr] { color:#5c477e; }
html.light h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.light h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.light h-[data-h^=mk_emph] { font-style:italic; }
html.light h-[data-h^=mk_stro] { font-weight:bold; }
html.light h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.light h-[data-h^=mk_ulin] { text-decoration:underline; }
html.light h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.light h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_strk] { text-decoration:line-through; }
html.light h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.light h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=sh_cmd] { color:#00607c; }
html.light h-[data-h^=sh-opt] { color:#000000; }
html.light h-[data-h^=asm_ins] { color:#00607c; }
html.light h-[data-h^=asm_ins_psu] { color:#9f6807; }

html.dark h-[data-h^=err] { color:#ff0000; }
html.dark h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
html.dark h-[data-h^=cmt_dlim] { font-style:normal; }
html.dark h-[data-h^=val] { color:#f2d18d; }
html.dark h-[data-h^=num] { color:#f2d18d; }
html.dark h-[data-h^=num_dlim] { color:#e6b191; }
html.dark h-[data-h^=num_deco] { color:#e6b191; }
html.dark h-[data-h^=str] { color:#f2d18d; }
html.dark h-[data-h^=str_dlim] { color:#e6b191; }
html.dark h-[data-h^=str_deco] { color:#e6b191; }
html.dark h-[data-h^=esc] { color:#e6aee6; }
html.dark h-[data-h^=null] { color:#62ded6; }
html.dark h-[data-h^=bool] { color:#f2d18d; }
html.dark h-[data-h^=this] { color:#62ded6; }
html.dark h-[data-h^=mac] { color:#cc946e; }
html.dark h-[data-h^=id] { color:#f0f0f0; }
html.dark h-[data-h^=id_labl] { color:#d8eda6; }
html.dark h-[data-h^=id_nt] { font-style:italic; }
html.dark h-[data-h^=id_nt_dcl] { color:#62ded6; font-style:italic; }
html.dark h-[data-h^=kw] { color:#62ded6; }
html.dark h-[data-h^=sym] { color:#baa6b9; }
html.dark h-[data-h^=sym_punc] { color:#d0d0d0; }
html.dark h-[data-h^=sym_par] { color:#fa7878; }
html.dark h-[data-h^=sym_sqr] { color:#fa7878; }
html.dark h-[data-h^=sym_brac] { color:#fa7878; }
html.dark h-[data-h^=diff_head] { color:#777777; }
html.dark h-[data-h^=diff_head_hunk] { color:#edc385; }
html.dark h-[data-h^=diff_eq] { color:#e7e7e7; }
html.dark h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
html.dark h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
html.dark h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
html.dark h-[data-h^=mk_tag] { color:#62ded6; }
html.dark h-[data-h^=mk_attr] { color:#a4c4de; }
html.dark h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.dark h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.dark h-[data-h^=mk_emph] { font-style:italic; }
html.dark h-[data-h^=mk_stro] { font-weight:bold; }
html.dark h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.dark h-[data-h^=mk_ulin] { text-decoration:underline; }
html.dark h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.dark h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_strk] { text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=sh_cmd] { color:#62ded6; }
html.dark h-[data-h^=sh-opt] { color:#f0f0f0; }
html.dark h-[data-h^=asm_ins] { color:#62ded6; }
html.dark h-[data-h^=asm_ins_psu] { color:#e6aee6; }
  </style>
  <script>
const theme = localStorage.getItem("cowel-theme");
if (theme !== null) {
    document.documentElement.className = theme;
}
  </script>
<title>Extending &lt;charconv&gt; support to more character types</title></head>
<body>
<div id=settings tabindex=0>
    <div id=theme-icon></div>
    <script>
        const settings = document.getElementById("settings");
        const htmlClasses = document.documentElement.classList;
        const themeIcon = document.getElementById("theme-icon");

        settings.classList.add("js");
        themeIcon.onclick = () => {
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)");
            const overrideClass = prefersDark.matches ? "light" : "dark";
            if (htmlClasses.contains("light")) {
                htmlClasses.remove("light");
                localStorage.removeItem("cowel-theme");
            } else if (htmlClasses.contains("dark")) {
                htmlClasses.remove("dark");
                localStorage.removeItem("cowel-theme");
            } else {
                htmlClasses.add(overrideClass);
                // to avoid legal issues or controversy in general,
                // we don't mess with local storage when the page is hosted in arbitrary places
                if (window.location.protocol === "file:") {
                    localStorage.setItem("cowel-theme", overrideClass);
                }
            }
        };
        settings.onkeydown = (e) => {
            if (e.key === "Enter" || e.key === " ") {
                event.preventDefault();
                themeIcon.onclick();
            }
        };
    </script>
</div>
<main>
<style>
  html {
    --light-edit-note-block-border-color: #6faba9;
    --light-edit-note-block-background-color: #e6f4f3;
    --light-edit-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba9"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');

    --dark-edit-note-block-border-color: #6faba9;
    --dark-edit-note-block-background-color: #232f30;
    --dark-edit-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba9"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');

    --light-diff-comment-color: #386a57ff;
    --dark-diff-comment-color: #a7c7bbff;
  }

  @media (prefers-color-scheme: light) {
    html {
      --edit-note-block-border-color: var(--light-edit-note-block-border-color);
      --edit-note-block-background-color: var(--light-edit-note-block-background-color);
      --edit-note-block-image: var(--light-edit-note-block-image);
      --diff-comment-color: var(--light-diff-comment-color);
    }
  }
  @media (prefers-color-scheme: dark) {
    html {
      --edit-note-block-border-color: var(--dark-edit-note-block-border-color);
      --edit-note-block-background-color: var(--dark-edit-note-block-background-color);
      --edit-note-block-image: var(--dark-edit-note-block-image);
      --diff-comment-color: var(--dark-diff-comment-color);
    }
  }
  html.light {
    --edit-note-block-border-color: var(--light-edit-note-block-border-color);
    --edit-note-block-background-color: var(--light-edit-note-block-background-color);
    --edit-note-block-image: var(--light-edit-note-block-image);
    --diff-comment-color: var(--light-diff-comment-color);
  }
  html.dark {
    --edit-note-block-border-color: var(--dark-edit-note-block-border-color);
    --edit-note-block-background-color: var(--dark-edit-note-block-background-color);
    --edit-note-block-image: var(--dark-edit-note-block-image);
    --diff-comment-color: var(--dark-diff-comment-color);
  }

  note-block.edit {
    background-color: var(--edit-note-block-background-color);
    border-left: var(--border-thickness) solid var(--edit-note-block-border-color);
  }

  note-block.edit::before {
    background-image: var(--edit-note-block-image);
  }

  note-block.edit intro-::before {
    content: "Editor's note:";
    color: var(--edit-note-block-border-color);
  }

  ins-block .para::before {
    display: none;
  }

  .grammar dd {
    margin-top: 0;
    margin-bottom: 0;
  }

  .opt {
    font-family: var(--serif-family);
  }

  .stable-ref {
    float: right;
  }

  .five-way-poll {
    table-layout: fixed;
  }
  .five-way-poll td {
    width: 20%;
    text-align: center;
  }

  q::before {
    content: "“";
  }
  q::after {
    content: "”";
  }

  diff-block h-[data-h^=cmt],
  html.light diff-block h-[data-h^=cmt],
  html.dark diff-block h-[data-h^=cmt] {
    color: var(--diff-comment-color);
  }
</style>

<div class=wg21-head><h1>Extending <code><h- data-h=sym_op>&lt;</h-><h- data-h=id>charconv</h-><h- data-h=sym_op>&gt;</h-></code> support to more character types</h1>

<dl>
  <dt>Document number:</dt> <dd><a href=https://wg21.link/D3876R0>D3876R0</a></dd>
  <dt>Date:</dt>            <dd><tt->2025-10-22</tt-></dd>
  <dt>Audience:</dt>        <dd>SG16</dd>
  <dt>Project:</dt>         <dd>ISO/IEC 14882 Programming Languages — C++, ISO/IEC JTC1/SC22/WG21</dd>
  <dt>Reply-to:</dt>        <dd>Jan Schultke &lt;<a href=mailto:janschultke@gmail.com class=sans>janschultke@gmail.com</a>&gt;</dd>
  <dt>GitHub Issue:</dt>    <dd><a href=https://wg21.link/P3876/github class=sans>wg21.link/P3876/github</a></dd>
  <dt>Source:</dt>          <dd><a href=https://github.com/eisenwave/cpp-proposals/blob/master/src/charconv-ext.cow class=sans>github.com/eisenwave/cpp-proposals/blob/master/src/charconv-ext.cow</a></dd>
</dl>
<hr/>
</div>

<abstract-block><p><intro-></intro-> 
We should add support for character types other than <code><h- data-h=kw_type>char</h-></code>
in <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>.
</p></abstract-block>

<h2 id=contents><a class=para href=#contents></a>Contents</h2>

<div class=toc><div class=toc-num data-level=2>1</div>
<a href=#introduction><h2>Introduction</h2></a>
<div class=toc-num data-level=2>2</div>
<a href=#design><h2>Design</h2></a>
<div class=toc-num data-level=3>2.1</div>
<a href=#which-character-types-to-support><h3>Which character types to support</h3></a>
<div class=toc-num data-level=4>2.1.1</div>
<a href=#char8_t><h4><code><h- data-h=kw_type>char8_t</h-></code></h4></a>
<div class=toc-num data-level=4>2.1.2</div>
<a href=#char16_t-and-char32_t><h4><code><h- data-h=kw_type>char16_t</h-></code> and <code><h- data-h=kw_type>char32_t</h-></code></h4></a>
<div class=toc-num data-level=4>2.1.3</div>
<a href=#wchar_t><h4><code><h- data-h=kw_type>wchar_t</h-></code></h4></a>
<div class=toc-num data-level=3>2.2</div>
<a href=#to_chars><h3><code><h- data-h=id>to_chars</h-></code></h3></a>
<div class=toc-num data-level=3>2.3</div>
<a href=#from_chars><h3><code><h- data-h=id>from_chars</h-></code></h3></a>
<div class=toc-num data-level=4>2.3.1</div>
<a href=#unicode-error-handling><h4>Unicode error handling</h4></a>
<div class=toc-num data-level=3>2.4</div>
<a href=#fixing-std::formatstd::wformat_string><h3>"Fixing" <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>format</h-><h- data-h=sym_par>(</h-><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>wformat_string</h-><h- data-h=sym_par>)</h-></code></h3></a>
<div class=toc-num data-level=3>2.5</div>
<a href=#function-signature-and-result-types><h3>Function signature and result types</h3></a>
<div class=toc-num data-level=4>2.5.1</div>
<a href=#result-type><h4>Result type</h4></a>
<div class=toc-num data-level=4>2.5.2</div>
<a href=#summary><h4>Summary</h4></a>
<div class=toc-num data-level=3>2.6</div>
<a href=#constexpr-floating-point-overloads><h3><code><h- data-h=kw>constexpr</h-></code> floating-point overloads</h3></a>
<div class=toc-num data-level=3>2.7</div>
<a href=#more-composable-interface-taking-std::span-or-std::string_view><h3>More composable interface taking <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>span</h-></code> or <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>string_view</h-></code></h3></a>
<div class=toc-num data-level=2>3</div>
<a href=#implementation><h2>Implementation</h2></a>
<div class=toc-num data-level=3>3.1</div>
<a href=#implementation-survey><h3>Implementation survey</h3></a>
<div class=toc-num data-level=3>3.2</div>
<a href=#new-alias-templates><h3>New alias templates</h3></a>
<div class=toc-num data-level=2>4</div>
<a href=#wording><h2>Wording</h2></a>
<div class=toc-num data-level=3>4.1</div>
<a href=#version%2esyn><h3>[version.syn]</h3></a>
<div class=toc-num data-level=3>4.2</div>
<a href=#charconv%2esyn><h3>[charconv.syn]</h3></a>
<div class=toc-num data-level=3>4.3</div>
<a href=#charconv%2eto%2echars><h3>[charconv.to.chars]</h3></a>
<div class=toc-num data-level=3>4.4</div>
<a href=#charconv%2efrom%2echars><h3>[charconv.from.chars]</h3></a>
<div class=toc-num data-level=3>4.5</div>
<a href=#format%2estring%2estd><h3>[format.string.std]</h3></a>
<div class=toc-num data-level=3>4.6</div>
<a href=#diff%2ecpp26%2eformat><h3>[diff.cpp26.format]</h3></a>
<div class=toc-num data-level=2>5</div>
<a href=#references><h2>References</h2></a>
</div>

<h2 id=introduction><a class=para href=#introduction></a>1. Introduction</h2>

<p>Support for <code><h- data-h=kw_type>char8_t</h-></code> and other Unicode character types
in <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> is clearly useful.
File formats such as JSON require the use of Unicode character encodings,
so an application that deals with JSON may want to use <code><h- data-h=kw_type>char8_t</h-></code> in its APIs
and internally.
However, when attempting to use <code><h- data-h=kw_type>char8_t</h-></code> for this purpose,
one quickly runs into problems:
</p>
<code-block><h- data-h=kw_type>void</h-> <h- data-h=id>append_json_number</h-><h- data-h=sym_par>(</h-><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>vector</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>out</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>x</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> what do I do?</h->
<h- data-h=sym_brac>}</h-></code-block>

<p>The user could use the <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-><h- data-h=sym_par>)</h-></code> overload
and then transcode to UTF-8 as <code><h- data-h=kw_type>char8_t</h-></code>,
but the standard library provides no transcoding facilities yet.
Even if there was support, using <code><h- data-h=kw_type>char</h-></code> is an unnecessary middle man.
</p>
<p>Furthermore, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> accepting <code><h- data-h=kw_type>char8_t</h-></code>
is arguably a prerequisite for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>format</h-></code> to accept <code><h- data-h=kw_type>char8_t</h-></code> too
because conversions of arithmetic types are specified in terms of <code><h- data-h=id>to_chars</h-></code>.
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>print</h-></code> would similarly need <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> to function
since it relies on format strings as well.
</p>
<p>Providing support for Unicode character types would be relatively simple.
All characters produced by <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>
and all characters accepted by <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> fall into the Basic Latin (ASCII) block
and are part of the basic character set (<code><h- data-h=num>0</h-></code>, <code><h- data-h=sym_op>-</h-></code>, <code><h- data-h=id>E</h-></code>, etc.).
This means that any existing implementation for ASCII-encoded <code><h- data-h=kw_type>char</h-></code> could be made to work
with Unicode characters trivially.
</p>
<h2 id=design><a class=para href=#design></a>2. Design</h2>

<h3 id=which-character-types-to-support><a class=para href=#which-character-types-to-support></a>2.1. Which character types to support</h3>

<p>All character types should be supported by <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>.
</p>
<h4 id=char8_t><a class=para href=#char8_t></a>2.1.1. <code><h- data-h=kw_type>char8_t</h-></code></h4>

<p>Due to how common UTF-8 is and due to <code><h- data-h=kw_type>char8_t</h-></code> now regularly being used
to represent UTF-8 text in C++ software,
the motivation in <a href=#introduction>§1. Introduction</a> mostly refers to <code><h- data-h=kw_type>char8_t</h-></code>.
In fact, there is a dedicated <a href="https://github%2ecom/sg16-unicode/sg16/issues/38">[SG16-Issue]</a> for <code><h- data-h=kw_type>char8_t</h-></code>.
</p>
<h4 id=char16_t-and-char32_t><a class=para href=#char16_t-and-char32_t></a>2.1.2. <code><h- data-h=kw_type>char16_t</h-></code> and <code><h- data-h=kw_type>char32_t</h-></code></h4>

<p>However, other Unicode encodings such as UTF-16 and UTF-32 are regularly used as well,
and if support for UTF-8 exists,
it is trivial to support these other encodings (through <code><h- data-h=kw_type>char16_t</h-></code> and <code><h- data-h=kw_type>char32_t</h-></code>)
because the conversion functions only deal with code points in the Basic Latin block anyway,
where code units are interchangeable.
</p>
<p>Overall, the goal should be for a <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> implementation
to emit the same code units/points for any Unicode character type,
and for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> to consume the same code units/points.
</p>
<h4 id=wchar_t><a class=para href=#wchar_t></a>2.1.3. <code><h- data-h=kw_type>wchar_t</h-></code></h4>

<p><code><h- data-h=kw_type>wchar_t</h-></code> support is slightly less motivated, and <code><h- data-h=kw_type>wchar_t</h-></code> isn't used much
outside of Windows environments.
However, it is not difficult to provide support for <code><h- data-h=kw_type>wchar_t</h-></code>,
and Windows C++ software may benefit from this support
(e.g. when feeding the output of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> into Windows API functions
accepting <code><h- data-h=id>LPCWSTR</h-></code> (<code><h- data-h=kw>const</h-> <h- data-h=kw_type>wchar_t</h-><h- data-h=sym_op>*</h-></code>)).
</p>
<h3 id=to_chars><a class=para href=#to_chars></a>2.2. <code><h- data-h=id>to_chars</h-></code></h3>

<p>The output format of <code><h- data-h=id>to_chars</h-></code> should be identical
to that for <code><h- data-h=kw_type>char</h-></code>.
This is easily implementable because all characters produced by <code><h- data-h=id>to_chars</h-></code>
are Basic Latin characters in the basic character set.
</p>
<h3 id=from_chars><a class=para href=#from_chars></a>2.3. <code><h- data-h=id>from_chars</h-></code></h3>

<p>The formats accepted by <code><h- data-h=id>from_chars</h-></code> should be identical to those for <code><h- data-h=kw_type>char</h-></code>,
which are specified in terms of functions like <code><h- data-h=id>strtol</h-></code> in the <code><h- data-h=str_dlim>"</h-><h- data-h=str>C</h-><h- data-h=str_dlim>"</h-></code> locale.
</p>
<p><code><h- data-h=id>from_chars</h-></code> for Unicode characters should not accept any further constructs
such as parsing <code><h- data-h=str_deco>u8</h-><h- data-h=str_dlim>"</h-><h- data-h=str>Ⅳ</h-><h- data-h=str_dlim>"</h-></code> as <code><h- data-h=num>4</h-></code>
because this goes against its stated design goal of being a low-level,
high-performance utility for parsing numbers.
</p>
<h4 id=unicode-error-handling><a class=para href=#unicode-error-handling></a>2.3.1. Unicode error handling</h4>

<p>It is possible that a user attempts to invoke <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
on a malformed Unicode string.
However, this does not mean that any special consideration to UTF-8 or other encodings
needs to be paid.
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> simply assumes that the given character range
contains a pattern (for integers, a sequence of digits with optional <code><h- data-h=str_dlim>'</h-><h- data-h=str>-</h-><h- data-h=str_dlim>'</h-></code> prefix)
at the start of the range;
this pattern is made entirely of characters in the Basic Latin block.
</p>
<example-block><p><intro-></intro-> 
The following code demonstrates the intended behavior:
</p><code-block><h- data-h=id>string_view</h-> <h- data-h=id>cstr</h-> <h- data-h=sym_op>=</h-> <h- data-h=str_dlim>"</h-><h- data-h=str>123z</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>OK, not malformed</h-></f-serif>
<h- data-h=kw_type>int</h-> <h- data-h=id>i1</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>const</h-> <h- data-h=kw>auto</h-> <h- data-h=sym_sqr>[</h-><h- data-h=id>p1</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>e1</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>from_string</h-><h- data-h=sym_par>(</h-><h- data-h=id>cstr</h-><h- data-h=sym_op>.</h-><h- data-h=id>data</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>cstr</h-><h- data-h=sym_op>.</h-><h- data-h=id>data</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>+</h-> <h- data-h=id>cstr</h-><h- data-h=sym_op>.</h-><h- data-h=id>size</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>i1</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>OK</h-></f-serif>

<h- data-h=id>u8string_view</h-> <h- data-h=id>u8str</h-> <h- data-h=sym_op>=</h-> <h- data-h=str_deco>u8</h-><h- data-h=str_dlim>"</h-><h- data-h=str>123</h-><h- data-h=esc>\</h-><h- data-h=esc>xFF</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>malformed UTF-8</h-></f-serif>
<h- data-h=kw_type>int</h-> <h- data-h=id>i2</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>const</h-> <h- data-h=kw>auto</h-> <h- data-h=sym_sqr>[</h-><h- data-h=id>p2</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>e2</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>from_string</h-><h- data-h=sym_par>(</h-><h- data-h=id>u8str</h-><h- data-h=sym_op>.</h-><h- data-h=id>data</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>u8str</h-><h- data-h=sym_op>.</h-><h- data-h=id>data</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>+</h-> <h- data-h=id>u8str</h-><h- data-h=sym_op>.</h-><h- data-h=id>size</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>i2</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>OK</h-></f-serif>

<h- data-h=id>assert</h-><h- data-h=sym_par>(</h-><h- data-h=id>i1</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>i2</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->                              <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>holds, both </h-><code><h- data-h=id>i1</h-></code><h- data-h=cmt> and </h-><code><h- data-h=id>i2</h-></code><h- data-h=cmt> equal </h-><code><h- data-h=num>123</h-></code></f-serif>
<h- data-h=id>assert</h-><h- data-h=sym_par>(</h-><h- data-h=id>p1</h-> <h- data-h=sym_op>-</h-> <h- data-h=id>cstr</h-><h- data-h=sym_op>.</h-><h- data-h=id>data</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>p2</h-> <h- data-h=sym_op>-</h-> <h- data-h=id>u8str</h-><h- data-h=sym_op>.</h-><h- data-h=id>data</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>holds, both patterns are three code units long</h-></f-serif></code-block>
</example-block>

<p>All Unicode encodings are designed so that code <em>only</em> code points in the Basic Latin block
can be encoded with code units in the range [<code><h- data-h=num>0</h-></code>, <code><h- data-h=num_deco>0x</h-><h- data-h=num>7f</h-></code>).
This means that simply treating greater code units as not part of the <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
pattern (which any implementation for ASCII-based <code><h- data-h=kw_type>char</h-></code> does already)
is a proper way of Unicode error handling.
</p>
<h3 id=fixing-std::formatstd::wformat_string><a class=para href=#fixing-std::formatstd::wformat_string></a>2.4. "Fixing" <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>format</h-><h- data-h=sym_par>(</h-><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>wformat_string</h-><h- data-h=sym_par>)</h-></code></h3>

<p>Since this proposal argues for <code><h- data-h=kw_type>wchar_t</h-></code> support in <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>,
it makes sense to re-specify <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>format</h-></code> to call <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> "directly".
The current <a href="https://wg21%2elink/n5014">[N5014]</a> word in <a href=https://eel.is/c++draft/format.string.std#20>[format.string.std] paragraph 20</a> works as follows:
</p>
<blockquote>
<p>The meaning of some non-string presentation types
is defined in terms of a call to <code><h- data-h=id>to_chars</h-></code>.
In such cases, let [<code><h- data-h=id>first</h-></code>, <code><h- data-h=id>last</h-></code>) be a range
large enough to hold the <code><h- data-h=id>to_chars</h-></code> output
and <code><h- data-h=id>value</h-></code> be the formatting argument value.
Formatting is done as if by calling <code><h- data-h=id>to_chars</h-></code> as specified
and copying the output through the output iterator of the format context.
</p></blockquote>

<p>For <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>wformat_string</h-></code>,
this means that the <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> overload for <code><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-></code> is called,
and the resulting <code><h- data-h=kw_type>char</h-></code> values are copied into the <code><h- data-h=kw_type>wchar_t</h-></code> output.
This could hypothetically result in nonsensical and malformed output
if the ordinary literal encoding and wide literal encoding are completely different,
such as if <code><h- data-h=kw_type>char</h-></code> is EBCDIC and <code><h- data-h=kw_type>wchar_t</h-></code> is UTF-16.
This is <em>technically</em> allowed by <a href=https://eel.is/c++draft/lex.charset>[lex.charset]</a>,
although no known implementation exists that makes such an exotic design choice.
</p>
<p>If we specified <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>format</h-></code> to instead call the <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>
overload for the same character type as the format string (as proposed),
this would be an observable change,
but would only impact hypothetical implementations where <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>format</h-></code>
is utterly broken anyway.
</p>
<h3 id=function-signature-and-result-types><a class=para href=#function-signature-and-result-types></a>2.5. Function signature and result types</h3>

<p><code><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>from_chars</h-></code>
are not function templates despite working with a wide variety of integer types
(at least, there need to be 11 overloads
for each signed and unsigned integer type and for <code><h- data-h=kw_type>char</h-></code>).
If we also added a non-template overload for each character type,
this would result in an absurd overload set of 55 functions
(<code><h- data-h=sym_brac>{</h-><h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>wchar_t</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char8_t</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char16_t</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char32_t</h-><h- data-h=sym_brac>}</h-> × <h- data-h=sym_brac>{</h-><h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>signed</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>...</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>unsigned</h-> <h- data-h=kw_type>long</h-> <h- data-h=kw_type>long</h-><h- data-h=sym_brac>}</h-></code>).
Such a huge overload set is clearly undesirable,
so function templates are necessary.
</p>
<h4 id=result-type><a class=para href=#result-type></a>2.5.1. Result type</h4>

<p>The existing <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars_result</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars_result</h-></code>
classes cannot be turned into class templates without breaking both API and ABI.
That is because any existing aliases or uses of these types in
function parameters, return types, etc. would break if they were turned into templates.
Name mangling would also change.
</p>
<p>There is also no good name for a new class template,
and if that was used for Unicode characters,
the asymmetry with the <code><h- data-h=kw_type>char</h-></code> overloads would be even more apparent.
However, we could create one result type per character,
as well as alias templates <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>to_chars_result_t</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>from_chars_result_t</h-></code>
which select the appropriate result class.
</p>
<p>Another possible option is to create a base class as follows:
</p>
<code-block><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>basic_to_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>struct</h-> <h- data-h=id>to_chars_result</h-> <h- data-h=sym_punc>:</h-> <h- data-h=id>basic_to_chars_result</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=sym_brac>{</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>using</h-> <h- data-h=id>u8to_chars_result</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>basic_to_chars_result</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=sym_brac>{</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> maybe?</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> ...</h-></code-block>

<p>This would also allow deduction of <code><h- data-h=id>T</h-></code> from <code><h- data-h=id>basic_to_chars_result</h-></code>,
unlike adding a new set of independent types.
However, this also technically breaks API because moving members into a base class
changes aggregate initialization.
</p>
<p>Overall, the safest option is to make no changes to the existing result types.
</p>
<h4 id=summary><a class=para href=#summary></a>2.5.2. Summary</h4>

<p>In code, the design can be summarized as follows:
</p>
<code-block><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>concept</h-> <i><h- data-h=id>character-type</h-></i> <h- data-h=sym_op>=</h-> <i><h- data-h=id>any character type</h-></i><h- data-h=sym_punc>;</h->

<h- data-h=kw>struct</h-> <h- data-h=id>to_chars_result</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
  <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> analogous classes:</h->
<h- data-h=kw>struct</h-> <h- data-h=id>wto_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>u8to_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>u16to_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>u32to_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>using</h-> <h- data-h=id_type>to_chars_result_t</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>one of the result types above</h-></i><h- data-h=sym_punc>;</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> pre-existing overload:</h->
<h- data-h=kw>constexpr</h-> <h- data-h=id>to_chars_result</h->
  <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>integer-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> new function template:</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>integer-type-concept</h-></i> <h- data-h=id>U</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>U</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> same approach for floating-point types:</h->
<h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                         <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type-concept</h-></i> <h- data-h=id>U</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>U</h-> <h- data-h=id>value</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->

<h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                         <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type-concept</h-></i> <h- data-h=id>U</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>U</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->

<h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                         <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type-concept</h-></i> <h- data-h=id>U</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>U</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<code-block><h- data-h=kw>struct</h-> <h- data-h=id>from_chars_result</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
  <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> analogous classes:</h->
<h- data-h=kw>struct</h-> <h- data-h=id>wfrom_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>u8from_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>u16from_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>u32from_chars_result</h-> <h- data-h=sym_brac>{</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> ... </h-><h- data-h=cmt_dlim>*/</h-> <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>using</h-> <h- data-h=id_type>from_chars_result_t</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>one of the result types above</h-></i><h- data-h=sym_punc>;</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> pre-existing overload:</h->
<h- data-h=kw>constexpr</h-> <h- data-h=id>from_chars_result</h->
  <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>integer-type</h-></i><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> new function template:</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>integer-type-concept</h-></i> <h- data-h=id>U</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id_type>from_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>U</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> same approach for floating-point types:</h->
<h- data-h=id>from_chars_result</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                             <i><h- data-h=id>floating-point-type</h-></i><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                             <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>integer-type-concept</h-></i> <h- data-h=id>U</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>from_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>U</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                    <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<h3 id=constexpr-floating-point-overloads><a class=para href=#constexpr-floating-point-overloads></a>2.6. <code><h- data-h=kw>constexpr</h-></code> floating-point overloads</h3>

<p>If <a href="https://wg21%2elink/p3652r1">[P3652R1]</a> "Constexpr floating-point &lt;charconv&gt; functions" is accepted,
all new templated overloads should be made <code><h- data-h=kw>constexpr</h-></code>.
There is no good reason why only the <code><h- data-h=kw_type>char</h-></code> overload should be <code><h- data-h=kw>constexpr</h-></code>.
</p>
<note-block><p><intro-></intro-> 
A possible implementation is to call the <code><h- data-h=kw>constexpr</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-><h- data-h=sym_punc>,</h-> <h- data-h=cmt_dlim>/*</h-><h- data-h=cmt> .../*)</h-></code>
overload and to transcode from the ordinary literal encoding to the desired encoding.
</p></note-block>

<h3 id=more-composable-interface-taking-std::span-or-std::string_view><a class=para href=#more-composable-interface-taking-std::span-or-std::string_view></a>2.7. More composable interface taking <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>span</h-></code> or <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>string_view</h-></code></h3>

<p>It is worth noting that there is a stale proposal
<a href="https://wg21%2elink/p2584r0">[P2584R0]</a> "A More Composable <code><h- data-h=id>from_chars</h-></code>"
which proposes additional overloads taking <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>span</h-></code>,
superseding the even more stale
<a href="https://wg21%2elink/p2007r0">[P2007R0]</a> "<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> should work with <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>string_view</h-></code>".
</p>
<p>Such changes are orthogonal to what is proposed here.
However it needs to be considered what impact such new overloads would have
on the functions added here.
In particular, <a href="https://wg21%2elink/p2584r0">[P2584R0]</a> proposes an interface such as:
</p>
<code-block><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id>from_chars_result_range</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>rng</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<p>If this was added, a non-breaking change would require adding four more overloads
taking <code><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>&gt;</h-></code>, <code><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char16_t</h-><h- data-h=sym_op>&gt;</h-></code>, <code><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char32_t</h-><h- data-h=sym_op>&gt;</h-></code>,
and <code><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>wchar_t</h-><h- data-h=sym_op>&gt;</h-></code>.
A similar change to <code><h- data-h=id>to_chars</h-></code> would actually expand the overload set by
20 function templates (5 character types × (1 integer overload + 3 floating-point overloads)),
resulting in 11 + 4 + 20 = 35 candidates in the <code><h- data-h=id>to_chars</h-></code> overload set
(including the ones proposed here).
</p>
<p>With the benefit of foresight, perhaps we should aim at a smaller overload set
and take a <code><h- data-h=id>R</h-><h- data-h=sym_op>&amp;&amp;</h-></code> range parameter instead.
In any case, those changes are not within the scope of this proposal.
</p>
<h2 id=implementation><a class=para href=#implementation></a>3. Implementation</h2>

<p>Any existing implementation of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
for a platform with ASCII-based <code><h- data-h=kw_type>char</h-></code> (Windows, POSIX, etc.)
is <em>numerically</em> implementing what is proposed here.
That is, the implementation may not use <code><h- data-h=kw_type>char8_t</h-></code>,
but it produces or consumes <code><h- data-h=kw_type>char</h-></code> values with the same numeric values.
</p>
<h3 id=implementation-survey><a class=para href=#implementation-survey></a>3.1. Implementation survey</h3>

<p>Find below a summary of existing implementations of <code><h- data-h=id>to_chars</h-></code>
in the three major standard libraries.
This is necessary to understand what difficulties implementations would face
when supporting additional character types.
</p>
<table>
  <tr>
    <th>Functions</th>
    <th>libstdc++</th>
    <th>libc++</th>
    <th>MSVC STL</th>
  </tr>
  <tr>
    <td><code><h- data-h=id>to_chars</h-></code> (integer)</td>
    <td><a href=https://github.com/gcc-mirror/gcc/blob/788fa7c613177b35e6c1e5098b8931480b4f0853/libstdc++-v3/include/std/charconv>std/charconv</a></td>
    <td><a href=https://github.com/llvm/llvm-project/blob/eeffaf110e991791a8ff7e9b7bb40b5317c70bad/libcxx/include/__charconv/to_chars_integral.h>to_chars_integral.h</a></td>
    <td><a href=https://github.com/microsoft/STL/blob/7f60cfbf379dd64ca0d5f17f3c21f5f3ee146f9d/stl/inc/charconv>inc/charconv</a></td>
  </tr>
  <tr>
    <td><code><h- data-h=id>to_chars</h-></code> (floating-point)</td>
    <td><a href=https://github.com/gcc-mirror/gcc/blob/788fa7c613177b35e6c1e5098b8931480b4f0853/libstdc++-v3/src/c++17/floating_to_chars.cc>floating_to_chars.cc</a></td>
    <td><a href=https://github.com/llvm/llvm-project/blob/eeffaf110e991791a8ff7e9b7bb40b5317c70bad/libcxx/src/include/to_chars_floating_point.h>to_chars_floating_point.h</a></td>
    <td><a href=https://github.com/microsoft/STL/blob/7f60cfbf379dd64ca0d5f17f3c21f5f3ee146f9d/stl/inc/charconv>inc/charconv</a></td>
  </tr>
  <tr>
    <td><code><h- data-h=id>from_chars</h-></code> (integer)</td>
    <td><a href=https://github.com/gcc-mirror/gcc/blob/788fa7c613177b35e6c1e5098b8931480b4f0853/libstdc++-v3/include/std/charconv>std/charconv</a></td>
    <td><a href=https://github.com/llvm/llvm-project/blob/eeffaf110e991791a8ff7e9b7bb40b5317c70bad/libcxx/include/__charconv/from_chars_integral.h>to_chars_integral.h</a></td>
    <td><a href=https://github.com/microsoft/STL/blob/7f60cfbf379dd64ca0d5f17f3c21f5f3ee146f9d/stl/inc/charconv>inc/charconv</a></td>
  </tr>
  <tr>
    <td><code><h- data-h=id>from_chars</h-></code> (floating-point)</td>
    <td><a href=https://github.com/gcc-mirror/gcc/blob/788fa7c613177b35e6c1e5098b8931480b4f0853/libstdc++-v3/src/c++17/floating_from_chars.cc>floating_from_chars.cc</a></td>
    <td><a href=https://github.com/llvm/llvm-project/blob/eeffaf110e991791a8ff7e9b7bb40b5317c70bad/libcxx/src/include/from_chars_floating_point.h>from_chars_floating_point.h</a></td>
    <td><a href=https://github.com/microsoft/STL/blob/7f60cfbf379dd64ca0d5f17f3c21f5f3ee146f9d/stl/inc/charconv>inc/charconv</a></td>
  </tr>
</table>

<p>All implementations are quite similar:
the underlying function performing the conversion is a function template
with type parameter <code><h- data-h=id>T</h-></code>,
to handle integer types or floating-point types in bulk.
These could easily be turned into templates which also have a <code><h- data-h=id>charT</h-></code> type parameter.
The only difficulty would be converting the existing uses of ordinary
character and string literals into correctly typed literals for <code><h- data-h=id>charT</h-></code>.
</p>
<example-block><p><intro-></intro-> 
libc++ contains the following line of code for inserting a plus sign
into the exponent in <code><h- data-h=id>to_chars</h-></code>:
</p><code-block><h- data-h=sym_op>*</h-><h- data-h=id>_First</h-><h- data-h=sym_op>++</h-> <h- data-h=sym_op>=</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>+</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>;</h-></code-block>
<p>This may have to be converted into <code><h- data-h=kw>static_cast</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>+</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h-></code>
to avoid implicit conversion warnings.
A <code><h- data-h=kw>static_cast</h-></code> is correct in this case because libc++ only supports ASCII-encoded
<code><h- data-h=kw_type>char</h-></code> and <code><h- data-h=kw_type>wchar_t</h-></code>,
so that all character types are numerically interchangeable for code points
in the Basic Latin block.
</p></example-block>

<p>The only standard library implementation that supports non-ASCII <code><h- data-h=kw_type>char</h-></code>
is the IBM XL C++ for z/OS,
but according to
<a href="https://www.ibm.com/docs/en/zos/3.1.0?topic=files-xl-c-header">IBM's documentation</a>,
no <code><h- data-h=str>&lt;charconv&gt;</h-></code> implementation exists yet.
Even if <code><h- data-h=kw_type>char</h-></code> is non-ASCII,
the "fix" is usually as simple as a <code><h- data-h=kw>static_cast</h-></code>:
</p>
<example-block><p><intro-></intro-> 
The libc++ snippet could have also been fixed in an EBCDIC-compatible way:
</p><code-block><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Implement this once, and use it anywhere necessary:</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>_T</h-><h- data-h=sym_op>&gt;</h->
<h- data-h=kw>constexpr</h-> <h- data-h=id>_T</h-> <h- data-h=id>_Encode</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char32_t</h-> <h- data-h=id>code_point</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=kw_ctrl>if</h-> <h- data-h=kw>constexpr</h-> <h- data-h=sym_par>(</h-><h- data-h=sym_op>^^</h-><h- data-h=id>_T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char8_t</h-> <h- data-h=sym_op>||</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>_T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char16_t</h-> <h- data-h=sym_op>||</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>_T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char32_t</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=id>_T</h-><h- data-h=sym_par>(</h-><h- data-h=id>code_point</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
  <h- data-h=sym_brac>}</h-> <h- data-h=kw_ctrl>else</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=id>_Encode_ebcdic</h-><h- data-h=sym_par>(</h-><h- data-h=id>code_point</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
  <h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Now, assuming we are in a function template with _CharT type parameter:</h->
<h- data-h=sym_op>*</h-><h- data-h=id>_First</h-><h- data-h=sym_op>++</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>_Encode</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>_CharT</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_par>(</h-><h- data-h=str_deco>U</h-><h- data-h=str_dlim>'</h-><h- data-h=str>+</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>
</example-block>

<h3 id=new-alias-templates><a class=para href=#new-alias-templates></a>3.2. New alias templates</h3>

<p>The proposed alias templates can be implemented as follows:
</p>
<code-block><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
<h- data-h=kw>concept</h-> <h- data-h=id>__character_type</h-> <h- data-h=sym_op>=</h->
  <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char</h-> <h- data-h=sym_op>||</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char8_t</h-> <h- data-h=sym_op>||</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char16_t</h-> <h- data-h=sym_op>||</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char32_t</h-> <h- data-h=sym_op>||</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>wchar_t</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>__character_type</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
<h- data-h=kw>using</h-> <h- data-h=id_type>to_chars_result_t</h-> <h- data-h=sym_op>=</h-> <h- data-h=sym_sqr>[</h-><h- data-h=sym_punc>:</h->
    <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char</h->     <h- data-h=sym_op>?</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>to_chars_result</h->
  <h- data-h=sym_punc>:</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char8_t</h->  <h- data-h=sym_op>?</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>u8to_chars_result</h->
  <h- data-h=sym_punc>:</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char16_t</h-> <h- data-h=sym_op>?</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>u16to_chars_result</h->
  <h- data-h=sym_punc>:</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>T</h-> <h- data-h=sym_op>==</h-> <h- data-h=sym_op>^^</h-><h- data-h=kw_type>char32_t</h-> <h- data-h=sym_op>?</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>u32to_chars_result</h->
                      <h- data-h=sym_punc>:</h-> <h- data-h=sym_op>^^</h-><h- data-h=id>wto_chars_result</h->
<h- data-h=sym_punc>:</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>;</h-></code-block>

<p>The implementation of <code><h- data-h=id_type>from_chars_result_t</h-></code> is analogous.
</p>
<note-block><p><intro-></intro-> 
The implementation doesn't actually require C++26 reflection.
More traditional alternatives like <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>conditional_t</h-></code> also work.
</p></note-block>

<h2 id=wording><a class=para href=#wording></a>4. Wording</h2>

<p>The following changes are relative to <a href="https://wg21%2elink/n5014">[N5014]</a>.
</p>
<h3 id=version.syn><a class=para href=#version%2esyn></a>[version.syn]</h3>

<p>In <a href=https://eel.is/c++draft/version.syn>[version.syn]</a>,
bump the feature-test macro:
</p>
<diff-block>
<code-block class=borderless><h- data-h=mac>#define __cpp_lib_to_chars </h-><del><h- data-h=mac>202306L</h-></del><h- data-h=mac> </h-><ins><h- data-h=mac>20XXXXL</h-></ins><h- data-h=mac> </h-><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>also in &lt;charconv&gt;</h-></f-serif></code-block>
</diff-block>

<note-block class=edit><p><intro-></intro-> 
The <code><h- data-h=id>__cpp_lib_constexpr_charconv</h-></code> and <code><h- data-h=id>__cpp_lib_freestanding_charconv</h-></code>
macros are not bumped.
</p></note-block>

<h3 id=charconv.syn><a class=para href=#charconv%2esyn></a>[charconv.syn]</h3>

<p>In <a href=https://eel.is/c++draft/charconv.syn>[charconv.syn]</a>,
modify the synopsis as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=kw>namespace</h-> <h- data-h=id>std</h-> <h- data-h=sym_brac>{</h->
  <ins><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>exposition-only concepts</h-></f-serif>
  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
    <h- data-h=kw>concept</h-> <i><h- data-h=id>character-type</h-></i> <h- data-h=sym_op>=</h-> <i><h- data-h=id>see below</h-></i><h- data-h=sym_punc>;</h->                                  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>exposition only</h-></f-serif></ins>

  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>floating-point format for primitive numerical conversion</h-></f-serif>
  <h- data-h=kw>enum</h-> <h- data-h=kw>class</h-> <h- data-h=id>chars_format</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=id>scientific</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>unspecified</h-><h- data-h=sym_punc>,</h->
    <h- data-h=id>fixed</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>unspecified</h-><h- data-h=sym_punc>,</h->
    <h- data-h=id>hex</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>unspecified</h-><h- data-h=sym_punc>,</h->
    <h- data-h=id>general</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>fixed</h-> <h- data-h=sym_op>|</h-> <h- data-h=id>scientific</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>[charconv.to.chars], primitive numerical output conversion</h-></f-serif>
  <h- data-h=kw>struct</h-> <h- data-h=id>to_chars_result</h-> <h- data-h=sym_brac>{</h->                                              <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>struct</h-> <h- data-h=id>u8to_chars_result</h-> <h- data-h=sym_brac>{</h->                                            <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>u8to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>u8to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>struct</h-> <h- data-h=id>u16to_chars_result</h-> <h- data-h=sym_brac>{</h->                                            <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw_type>char16_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>u16to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>u16to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>struct</h-> <h- data-h=id>u32to_chars_result</h-> <h- data-h=sym_brac>{</h->                                            <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw_type>char32_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>u32to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>u32to_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>struct</h-> <h- data-h=id>wto_chars_result</h-> <h- data-h=sym_brac>{</h->                                             <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw_type>wchar_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>wto_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>wto_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  
  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->                                                     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>using</h-> <h- data-h=id_type>to_chars_result_t</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>see below</h-></i><h- data-h=sym_punc>;</h-></ins>

  <h- data-h=kw>constexpr</h-> <h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->           <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
                                     <i><h- data-h=id>integer-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->                                        <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>constexpr</h-> <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                                                <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins>
  <h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->                     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
                           <h- data-h=kw_type>bool</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>delete</h-><h- data-h=sym_punc>;</h->

  <h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->                     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
                           <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->                                        <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
    <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins>
  <h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->                     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
                           <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->                                        <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
    <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                      <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins>
  <h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->                     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
                           <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->                                        <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
    <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                      <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins>

  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>[charconv.from.chars], primitive numerical input conversion</h-></f-serif>
  <h- data-h=kw>struct</h-> <h- data-h=id>from_chars_result</h-> <h- data-h=sym_brac>{</h->                                            <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>struct</h-> <h- data-h=id>u8from_chars_result</h-> <h- data-h=sym_brac>{</h->                                          <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>const</h-> <h- data-h=kw_type>char8_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>u8from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>u8from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>struct</h-> <h- data-h=id>u16from_chars_result</h-> <h- data-h=sym_brac>{</h->                                         <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>const</h-> <h- data-h=kw_type>char16_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>u16from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>u16from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>struct</h-> <h- data-h=id>u32from_chars_result</h-> <h- data-h=sym_brac>{</h->                                         <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>const</h-> <h- data-h=kw_type>char32_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>u32from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>u32from_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>struct</h-> <h- data-h=id>wfrom_chars_result</h-> <h- data-h=sym_brac>{</h->                                           <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>const</h-> <h- data-h=kw_type>wchar_t</h-><h- data-h=sym_op>*</h-> <h- data-h=id>ptr</h-><h- data-h=sym_punc>;</h->
    <h- data-h=id>errc</h-> <h- data-h=id>ec</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>friend</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>wfrom_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>wfrom_chars_result</h-><h- data-h=sym_op>&amp;</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
    <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=kw>noexcept</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>ec</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
  <h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->                                                     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>using</h-> <h- data-h=id_type>from_chars_result_t</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>see below</h-></i><h- data-h=sym_punc>;</h-></ins>

  <h- data-h=kw>constexpr</h-> <h- data-h=id>from_chars_result</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->   <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
                                         <i><h- data-h=id>integer-type</h-></i><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->                                          <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding</h-></f-serif>
    <h- data-h=kw>constexpr</h-> <h- data-h=id_type>from_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                                                    <h- data-h=id>V</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins>

  <h- data-h=id>from_chars_result</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->     <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
                               <i><h- data-h=id>floating-point-type</h-></i><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                               <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins>  <h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->                                        <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>freestanding-deleted</h-></f-serif>
    <h- data-h=id_type>from_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                                          <h- data-h=id>V</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                          <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins>
<h- data-h=sym_brac>}</h-></code-block>
</diff-block>

<p>Immediately preceding <a href=https://eel.is/c++draft/charconv.syn#2>[charconv.syn] paragraph 2</a>,
insert a paragraph as follows:
</p>
<ins-block>
<p>The exposition-only concept <code><i><h- data-h=id>character-type</h-></i></code>
is modeled by any character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
</p></ins-block>

<h3 id=charconv.to.chars><a class=para href=#charconv%2eto%2echars></a>[charconv.to.chars]</h3>

<p>Immediately following <a href=https://eel.is/c++draft/charconv.to.chars#1>[charconv.to.chars] paragraph 1</a>,
insert the following paragraph:
</p>
<ins-block>
<p>The output style of all functions named <code><h- data-h=id>to_chars</h-></code> is specified in terms of
characters in the basic character set (and thus in terms of their Unicode code points)
or directly in terms of code points.
The output code points  are inserted into the range [<code><h- data-h=id>first</h-></code>, <code><h- data-h=id>last</h-></code>)
by encoding them in the respective literal encoding for character literals
of the type of <code><h- data-h=sym_op>*</h-><h- data-h=id>first</h-></code>.
</p></ins-block>

<p>Immediately following <a href=https://eel.is/c++draft/charconv.to.chars#3>[charconv.to.chars] paragraph 3</a>,
insert the following item:
</p>
<ins-block>
<code-block class=borderless><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>using</h-> <h- data-h=id_type>to_chars_result_t</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>see below</h-></i><h- data-h=sym_punc>;</h-></code-block>

<div class=indent>
<p><i>Remarks</i>:
Denotes
</p><ul>
  <li><code><h- data-h=id>to_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char</h-></code>,</li>
  <li><code><h- data-h=id>u8to_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char8_t</h-></code>,</li>
  <li><code><h- data-h=id>u16to_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char16_t</h-></code>,</li>
  <li><code><h- data-h=id>u32to_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char32_t</h-></code>, and</li>
  <li><code><h- data-h=id>wto_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>wchar_t</h-></code>.</li>
</ul>
</div>
</ins-block>

<note-block class=edit><p><intro-></intro-> 
This form of specification is nonsensical because <a href=https://eel.is/c++draft/structure.specifications>[structure.specifications]</a>
does not 
</p></note-block>

<p>Modify the overload for <code><i><h- data-h=id>integer-type</h-></i></code> as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=kw>constexpr</h-> <h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>integer-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                                              <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins></code-block>

<div class=indent>
<p><ins><i>Constraints</i>:
<code><h- data-h=id>charT</h-></code> is a character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
<code><h- data-h=id>V</h-></code> is a signed or unsigned integer type or <code><h- data-h=kw_type>char</h-></code>.</ins></p>

<p><i>Preconditions</i>:
<code><h- data-h=id>base</h-></code> has a value between 2 and 36 (inclusive).
</p>
<p><i>Effects</i>:
The value of <code><h- data-h=id>value</h-></code> is converted to a string of digits in the given base
(with no redundant leading zeroes).
Digits
<ins>in the range 0..9
are represented as U+0030..U+0039 DIGIT ZERO..NINE, and digits</ins>
in the range 10..35 <del>(inclusive)</del> are represented as <del>lowercase characters a..z</del>
<ins>U+0061..U+007A LATIN SMALL LETTER A..Z</ins>.
If <code><h- data-h=id>value</h-></code> is less than zero,
the representation starts with <del><code><h- data-h=str_dlim>'</h-><h- data-h=str>-</h-><h- data-h=str_dlim>'</h-></code></del>
<ins>U+002D HYPHEN-MINUS</ins>.
</p>
<p><i>Throws</i>:
Nothing.
</p></div>
</diff-block>

<note-block class=edit><p><intro-></intro-> 
This change has a merge conflict with <a href="https://cplusplus%2egithub%2eio/LWG/issue4421">[LWG4421]</a>.
</p>
<p>The "(inclusive)" is removed because the range notation "A..B"
is universally inclusive,
with no disambiguation required.
Such range notation is already used in <a href=https://eel.is/c++draft/lex.charset>[lex.charset]</a>
without any attempt at disambiguation.
</p></note-block>

<p>Modify the overloads for <code><i><h- data-h=id>floating-point-type</h-></i></code> as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins></code-block>

<div class=indent>
<p><ins><i>Constraints</i>:
<code><h- data-h=id>charT</h-></code> is a character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
<code><h- data-h=id>V</h-></code> is a cv-unqualified floating-point type.</ins></p>

<p><i>Effects</i>:
<code><h- data-h=id>value</h-></code> is converted to a string
in the style of <code><h- data-h=id>printf</h-></code> in the <code><h- data-h=str_dlim>"</h-><h- data-h=str>C</h-><h- data-h=str_dlim>"</h-></code> locale.
The conversion specifier is <code><h- data-h=id>f</h-></code> or <code><h- data-h=id>e</h-></code>,
chosen according to the requirement for a shortest representation (see above);
a tie is resolved in favor of <code><h- data-h=id>f</h-></code>.
</p>
<p><i>Throws</i>:
Nothing.
</p></div>

<code-block class=borderless><h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins></code-block>

<div class=indent>
<p><ins><i>Constraints</i>:
<code><h- data-h=id>charT</h-></code> is a character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
<code><h- data-h=id>V</h-></code> is a cv-unqualified floating-point type.</ins></p>

<p><i>Preconditions</i>:
<code><h- data-h=id>fmt</h-></code> has the value of one of the enumerators of <code><h- data-h=id>chars_format</h-></code>.
</p>
<p><i>Effects</i>:
<code><h- data-h=id>value</h-></code> is converted to a string
in the style of <code><h- data-h=id>printf</h-></code> in the <code><h- data-h=str_dlim>"</h-><h- data-h=str>C</h-><h- data-h=str_dlim>"</h-></code> locale.
</p>
<p><i>Throws</i>:
Nothing.
</p></div>

<code-block class=borderless><h- data-h=id>to_chars_result</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type</h-></i> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                         <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>to_chars</h-><h- data-h=sym_par>(</h-><h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                    <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins></code-block>

<div class=indent>
<p><ins><i>Constraints</i>:
<code><h- data-h=id>charT</h-></code> is a character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
<code><h- data-h=id>V</h-></code> is a cv-unqualified floating-point type.</ins></p>

<p><i>Preconditions</i>:
<code><h- data-h=id>fmt</h-></code> has the value of one of the enumerators of <code><h- data-h=id>chars_format</h-></code>.
</p>
<p><i>Effects</i>:
<code><h- data-h=id>value</h-></code> is converted to a string
in the style of <code><h- data-h=id>printf</h-></code> in the <code><h- data-h=str_dlim>"</h-><h- data-h=str>C</h-><h- data-h=str_dlim>"</h-></code> locale
with the given precision.
</p>
<p><i>Throws</i>:
Nothing.
</p></div>
</diff-block>

<note-block class=edit><p><intro-></intro-> 
See <a href="https://www%2eiso-9899%2einfo/n3047%2ehtml#7%2e23%2e6%2e1">[N3047-fprintf]</a> for C23 wording.
To give an example,
the output format for <code><h- data-h=id>printf</h-></code> is worded as follows:
</p>
<blockquote>
<p><code><h- data-h=id>f</h-></code>,<code><h- data-h=id>F</h-></code> — A <code><h- data-h=kw_type>double</h-></code> argument representing a floating-point number
is converted to decimal notation in the style <i>[-]ddd.ddd</i>,
where the number of digits after the decimal-point character
is equal to the precision specification.
</p></blockquote>

<p>This abstract description of the output style
(where presumably, "-" and "." are intended to represented characters
in the basic character set)
can be applied to the new overloads working with <code><h- data-h=kw_type>char8_t</h-></code> and other types,
just like it could have been applied to <code><h- data-h=kw_type>char</h-></code>.
</p>
<p>It may be beneficial to reword the whole subclause in terms of code points
and decoupled from C wording,
but this would take considerable effort and isn't necessary for this proposal.
</p></note-block>

<p>If <a href="https://wg21%2elink/p3652r1">[P3652R1]</a> has been accepted
or a later paper marked the existing <code><i><h- data-h=id>floating-point</h-></i></code>
overloads <code><h- data-h=kw>constexpr</h-></code>,
modify all the added overloads as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <ins><h- data-h=kw>constexpr</h-></ins> <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> […]

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <ins><h- data-h=kw>constexpr</h-></ins> <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> […]

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <ins><h- data-h=kw>constexpr</h-></ins> <h- data-h=id_type>to_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> […]</code-block>
</diff-block>

<h3 id=charconv.from.chars><a class=para href=#charconv%2efrom%2echars></a>[charconv.from.chars]</h3>

<p>Modify <a href=https://eel.is/c++draft/charconv.from.chars#1>[charconv.from.chars] paragraph 1</a> as follows:
</p>
<diff-block>
<p>All functions named <code><h- data-h=id>from_chars</h-></code>
analyze the string [<code><h- data-h=id>first</h-></code>, <code><h- data-h=id>last</h-></code>) for a pattern,
where [<code><h- data-h=id>first</h-></code>, <code><h- data-h=id>last</h-></code>) is required to be a valid range.
If no <del>characters</del> <ins>code units</ins> match the pattern, <code><h- data-h=id>value</h-></code> is unmodified,
the member <code><h- data-h=id>ptr</h-></code> of the return value is <code><h- data-h=id>first</h-></code>
and the member <code><h- data-h=id>ec</h-></code> is equal to <code><h- data-h=id>err</h-><h- data-h=sym_op>::</h-><h- data-h=id>invalid_argument</h-></code>.
</p>
<p>[<i>Note</i>: 
If the pattern allows for an optional sign,
but the string has no digit <del>characters</del> <ins>code units</ins> following the sign,
no <del>characters</del> <ins>code units</ins> match the pattern.
 — <i>end note</i>]</p>

<p>Otherwise, the <del>characters</del> <ins>code units</ins> matching the pattern are interpreted
as a representation of a value of the type of <code><h- data-h=id>value</h-></code>.
The member <code><h- data-h=id>ptr</h-></code> of the return value points to the first <del>character</del> <ins>code unit</ins>
not matching the pattern, or has the value <code><h- data-h=id>last</h-></code>
if all <del>characters</del> <ins>code units</ins> match.
If the parsed value is not in the range representable by the type of <code><h- data-h=id>value</h-></code>,
<code><h- data-h=id>value</h-></code> is unmodified and the member <code><h- data-h=id>ec</h-></code> of the return value
is equal to <code><h- data-h=id>err</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code>.
Otherwise, <code><h- data-h=id>value</h-></code> is set to the parsed value,
after rounding according to <code><h- data-h=id>round_to_nearest</h-></code> (<a href=https://eel.is/c++draft/round.style>[round.style]</a>),
and the member <code><h- data-h=id>ec</h-></code> is value-initialized.
</p></diff-block>

<p>Immediately following <a href=https://eel.is/c++draft/charconv.from.chars#1>[charconv.from.chars] paragraph 1</a>,
insert a new paragraph:
</p>
<ins-block>
<p>The output style of all functions named <code><h- data-h=id>from_chars</h-></code> is specified in terms of
characters in the basic character set (and thus in terms of their Unicode code points)
or directly in terms of code points.
The analyzed pattern consists of those code points,
encoded as code units in the respective literal encoding for character literals
of the cv-unqualified type of <code><h- data-h=sym_op>*</h-><h- data-h=id>first</h-></code>.
</p>
<p>[<i>Note</i>: In any case, the pattern consists of code units encoding characters
in the basic character set (<a href=https://eel.is/c++draft/lex.charset>[lex.charset]</a>),
meaning that each code unit encodes exactly one such character.
Illegal code units or code units representing characters outside the basic character set
are not handled specially;
those code units are simply not part of the pattern. — <i>end note</i>]
</p></ins-block>

<p>Immediately following the inserted paragraph,
insert the following item:
</p>
<ins-block>
<code-block class=borderless><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>character-type</h-></i> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>using</h-> <h- data-h=id_type>from_chars_result_t</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>see below</h-></i><h- data-h=sym_punc>;</h-></code-block>

<div class=indent>
<p><i>Remarks</i>:
Denotes
</p><ul>
  <li><code><h- data-h=id>from_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char</h-></code>,</li>
  <li><code><h- data-h=id>u8from_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char8_t</h-></code>,</li>
  <li><code><h- data-h=id>u16from_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char16_t</h-></code>,</li>
  <li><code><h- data-h=id>u32from_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>char32_t</h-></code>, and</li>
  <li><code><h- data-h=id>wfrom_chars_result</h-></code> if <code><h- data-h=id>T</h-></code> is <code><h- data-h=kw_type>wchar_t</h-></code>.</li>
</ul>
</div>
</ins-block>

<p>Modify the overload for <code><i><h- data-h=id>integer-type</h-></i></code> as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=kw>constexpr</h-> <h- data-h=id>from_chars_result</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                                       <i><h- data-h=id>integer-type</h-></i><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id_type>from_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h->
                                                  <h- data-h=id>V</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins></code-block>

<div class=indent>
<p><ins><i>Constraints</i>:
<code><h- data-h=id>charT</h-></code> is a character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
<code><h- data-h=id>V</h-></code> is a signed or unsigned integer type or <code><h- data-h=kw_type>char</h-></code>.</ins></p>

<p><i>Preconditions</i>:
<code><h- data-h=id>base</h-></code> has a value between 2 and 36 (inclusive).
</p>
<p><i>Effects</i>:
<del>The pattern is the expected form of the subject sequence in the <code><h- data-h=str_dlim>"</h-><h- data-h=str>C</h-><h- data-h=str_dlim>"</h-></code> locale
for the given nonzero base,
as described for <code><h- data-h=id>strtol</h-></code>,
except that no <code><h- data-h=str_dlim>"</h-><h- data-h=str>0x</h-><h- data-h=str_dlim>"</h-></code> or <code><h- data-h=str_dlim>"</h-><h- data-h=str>0X</h-><h- data-h=str_dlim>"</h-></code> prefix shall appear if the value of base is 16,
and except that <code><h- data-h=str_dlim>'</h-><h- data-h=str>-</h-><h- data-h=str_dlim>'</h-></code> is the only sign that may appear,
and only if value has a signed type.</del>
<ins>The pattern is a sequence of digits in the given base,
where leading zeroes are ignored.
The code points U+0030..U+0039 DIGIT ZERO..NINE represent digits in the range 0..9;
Both U+0041..U+005A LATIN CAPITAL LETTER A..Z and
U+0061..U+007A LATIN SMALL LETTER A..Z represent digits in the range 10..35.
If <code><h- data-h=id>value</h-></code> is of signed type,
the pattern starts with an optional U+002D HYPHEN-MINUS
which causes the resulting <code><h- data-h=id>value</h-></code> to be negative.</ins></p>

<p><i>Throws</i>:
Nothing.
</p></div>
</diff-block>

<note-block class=edit><p><intro-></intro-> 
There is a merge conflict with an LWG issue
relating to parsing of <code><h- data-h=str_dlim>"</h-><h- data-h=str>0b</h-><h- data-h=str_dlim>"</h-></code> base prefixes
(no number allocated yet).
</p></note-block>

<note-block class=edit><p><intro-></intro-> 
It would be possible to base the wording on <code><h- data-h=id>strtol</h-></code>,
but this is quite problematic.
Changes would be required anyway to not accept <tt->0b</tt-> and <tt->0o</tt-> prefixes
(<tt->0x</tt-> is already not part of the pattern).
</p>
<p>There are so many deviations from the <code><h- data-h=id>strtol</h-></code> pattern that it arguably provides
not specification value to specify <code><h- data-h=id>to_chars</h-></code> in terms of it.
</p></note-block>

<p>Modify the overload for <code><i><h- data-h=id>floating-point-type</h-></i></code> as follows:
</p>
<diff-block>
<code-block class=borderless><h- data-h=id>from_chars_result</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <i><h- data-h=id>floating-point-type</h-></i><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                             <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<ins><h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=id_type>from_chars_result_t</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>from_chars</h-><h- data-h=sym_par>(</h-><h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>first</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>const</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>*</h-> <h- data-h=id>last</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>V</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                        <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></ins></code-block>

<div class=indent>
<p><ins><i>Constraints</i>:
<code><h- data-h=id>charT</h-></code> is a character type (<a href=https://eel.is/c++draft/basic.fundamental>[basic.fundamental]</a>).
<code><h- data-h=id>V</h-></code> is a cv-unqualified floating-point type.</ins></p>

<p><i>Preconditions</i>:
<code><h- data-h=id>fmt</h-></code> has the value of one of the enumerators of <code><h- data-h=id>chars_format</h-></code>.
</p>
<p><i>Effects</i>:
The pattern is the expected form of the subject sequence in the <code><h- data-h=str_dlim>"</h-><h- data-h=str>C</h-><h- data-h=str_dlim>"</h-></code> locale,
as described for <code><h- data-h=id>strtod</h-></code>, except that
</p><ul>
  <li><del>the sign <code><h- data-h=str_dlim>'</h-><h- data-h=str>+</h-><h- data-h=str_dlim>'</h-></code></del> <ins>U+002B PLUS SIGN</ins> may only appear in the exponent part;</li>
  <li>
    if <code><h- data-h=id>fmt</h-></code> has <code><h- data-h=id>chars_format</h->​::​scientific</code> set but not <code><h- data-h=id>chars_format</h->​::​fixed</code>,
    the otherwise optional exponent part shall appear;
  </li>
  <li>
    if fmt has <code><h- data-h=id>chars_format</h->​::​fixed</code> set but not <code><h- data-h=id>chars_format</h->​::​scientific</code>,
    the optional exponent part shall not appear; and
  </li>
  <li>
    if fmt is <code><h- data-h=id>chars_format</h->​::​hex</code>,
    <del>the prefix <code><h- data-h=str_dlim>"</h-><h- data-h=str>0x</h-><h- data-h=str_dlim>"</h-></code> or <code><h- data-h=str_dlim>"</h-><h- data-h=str>0X</h-><h- data-h=str_dlim>"</h-></code></del> <ins><tt->0x</tt-></ins> is assumed
    <ins>to precede the string,
    but is not part of the pattern</ins>.
  </li>
</ul>
<p>In any case, the resulting <code><h- data-h=id>value</h-></code> is one of at most two floating-point values
closest to the value of the string matching the pattern.
</p>
<p><i>Throws</i>:
Nothing.
</p></div>
</diff-block>

<note-block class=edit><p><intro-></intro-> 
This change includes a drive-by fix which supersedes <a href="https://github%2ecom/cplusplus/draft/pull/6848">[EDIT6848]</a>.
</p></note-block>

<h3 id=format.string.std><a class=para href=#format%2estring%2estd></a>[format.string.std]</h3>

<p>Modify <a href=https://eel.is/c++draft/format.string.std#20>[format.string.std] paragraph 20</a> as follows:
</p>
<diff-block>
<p>The meaning of some non-string presentation types is defined
in terms of a call to <code><h- data-h=id>to_chars</h-></code>.
In such cases, let
[<code><h- data-h=id>first</h-></code>, <code><h- data-h=id>last</h-></code>) be a range
<ins>of elements of type <code><h- data-h=id>charT</h-></code>,</ins>
large enough to hold the <code><h- data-h=id>to_chars</h-></code> output<ins>,</ins>
and <ins>let</ins> <code><h- data-h=id>value</h-></code> be the formatting argument value.
Formatting is done as if by calling <code><h- data-h=id>to_chars</h-></code> as specified
and copying the output through the output iterator of the format context.
</p>
<p>[<i>Note</i>: 
Additional padding and adjustments are performed
prior to copying the output through the output iterator
as specified by the format specifiers.
 — <i>end note</i>]
</p></diff-block>

<h3 id=diff.cpp26.format><a class=para href=#diff%2ecpp26%2eformat></a>[diff.cpp26.format]</h3>

<p>Add a new subclause in <a href=https://eel.is/c++draft/diff.cpp26>[diff.cpp26]</a> as follows:
</p>
<ins-block>
<h3><a href=https://eel.is/c++draft/format>[format]</a> formatting <span class=stable-ref>[diff.cpp26.format]</span></h3>

<p><b>Affected subclause</b>: <a href=https://eel.is/c++draft/format.string.std>[format.string.std]</a><br/>
<b>Change</b>: Output of <code><h- data-h=id>format</h-></code> and <code><h- data-h=id>format_to</h-></code> given a <code><h- data-h=id>wformat_string</h-></code>.<br/>
<b>Rationale</b>: Enabling consistent behavior for all character types.<br/>
<b>Effect on original feature</b>:
The <code><h- data-h=kw_type>char</h-></code> values produced by <code><h- data-h=id>to_chars</h-></code> when formatting integral
and floating-point types were previously converted to <code><h- data-h=kw_type>wchar_t</h-></code>
without additional transcoding steps that convert from the ordinary to the wide literal encoding.
Now, a call to <code><h- data-h=id>to_chars</h-></code> with a range of appropriately typed character is made directly,
which may produce different code units given <code><h- data-h=id>format_string</h-></code> and <code><h- data-h=id>wformat_string</h-></code>.
</p>
<p>[<i>Example</i>: 
</p><code-block class=borderless><h- data-h=id>string</h-> <h- data-h=id>c</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>format</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>"</h-><h- data-h=str>{}</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=id>wstring</h-> <h- data-h=id>w</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>format</h-><h- data-h=sym_par>(</h-><h- data-h=str_deco>L</h-><h- data-h=str_dlim>"</h-><h- data-h=str>{}</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=id>assert</h-><h- data-h=sym_par>(</h-><h- data-h=id>c</h-><h- data-h=sym_op>.</h-><h- data-h=id>front</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>w</h-><h- data-h=sym_op>.</h-><h- data-h=id>front</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-> <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>previously always passed, now fails if the ordinary literal encoding is EBCDIC</h-></f-serif>
                                <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> </h-><f-serif><h- data-h=cmt>and the wide literal encoding is UTF-16</h-></f-serif></code-block>
<p> — <i>end example</i>]
</p></ins-block>

<h2 id=references><a class=para href=#references></a>5. References</h2>


<div class=bib><div id=bib-item-N5014 class=bib-item>
<a href="https://wg21%2elink/n5014">[N5014]</a>
<span class=bib-author>Thomas Köppe.</span>
<span class=bib-title>Working Draft, Programming Languages — C++</span>
<span class=bib-date>2025-08-05</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2025/n5014%2epdf" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/n5014.pdf</a></div><div id=bib-item-P2007R0 class=bib-item>
<a href="https://wg21%2elink/p2007r0">[P2007R0]</a>
<span class=bib-author>Mateusz Pusz.</span>
<span class=bib-title>std::from_chars should work with std::string_view</span>
<span class=bib-date>2020-01-10</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2020/p2007r0%2ehtml" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2007r0.html</a></div><div id=bib-item-P2584R0 class=bib-item>
<a href="https://wg21%2elink/p2584r0">[P2584R0]</a>
<span class=bib-author>Corentin Jabot.</span>
<span class=bib-title>A More Composable from_chars</span>
<span class=bib-date>2022-05-12</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2022/p2584r0%2epdf" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2584r0.pdf</a></div><div id=bib-item-P3652R1 class=bib-item>
<a href="https://wg21%2elink/p3652r1">[P3652R1]</a>
<span class=bib-author>Lénárd Szolnoki.</span>
<span class=bib-title>Constexpr floating-point &lt;charconv&gt; functions</span>
<span class=bib-date>2025-04-16</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2025/p3652r1%2ehtml" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3652r1.html</a></div><div id=bib-item-LWG4421 class=bib-item>
<a href="https://cplusplus%2egithub%2eio/LWG/issue4421">[LWG4421]</a>
<span class=bib-author>Jan Schultke.</span>
<span class=bib-title>Clarify the output encoding of to_chars for integers</span>
<a href="https://cplusplus%2egithub%2eio/LWG/issue4421" class=bib-link>https://cplusplus.github.io/LWG/issue4421</a></div><div id=bib-item-SG16-Issue class=bib-item>
<a href="https://github%2ecom/sg16-unicode/sg16/issues/38">[SG16-Issue]</a>
<span class=bib-title>std::to_chars/std::from_chars overloads for char8_t (#38)</span>
<a href="https://github%2ecom/sg16-unicode/sg16/issues/38" class=bib-link>https://github.com/sg16-unicode/sg16/issues/38</a></div><div id=bib-item-EDIT6848 class=bib-item>
<a href="https://github%2ecom/cplusplus/draft/pull/6848">[EDIT6848]</a>
<span class=bib-author>Jan Schultke.</span>
<span class=bib-title>[charconv.from.chars] Clarify the role of a 0x prefix in from_chars</span>
<a href="https://github%2ecom/cplusplus/draft/pull/6848" class=bib-link>https://github.com/cplusplus/draft/pull/6848</a></div><div id=bib-item-N3047-fprintf class=bib-item>
<a href="https://www%2eiso-9899%2einfo/n3047%2ehtml#7%2e23%2e6%2e1">[N3047-fprintf]</a>
<span class=bib-title>N3047 7.23.6.1 [The fprintf function]</span>
<a href="https://www%2eiso-9899%2einfo/n3047%2ehtml#7%2e23%2e6%2e1" class=bib-link>https://www.iso-9899.info/n3047.html#7.23.6.1</a></div></div>
</main></body>
</html>
