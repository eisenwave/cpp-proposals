<!DOCTYPE html>
<html>
<head>
  <meta charset=UTF-8 /><meta name=viewport content="width=device-width, initial-scale=1"/><link rel=preconnent href=https://fonts.googleapis.com />
  <link rel=preconnent href=https://fonts.gstatic.com crossorigin/>
  <link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"/>
  <style>
html {
    --sans-serif-family: "Noto Sans", sans-serif;
    --serif-family: "Noto Serif", serif;
    --monospace-family: "Fira Code", monospace;

    --light-background-color: white;
    --light-deep-background-color: #fafafa;
    --light-text-color: black;
    --light-border-color: #aaa;
    --light-table-border-color: #777;
    --light-del-color: #be1621;
    --light-del-background-color: #fbe6e8;
    --light-ins-color: #17752d;
    --light-ins-background-color: #e4faea;
    --light-para-color: rgb(10, 73, 136);
    --light-a-color: rgb(10, 73, 136);
    --light-a-visited-color: rgb(44, 10, 136);
    --light-a-hover-color: rgb(15, 93, 170);
    --light-mark-color: black;
    --light-mark-background-color: #ffff85;
    --light-abstract-border-color: #707070;
    --light-abstract-background-color: #f0f0f0;
    --light-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --light-blockquote-border-color: #707070;
    --light-blockquote-background-color: #f0f0f0;
    --light-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --light-bug-block-border-color: #9f7b5d;
    --light-bug-block-background-color: #f0e2d9;
    --light-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%239f7b5d"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --light-decision-block-border-color: #ab6fa2;
    --light-decision-block-background-color: #f4e6f4;
    --light-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --light-del-block-border-color: #be1621;
    --light-del-block-background-color: #fbe6e8;
    --light-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be1621"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --light-details-border-color: #707070;
    --light-details-background-color: #f0f0f0;
    --light-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-diff-block-border-color: #707070;
    --light-diff-block-background-color: #f0f0f0;
    --light-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --light-example-block-border-color: #6f8aab;
    --light-example-block-background-color: #e6e9f4;
    --light-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f8aab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --light-important-block-border-color: #b05252;
    --light-important-block-background-color: #f4e6e6;
    --light-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6f6f"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --light-ins-block-border-color: #17752d;
    --light-ins-block-background-color: #e4faea;
    --light-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%2317752d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --light-note-block-border-color: #6fab6f;
    --light-note-block-background-color: #e6f4e9;
    --light-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab6f"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-tip-block-border-color: #b0a029;
    --light-tip-block-background-color: #f4f4e6;
    --light-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b0a029"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --light-todo-block-border-color: #6faba0;
    --light-todo-block-background-color: #e6f4f3;
    --light-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba0"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --light-warning-block-border-color: #af8141;
    --light-warning-block-background-color: #f4eee6;
    --light-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23af8141"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --light-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="black"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/></svg>');

    --dark-background-color: #202020;
    --dark-deep-background-color: #1a1a1a;
    --dark-text-color: #f0f0f0;
    --dark-border-color: #505050;
    --dark-table-border-color: #777;
    --dark-del-background-color: #67060c;
    --dark-del-color: #ffdcd7;
    --dark-ins-background-color: #033a16;
    --dark-ins-color: #aff5b4;
    --dark-para-color: #5bc0ff;
    --dark-a-color: #5bc0ff;
    --dark-a-visited-color: #c6a8ff;
    --dark-a-hover-color: #afd7ff;
    --dark-mark-color: #ededa8;
    --dark-mark-background-color: #525230;
    --dark-abstract-border-color: #999999;
    --dark-abstract-background-color: #2c2c2c;
    --dark-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23999999"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --dark-blockquote-border-color: #707070;
    --dark-blockquote-background-color: #2c2c2c;
    --dark-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --dark-bug-block-border-color: #ab866f;
    --dark-bug-block-background-color: #373028;
    --dark-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab866f"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --dark-details-border-color: #707070;
    --dark-details-background-color: #2c2c2c;
    --dark-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-decision-block-border-color: #ab6fa2;
    --dark-decision-block-background-color: #30232d;
    --dark-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --dark-del-block-border-color: #be5e64;
    --dark-del-block-background-color: #302323;
    --dark-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be5e64"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --dark-diff-block-border-color: #707070;
    --dark-diff-block-background-color: #2c2c2c;
    --dark-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --dark-example-block-border-color: #6f81ab;
    --dark-example-block-background-color: #232630;
    --dark-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f81ab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --dark-important-block-border-color: #b06262;
    --dark-important-block-background-color: #302323;
    --dark-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b06262"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --dark-ins-block-border-color: #5bab6d;
    --dark-ins-block-background-color: #233023;
    --dark-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%235bab6d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --dark-note-block-border-color: #6fab76;
    --dark-note-block-background-color: #233025;
    --dark-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab76"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-tip-block-border-color: #a2ab6f;
    --dark-tip-block-background-color: #2f3023;
    --dark-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23a2ab6f"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --dark-todo-block-border-color: #6fab98;
    --dark-todo-block-background-color: #23302e;
    --dark-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab98"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --dark-warning-block-border-color: #ab9c6f;
    --dark-warning-block-background-color: #302b23;
    --dark-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab9c6f"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --dark-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23f0f0f0"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/></svg>');

    --indent: 2.5em;
    --border-radius: 0.25em;
}

/* BEGIN LIGHT AND DARK THEME */

@media (prefers-color-scheme: light) {
    html {
        --background-color: var(--light-background-color);
        --deep-background-color: var(--light-deep-background-color);
        --text-color: var(--light-text-color);
        --border-color: var(--light-border-color);
        --table-border-color: var(--light-table-border-color);
        --del-color: var(--light-del-color);
        --del-background-color: var(--light-del-background-color);
        --ins-color: var(--light-ins-color);
        --ins-background-color: var(--light-ins-background-color);
        --para-color: var(--light-para-color);
        --a-color: var(--light-a-color);
        --a-visited-color: var(--light-a-visited-color);
        --a-hover-color: var(--light-a-hover-color);
        --mark-color: var(--light-mark-color);
        --mark-background-color: var(--light-mark-background-color);
        --abstract-border-color: var(--light-abstract-border-color);
        --abstract-background-color: var(--light-abstract-background-color);
        --abstract-image: var(--light-abstract-image);
        --blockquote-border-color: var(--light-blockquote-border-color);
        --blockquote-background-color: var(--light-blockquote-background-color);
        --blockquote-image: var(--light-blockquote-image);
        --bug-block-border-color: var(--light-bug-block-border-color);
        --bug-block-background-color: var(--light-bug-block-background-color);
        --bug-block-image: var(--light-bug-block-image);
        --decision-block-border-color: var(--light-decision-block-border-color);
        --decision-block-background-color: var(--light-decision-block-background-color);
        --decision-block-image: var(--light-decision-block-image);
        --del-block-border-color: var(--light-del-block-border-color);
        --del-block-background-color: var(--light-del-block-background-color);
        --del-block-image: var(--light-del-block-image);
        --details-border-color: var(--light-details-border-color);
        --details-background-color: var(--light-details-background-color);
        --details-image: var(--light-details-image);
        --diff-block-border-color: var(--light-diff-block-border-color);
        --diff-block-background-color: var(--light-diff-block-background-color);
        --diff-block-image: var(--light-diff-block-image);
        --example-block-border-color: var(--light-example-block-border-color);
        --example-block-background-color: var(--light-example-block-background-color);
        --example-block-image: var(--light-example-block-image);
        --important-block-border-color: var(--light-important-block-border-color);
        --important-block-background-color: var(--light-important-block-background-color);
        --important-block-image: var(--light-important-block-image);
        --ins-block-border-color: var(--light-ins-block-border-color);
        --ins-block-background-color: var(--light-ins-block-background-color);
        --ins-block-image: var(--light-ins-block-image);
        --note-block-border-color: var(--light-note-block-border-color);
        --note-block-background-color: var(--light-note-block-background-color);
        --note-block-image: var(--light-note-block-image);
        --tip-block-border-color: var(--light-tip-block-border-color);
        --tip-block-background-color: var(--light-tip-block-background-color);
        --tip-block-image: var(--light-tip-block-image);
        --todo-block-border-color: var(--light-todo-block-border-color);
        --todo-block-background-color: var(--light-todo-block-background-color);
        --todo-block-image: var(--light-todo-block-image);
        --warning-block-border-color: var(--light-warning-block-border-color);
        --warning-block-background-color: var(--light-warning-block-background-color);
        --warning-block-image: var(--light-warning-block-image);
        --theme-icon: var(--light-theme-icon);
    }
}

@media (prefers-color-scheme: dark) {
    html {
        --background-color: var(--dark-background-color);
        --deep-background-color: var(--dark-deep-background-color);
        --text-color: var(--dark-text-color);
        --border-color: var(--dark-border-color);
        --table-border-color: var(--dark-table-border-color);
        --del-color: var(--dark-del-color);
        --del-background-color: var(--dark-del-background-color);
        --ins-color: var(--dark-ins-color);
        --ins-background-color: var(--dark-ins-background-color);
        --para-color: var(--dark-para-color);
        --a-color: var(--dark-a-color);
        --a-visited-color: var(--dark-a-visited-color);
        --a-hover-color: var(--dark-a-hover-color);
        --mark-color: var(--dark-mark-color);
        --mark-background-color: var(--dark-mark-background-color);
        --abstract-border-color: var(--dark-abstract-border-color);
        --abstract-background-color: var(--dark-abstract-background-color);
        --abstract-image: var(--dark-abstract-image);
        --blockquote-border-color: var(--dark-blockquote-border-color);
        --blockquote-background-color: var(--dark-blockquote-background-color);
        --blockquote-image: var(--dark-blockquote-image);
        --bug-block-border-color: var(--dark-bug-block-border-color);
        --bug-block-background-color: var(--dark-bug-block-background-color);
        --bug-block-image: var(--dark-bug-block-image);
        --decision-block-border-color: var(--dark-decision-block-border-color);
        --decision-block-background-color: var(--dark-decision-block-background-color);
        --decision-block-image: var(--dark-decision-block-image);
        --del-block-border-color: var(--dark-del-block-border-color);
        --del-block-background-color: var(--dark-del-block-background-color);
        --del-block-image: var(--dark-del-block-image);
        --details-border-color: var(--dark-details-border-color);
        --details-background-color: var(--dark-details-background-color);
        --details-image: var(--dark-details-image);
        --diff-block-border-color: var(--dark-diff-block-border-color);
        --diff-block-background-color: var(--dark-diff-block-background-color);
        --diff-block-image: var(--dark-diff-block-image);
        --example-block-border-color: var(--dark-example-block-border-color);
        --example-block-background-color: var(--dark-example-block-background-color);
        --example-block-image: var(--dark-example-block-image);
        --important-block-border-color: var(--dark-important-block-border-color);
        --important-block-background-color: var(--dark-important-block-background-color);
        --important-block-image: var(--dark-important-block-image);
        --ins-block-border-color: var(--dark-ins-block-border-color);
        --ins-block-background-color: var(--dark-ins-block-background-color);
        --ins-block-image: var(--dark-ins-block-image);
        --note-block-border-color: var(--dark-note-block-border-color);
        --note-block-background-color: var(--dark-note-block-background-color);
        --note-block-image: var(--dark-note-block-image);
        --tip-block-border-color: var(--dark-tip-block-border-color);
        --tip-block-background-color: var(--dark-tip-block-background-color);
        --tip-block-image: var(--dark-tip-block-image);
        --todo-block-border-color: var(--dark-todo-block-border-color);
        --todo-block-background-color: var(--dark-todo-block-background-color);
        --todo-block-image: var(--dark-todo-block-image);
        --warning-block-border-color: var(--dark-warning-block-border-color);
        --warning-block-background-color: var(--dark-warning-block-background-color);
        --warning-block-image: var(--dark-warning-block-image);
        --theme-icon: var(--dark-theme-icon);
    }
}

html.light {
    --background-color: var(--light-background-color);
    --deep-background-color: var(--light-deep-background-color);
    --text-color: var(--light-text-color);
    --border-color: var(--light-border-color);
    --table-border-color: var(--light-table-border-color);
    --del-color: var(--light-del-color);
    --del-background-color: var(--light-del-background-color);
    --ins-color: var(--light-ins-color);
    --ins-background-color: var(--light-ins-background-color);
    --para-color: var(--light-para-color);
    --a-color: var(--light-a-color);
    --a-visited-color: var(--light-a-visited-color);
    --a-hover-color: var(--light-a-hover-color);
    --mark-color: var(--light-mark-color);
    --mark-background-color: var(--light-mark-background-color);
    --abstract-border-color: var(--light-abstract-border-color);
    --abstract-background-color: var(--light-abstract-background-color);
    --abstract-image: var(--light-abstract-image);
    --blockquote-border-color: var(--light-blockquote-border-color);
    --blockquote-background-color: var(--light-blockquote-background-color);
    --blockquote-image: var(--light-blockquote-image);
    --bug-block-border-color: var(--light-bug-block-border-color);
    --bug-block-background-color: var(--light-bug-block-background-color);
    --bug-block-image: var(--light-bug-block-image);
    --decision-block-border-color: var(--light-decision-block-border-color);
    --decision-block-background-color: var(--light-decision-block-background-color);
    --decision-block-image: var(--light-decision-block-image);
    --del-block-border-color: var(--light-del-block-border-color);
    --del-block-background-color: var(--light-del-block-background-color);
    --del-block-image: var(--light-del-block-image);
    --details-border-color: var(--light-details-border-color);
    --details-background-color: var(--light-details-background-color);
    --details-image: var(--light-details-image);
    --diff-block-border-color: var(--light-diff-block-border-color);
    --diff-block-background-color: var(--light-diff-block-background-color);
    --diff-block-image: var(--light-diff-block-image);
    --example-block-border-color: var(--light-example-block-border-color);
    --example-block-background-color: var(--light-example-block-background-color);
    --example-block-image: var(--light-example-block-image);
    --important-block-border-color: var(--light-important-block-border-color);
    --important-block-background-color: var(--light-important-block-background-color);
    --important-block-image: var(--light-important-block-image);
    --ins-block-border-color: var(--light-ins-block-border-color);
    --ins-block-background-color: var(--light-ins-block-background-color);
    --ins-block-image: var(--light-ins-block-image);
    --note-block-border-color: var(--light-note-block-border-color);
    --note-block-background-color: var(--light-note-block-background-color);
    --note-block-image: var(--light-note-block-image);
    --tip-block-border-color: var(--light-tip-block-border-color);
    --tip-block-background-color: var(--light-tip-block-background-color);
    --tip-block-image: var(--light-tip-block-image);
    --todo-block-border-color: var(--light-todo-block-border-color);
    --todo-block-background-color: var(--light-todo-block-background-color);
    --todo-block-image: var(--light-todo-block-image);
    --warning-block-border-color: var(--light-warning-block-border-color);
    --warning-block-background-color: var(--light-warning-block-background-color);
    --warning-block-image: var(--light-warning-block-image);
    --theme-icon: var(--light-theme-icon);
}

html.dark {
    --background-color: var(--dark-background-color);
    --deep-background-color: var(--dark-deep-background-color);
    --text-color: var(--dark-text-color);
    --border-color: var(--dark-border-color);
    --table-border-color: var(--dark-table-border-color);
    --del-color: var(--dark-del-color);
    --del-background-color: var(--dark-del-background-color);
    --ins-color: var(--dark-ins-color);
    --ins-background-color: var(--dark-ins-background-color);
    --para-color: var(--dark-para-color);
    --a-color: var(--dark-a-color);
    --a-visited-color: var(--dark-a-visited-color);
    --a-hover-color: var(--dark-a-hover-color);
    --mark-color: var(--dark-mark-color);
    --mark-background-color: var(--dark-mark-background-color);
    --abstract-border-color: var(--dark-abstract-border-color);
    --abstract-background-color: var(--dark-abstract-background-color);
    --abstract-image: var(--dark-abstract-image);
    --blockquote-border-color: var(--dark-blockquote-border-color);
    --blockquote-background-color: var(--dark-blockquote-background-color);
    --blockquote-image: var(--dark-blockquote-image);
    --bug-block-border-color: var(--dark-bug-block-border-color);
    --bug-block-background-color: var(--dark-bug-block-background-color);
    --bug-block-image: var(--dark-bug-block-image);
    --decision-block-border-color: var(--dark-decision-block-border-color);
    --decision-block-background-color: var(--dark-decision-block-background-color);
    --decision-block-image: var(--dark-decision-block-image);
    --del-block-border-color: var(--dark-del-block-border-color);
    --del-block-background-color: var(--dark-del-block-background-color);
    --del-block-image: var(--dark-del-block-image);
    --details-border-color: var(--dark-details-border-color);
    --details-background-color: var(--dark-details-background-color);
    --details-image: var(--dark-details-image);
    --diff-block-border-color: var(--dark-diff-block-border-color);
    --diff-block-background-color: var(--dark-diff-block-background-color);
    --diff-block-image: var(--dark-diff-block-image);
    --example-block-border-color: var(--dark-example-block-border-color);
    --example-block-background-color: var(--dark-example-block-background-color);
    --example-block-image: var(--dark-example-block-image);
    --important-block-border-color: var(--dark-important-block-border-color);
    --important-block-background-color: var(--dark-important-block-background-color);
    --important-block-image: var(--dark-important-block-image);
    --ins-block-border-color: var(--dark-ins-block-border-color);
    --ins-block-background-color: var(--dark-ins-block-background-color);
    --ins-block-image: var(--dark-ins-block-image);
    --note-block-border-color: var(--dark-note-block-border-color);
    --note-block-background-color: var(--dark-note-block-background-color);
    --note-block-image: var(--dark-note-block-image);
    --tip-block-border-color: var(--dark-tip-block-border-color);
    --tip-block-background-color: var(--dark-tip-block-background-color);
    --tip-block-image: var(--dark-tip-block-image);
    --todo-block-border-color: var(--dark-todo-block-border-color);
    --todo-block-background-color: var(--dark-todo-block-background-color);
    --todo-block-image: var(--dark-todo-block-image);
    --warning-block-border-color: var(--dark-warning-block-border-color);
    --warning-block-background-color: var(--dark-warning-block-background-color);
    --warning-block-image: var(--dark-warning-block-image);
    --theme-icon: var(--dark-theme-icon);
}

/* END LIGHT AND DARK THEME */

html {
    margin: 0;
    width: 100%;
    font-family: var(--serif-family);
    font-size: 11pt;

    border-left: var(--border-thickness) solid var(--border-color);
    color: var(--text-color);
    background-color: var(--background-color);
}

body {
    --vertical-margin: 2rem;
    --margin-left: 3rem;
    --margin-right: 2rem;

    margin: var(--vertical-margin) var(--margin-right) var(--vertical-margin) var(--margin-left);
    width: calc(100% - var(--margin-left) - var(--margin-right));
    box-sizing: border-box;
}

main {
    max-width: 60rem;
    margin-left: auto;
    margin-right: auto;
}

p {
    text-align: justify;
}

abstract-block,
blockquote,
bug-block,
code-block,
decision-block,
del-block,
details,
dl,
diff-block,
example-block,
hr,
ol,
important-block,
ins-block,
math[display=block],
note-block,
p,
pre,
tip-block,
todo-block,
ul,
warning-block,
.indent {
    display: block;
    margin-top: 1em;
    margin-bottom: 1em;
}

a {
    color: var(--a-color);
    text-decoration: unset;
}

a:visited {
    color: var(--a-visited-color);
}

a:hover,
a:focus {
    color: var(--a-hover-color);
}

a:hover {
    text-decoration: underline;
}

ol,
ul {
    padding-left: var(--indent);
}

li {
    margin: 0.5em 0;
}

dt {
    margin-top: 0.25em;
    font-style: italic;
    font-weight: bold;
}

dd {
    margin-bottom: 0.25em;
    margin-left: var(--indent);
}

abstract-block,
blockquote,
bug-block,
del-block,
details,
decision-block,
diff-block,
example-block,
important-block,
ins-block,
note-block,
tip-block,
todo-block,
warning-block {
    --border-thickness: 0.25em;
    --padding: 0.5em;

    position: relative;
    width: calc(100% - var(--indent));
    box-sizing: border-box;
    padding: var(--padding);
    margin-left: var(--indent);

    border-top-right-radius: var(--border-radius);
    border-bottom-right-radius: var(--border-radius);
}

abstract-block>:first-child,
blockquote>:first-child,
bug-block>:first-child,
del-block>:first-child,
details>:first-child,
decision-block>:first-child,
diff-block>:first-child,
example-block>:first-child,
important-block>:first-child,
ins-block>:first-child,
note-block>:first-child,
tip-block>:first-child,
todo-block>:first-child,
warning-block>:first-child {
    margin-top: 0;
}

abstract-block>:last-child,
blockquote>:last-child,
bug-block>:last-child,
del-block>:last-child,
details>:last-child,
decision-block>:last-child,
diff-block>:last-child,
example-block>:last-child,
important-block>:last-child,
ins-block>:last-child,
note-block>:last-child,
todo-block>:last-child,
tip-block>:last-child,
warning-block>:last-child {
    margin-bottom: 0;
}

abstract-block::before,
blockquote::before,
bug-block::before,
del-block::before,
details::before,
decision-block::before,
diff-block::before,
example-block::before,
important-block::before,
ins-block::before,
note-block::before,
todo-block::before,
tip-block::before,
warning-block::before {
    position: absolute;
    left: -2.5em;
    top: 0.25em;
    width: 2em;
    height: 2em;

    content: "";
    display: inline-block;
    background-size: contain;
    background-repeat: no-repeat;

}

code,
code-block,
pre,
samp,
tt,
tt-,
.mono {
    font-family: var(--monospace-family);
    font-style: normal;
    font-variant-ligatures: none;
}

code-block:not(.borderless),
pre {
    padding: 0.5em;
    border-radius: var(--border-radius);
    box-sizing: border-box;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
}

code-block,
pre {
    font-size: 95%;
    width: 100%;
}

code-block,
pre {
    white-space: pre;
    overflow-x: auto;
}

/* INSERTIONS AND DELETIONS */

ins,
ins-lines {
    text-decoration: underline;
    font-weight: 600;
    color: var(--ins-color);
    background-color: var(--ins-background-color);
}

code-block ins,
code-block ins-lines {
    text-decoration: inherit;
}

del {
    text-decoration: line-through;
}

del,
del-lines {
    color: var(--del-color);
    background-color: var(--del-background-color);
}

ins-lines,
del-lines {
    display: inline-block;
    width: 100%;
}

ins h-,
ins-lines h-,
del h-,
del-lines h- {
    color: inherit !important;
    background-color: inherit !important;
}

kbd {
    font-family: var(--sans-serif-family);

    display: inline-block;
    padding: 0 0.25em 0.15em 0.25em;
    border-radius: 0.25em;
    white-space: nowrap;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
    box-shadow: inset 0 -0.1em 0 var(--border-color);
}

mark {
    color: var(--mark-color);
    background-color: var(--mark-background-color);
}

math:not([display=block]) {
    font-size: 120%;
}

math[display=block] {
    width: fit-content;
    margin-left: var(--indent);

    font-size: 110%;
}

g-term,
f-sans,
f-serif,
wg21-block {
    display: inline;
}

f-sans,
.sans {
    font-family: var(--sans-serif-family);
}

f-serif,
.serif {
    font-family: var(--serif-family);
}

.grammar dd,
g-term {
    font-family: var(--sans-serif-family);
    font-style: oblique;
}

.grammar {
    margin-left: var(--indent);
}

.grammar dt {
    font-weight: normal;
    font-style: normal;
}

.oblique {
    font-style: oblique;
}

.word {
    white-space: nowrap;
}

.wg21-head {
    margin-bottom: 4em;
}

.wg21-head dl {
    font-family: var(--sans-serif-family);
}

.wg21-head dt {
    font-style: normal;
}

/* HEADINGS */

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin: 1rem 0;
}

h1 {
    margin: 2rem 0 1.5rem 0;
    font-size: 250%;
}

h2 {
    margin: 2.5rem 0 1.5rem 0;
    font-size: 166%;
}

h3 {
    margin: 2rem 0 1rem 0;
    font-size: 133%;
}

h4 {
    margin: 1.5rem 0 0.5rem 0;
    font-size: 100%;
}

h5 {
    margin: 1rem 0 0.5rem 0;
    font-size: 100%;
    font-weight: normal;
}

h6 {
    margin: 1rem 0 0.5rem 0;
    font-size: 90%;
    font-weight: normal;
}

table {
    --border: 1px solid var(--table-border-color);

    margin-top: 1em;
    margin-bottom: 1em;
    border-collapse: collapse;
}

table,
tbody,
thead,
th {
    border: var(--border);
}

td {
    border-left: var(--border);
    border-right: var(--border);
}

td,
th {
    padding: 0.1em 0.5em;
}

.para {
    cursor: pointer;
    font-weight: normal;
    font-family: var(--monospace-family);
    text-decoration: none;
    opacity: 0.25;

    position: absolute;
    top: 0.05em;
    left: calc(-1rem - 0.5ch);
}

.para,
.para::before {
    color: var(--para-color);
}

.para:hover,
.para:focus,
:target .para {
    opacity: 1;
}

.para::before {
    content: "ยง";
}

/* TABLE OF CONTENTS */

.toc {
    --h-indent: 0.75em;

    display: grid;
    grid-template-columns: min-content auto;
}

.toc-num {
    display: inline-block;
    align-self: end;
    padding-right: 3em;

    letter-spacing: 0em;
}

.toc h1,
.toc h2,
.toc h3,
.toc h4,
.toc h5,
.toc h6 {
    display: inline-block;

    font-weight: 500;
    font-size: 12pt;

    margin-top: 0;
    margin-bottom: 0;
}

.toc a,
.toc-num {
    border-bottom: 1px solid rgba(0, 0, 0, 0);
    color: var(--text-color);
}

.toc h1,
.toc-num[data-level="1"] {
    font-size: 125%;
    font-weight: 900;
}

.toc h2,
.toc-num[data-level="2"] {
    font-weight: 700;
}

.toc h3,
.toc-num[data-level="3"] {
    font-weight: 500;
}

.toc h4,
.toc-num[data-level="4"] {
    font-size: 95%;
    font-weight: 400;
}

.toc h5,
.toc-num[data-level="5"] {
    font-size: 90%;
    font-weight: 300;
}

.toc h6,
.toc-num[data-level="6"] {
    font-size: 90%;
    font-weight: 100;
}

.toc a:hover {
    display: inline-block;
    width: 100%;

    color: var(--a-hover-color);
    border-bottom: 1px dashed var(--a-hover-color);
}

.toc h1:not(:nth-child(2)>h1) {
    margin-top: 1.5em;
}

.toc h2:not(:nth-child(2)>h2) {
    margin-top: 0.75em;
}

/** BIBLIOGRAPHY */

.bib {
    display: block;
    margin: 1em 0;
}

.bib-item {
    display: inline-block;
    width: 100%;
    margin: 0.25em 0;
}

.bib-item>* {
    padding: 0 0.125em;
}

.bib-author {
    font-style: italic;
}

.bib-title {
    font-weight: 500;
}

.bib-date {
    font-family: var(--monospace-family);
}

.bib-date::before {
    font-family: var(--serif-family);
    content: "(";
}

.bib-date::after {
    font-family: var(--serif-family);
    content: ")";
}

.bib-link {
    display: block;
    margin-left: var(--indent);

    font-family: var(--sans-serif-family);
    font-style: normal;
}

/* SPECIAL BLOCKS */

intro- {
    display: inline-block;

    font-weight: 600;
    text-transform: uppercase;
    font-family: var(--sans-serif-family);
}

abstract-block {
    background-color: var(--abstract-background-color);
    border-left: var(--border-thickness) solid var(--abstract-border-color);
}

abstract-block::before {
    background-image: var(--abstract-image);
}

abstract-block intro-::before {
    content: "Abstract:";
    color: var(--abstract-border-color);
}

blockquote {
    background-color: var(--blockquote-background-color);
    border-left: var(--border-thickness) solid var(--blockquote-border-color);
}

blockquote::before {
    background-image: var(--blockquote-image);
    top: -0.25em;
}

blockquote intro-::before {
    content: "Quote:";
    color: var(--blockquote-border-color);
}

bug-block {
    background-color: var(--bug-block-background-color);
    border-left: var(--border-thickness) solid var(--bug-block-border-color);
}

bug-block::before {
    background-image: var(--bug-block-image);
}

bug-block intro-::before {
    content: "Bug:";
    color: var(--bug-block-border-color);
}

del-block {
    background-color: var(--del-block-background-color);
    border-left: var(--border-thickness) solid var(--del-block-border-color);
    color: var(--del-color);
}

del-block::before {
    background-image: var(--del-block-image);
}

del-block intro-::before {
    content: "Deleted:";
    color: var(--del-block-border-color);
}

del-block code,
del-block code-block {
    color: var(--text-color);
}

details {
    background-color: var(--details-background-color);
    border-left: var(--border-thickness) solid var(--details-border-color);
}

details::before {
    background-image: var(--details-image);
}

summary {
    font-family: var(--sans-serif-family);
    color: var(--details-border-color);
    user-select: none;
    cursor: pointer;
}

details[open]>summary {
    margin-bottom: 0.5em;
}

decision-block {
    background-color: var(--decision-block-background-color);
    border-left: var(--border-thickness) solid var(--decision-block-border-color);
}

decision-block::before {
    background-image: var(--decision-block-image);
}

decision-block intro-::before {
    content: "Decision:";
    color: var(--decision-block-border-color);
}

diff-block {
    background-color: var(--diff-block-background-color);
    border-left: var(--border-thickness) solid var(--diff-block-border-color);
}

diff-block::before {
    background-image: var(--diff-block-image);
}

diff-block intro-::before {
    content: "Difference:";
    color: var(--diff-block-border-color);
}

example-block {
    background-color: var(--example-block-background-color);
    border-left: var(--border-thickness) solid var(--example-block-border-color);
}

example-block::before {
    background-image: var(--example-block-image);
}

example-block intro-::before {
    content: "Example:";
    color: var(--example-block-border-color);
}

important-block {
    background-color: var(--important-block-background-color);
    border-left: var(--border-thickness) solid var(--important-block-border-color);
}

important-block::before {
    background-image: var(--important-block-image);
}

important-block intro-::before {
    content: "Important:";
    color: var(--important-block-border-color);
}

ins-block {
    background-color: var(--ins-block-background-color);
    border-left: var(--border-thickness) solid var(--ins-block-border-color);
    color: var(--ins-color);
}

ins-block code,
ins-block code-block {
    color: var(--text-color);
}

ins-block::before {
    background-image: var(--ins-block-image);
}

ins-block intro-::before {
    content: "Inserted:";
    color: var(--ins-block-border-color);
}

note-block {
    background-color: var(--note-block-background-color);
    border-left: var(--border-thickness) solid var(--note-block-border-color);
}

note-block::before {
    background-image: var(--note-block-image);
}

note-block intro-::before {
    content: "Note:";
    color: var(--note-block-border-color);
}

tip-block {
    background-color: var(--tip-block-background-color);
    border-left: var(--border-thickness) solid var(--tip-block-border-color);
}

tip-block::before {
    background-image: var(--tip-block-image);
}

tip-block intro-::before {
    content: "Tip:";
    color: var(--tip-block-border-color);
}

todo-block {
    background-color: var(--todo-block-background-color);
    border-left: var(--border-thickness) solid var(--todo-block-border-color);
}

todo-block::before {
    background-image: var(--todo-block-image);
}

todo-block intro-::before {
    content: "Todo:";
    color: var(--todo-block-border-color);
}

warning-block {
    background-color: var(--warning-block-background-color);
    border-left: var(--border-thickness) solid var(--warning-block-border-color);
}

warning-block::before {
    background-image: var(--warning-block-image);
}

warning-block intro-::before {
    content: "Warning:";
    color: var(--warning-block-border-color);
}

.indent {
    margin-left: var(--indent);
}

/* SETTINGS MENU */

#settings:not(.js) {
    display: none;
}

#settings {
    z-index: 999;
    position: fixed;
    display: inline-block;
    top: 1em;
    right: 1em;
}

#theme-icon {
    display: block;
    width: 2.5em;
    height: 2.5em;
    cursor: pointer;
    background-image: var(--theme-icon);
    background-size: contain;
    opacity: 0.25;
}

#theme-icon:hover,
#theme-icon:focus {
    opacity: 1;
}
  </style>
  <style>
@media (prefers-color-scheme: light) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:green; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#9f6807; }
h-[data-h^=num] { color:#9f6807; }
h-[data-h^=str] { color:#9f6807; }
h-[data-h^=esc] { color:#9f6807; }
h-[data-h^=null] { color:#00607c; }
h-[data-h^=bool] { color:#9f6807; }
h-[data-h^=this] { color:#00607c; }
h-[data-h^=mac] { color:#6f4e37; }
h-[data-h^=id] { color:#000000; }
h-[data-h^=id_labl] { color:#517a0b; }
h-[data-h^=id_nt] { font-style:italic; }
h-[data-h^=id_nt_dcl] { color:#00607c; font-style:italic; }
h-[data-h^=kw] { color:#00607c; }
h-[data-h^=sym] { color:#570057; }
h-[data-h^=sym_punc] { color:#000000; }
h-[data-h^=sym_par] { color:#af1915; }
h-[data-h^=sym_sqr] { color:#af1915; }
h-[data-h^=sym_brac] { color:#af1915; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#5c477e; }
h-[data-h^=diff_eq] { color:#000000; }
h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
h-[data-h^=mk_tag] { color:#00607c; }
h-[data-h^=mk_attr] { color:#5c477e; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#00607c; }
h-[data-h^=sh-opt] { color:#000000; }
h-[data-h^=asm_ins] { color:#00607c; }
h-[data-h^=asm_ins_psu] { color:#9f6807; }
}
@media (prefers-color-scheme: dark) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#f2d18d; }
h-[data-h^=num] { color:#f2d18d; }
h-[data-h^=num_dlim] { color:#e6b191; }
h-[data-h^=num_deco] { color:#e6b191; }
h-[data-h^=str] { color:#f2d18d; }
h-[data-h^=str_dlim] { color:#e6b191; }
h-[data-h^=str_deco] { color:#e6b191; }
h-[data-h^=esc] { color:#e6aee6; }
h-[data-h^=null] { color:#62ded6; }
h-[data-h^=bool] { color:#f2d18d; }
h-[data-h^=this] { color:#62ded6; }
h-[data-h^=mac] { color:#cc946e; }
h-[data-h^=id] { color:#f0f0f0; }
h-[data-h^=id_labl] { color:#d8eda6; }
h-[data-h^=id_nt] { font-style:italic; }
h-[data-h^=id_nt_dcl] { color:#62ded6; font-style:italic; }
h-[data-h^=kw] { color:#62ded6; }
h-[data-h^=sym] { color:#baa6b9; }
h-[data-h^=sym_punc] { color:#d0d0d0; }
h-[data-h^=sym_par] { color:#fa7878; }
h-[data-h^=sym_sqr] { color:#fa7878; }
h-[data-h^=sym_brac] { color:#fa7878; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#edc385; }
h-[data-h^=diff_eq] { color:#e7e7e7; }
h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
h-[data-h^=mk_tag] { color:#62ded6; }
h-[data-h^=mk_attr] { color:#a4c4de; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#62ded6; }
h-[data-h^=sh-opt] { color:#f0f0f0; }
h-[data-h^=asm_ins] { color:#62ded6; }
h-[data-h^=asm_ins_psu] { color:#e6aee6; }
}

html.light h-[data-h^=err] { color:#ff0000; }
html.light h-[data-h^=cmt] { color:green; font-style:italic; }
html.light h-[data-h^=cmt_dlim] { font-style:normal; }
html.light h-[data-h^=val] { color:#9f6807; }
html.light h-[data-h^=num] { color:#9f6807; }
html.light h-[data-h^=str] { color:#9f6807; }
html.light h-[data-h^=esc] { color:#9f6807; }
html.light h-[data-h^=null] { color:#00607c; }
html.light h-[data-h^=bool] { color:#9f6807; }
html.light h-[data-h^=this] { color:#00607c; }
html.light h-[data-h^=mac] { color:#6f4e37; }
html.light h-[data-h^=id] { color:#000000; }
html.light h-[data-h^=id_labl] { color:#517a0b; }
html.light h-[data-h^=id_nt] { font-style:italic; }
html.light h-[data-h^=id_nt_dcl] { color:#00607c; font-style:italic; }
html.light h-[data-h^=kw] { color:#00607c; }
html.light h-[data-h^=sym] { color:#570057; }
html.light h-[data-h^=sym_punc] { color:#000000; }
html.light h-[data-h^=sym_par] { color:#af1915; }
html.light h-[data-h^=sym_sqr] { color:#af1915; }
html.light h-[data-h^=sym_brac] { color:#af1915; }
html.light h-[data-h^=diff_head] { color:#777777; }
html.light h-[data-h^=diff_head_hunk] { color:#5c477e; }
html.light h-[data-h^=diff_eq] { color:#000000; }
html.light h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
html.light h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
html.light h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
html.light h-[data-h^=mk_tag] { color:#00607c; }
html.light h-[data-h^=mk_attr] { color:#5c477e; }
html.light h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.light h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.light h-[data-h^=mk_emph] { font-style:italic; }
html.light h-[data-h^=mk_stro] { font-weight:bold; }
html.light h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.light h-[data-h^=mk_ulin] { text-decoration:underline; }
html.light h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.light h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_strk] { text-decoration:line-through; }
html.light h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.light h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=sh_cmd] { color:#00607c; }
html.light h-[data-h^=sh-opt] { color:#000000; }
html.light h-[data-h^=asm_ins] { color:#00607c; }
html.light h-[data-h^=asm_ins_psu] { color:#9f6807; }

html.dark h-[data-h^=err] { color:#ff0000; }
html.dark h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
html.dark h-[data-h^=cmt_dlim] { font-style:normal; }
html.dark h-[data-h^=val] { color:#f2d18d; }
html.dark h-[data-h^=num] { color:#f2d18d; }
html.dark h-[data-h^=num_dlim] { color:#e6b191; }
html.dark h-[data-h^=num_deco] { color:#e6b191; }
html.dark h-[data-h^=str] { color:#f2d18d; }
html.dark h-[data-h^=str_dlim] { color:#e6b191; }
html.dark h-[data-h^=str_deco] { color:#e6b191; }
html.dark h-[data-h^=esc] { color:#e6aee6; }
html.dark h-[data-h^=null] { color:#62ded6; }
html.dark h-[data-h^=bool] { color:#f2d18d; }
html.dark h-[data-h^=this] { color:#62ded6; }
html.dark h-[data-h^=mac] { color:#cc946e; }
html.dark h-[data-h^=id] { color:#f0f0f0; }
html.dark h-[data-h^=id_labl] { color:#d8eda6; }
html.dark h-[data-h^=id_nt] { font-style:italic; }
html.dark h-[data-h^=id_nt_dcl] { color:#62ded6; font-style:italic; }
html.dark h-[data-h^=kw] { color:#62ded6; }
html.dark h-[data-h^=sym] { color:#baa6b9; }
html.dark h-[data-h^=sym_punc] { color:#d0d0d0; }
html.dark h-[data-h^=sym_par] { color:#fa7878; }
html.dark h-[data-h^=sym_sqr] { color:#fa7878; }
html.dark h-[data-h^=sym_brac] { color:#fa7878; }
html.dark h-[data-h^=diff_head] { color:#777777; }
html.dark h-[data-h^=diff_head_hunk] { color:#edc385; }
html.dark h-[data-h^=diff_eq] { color:#e7e7e7; }
html.dark h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
html.dark h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
html.dark h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
html.dark h-[data-h^=mk_tag] { color:#62ded6; }
html.dark h-[data-h^=mk_attr] { color:#a4c4de; }
html.dark h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.dark h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.dark h-[data-h^=mk_emph] { font-style:italic; }
html.dark h-[data-h^=mk_stro] { font-weight:bold; }
html.dark h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.dark h-[data-h^=mk_ulin] { text-decoration:underline; }
html.dark h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.dark h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_strk] { text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=sh_cmd] { color:#62ded6; }
html.dark h-[data-h^=sh-opt] { color:#f0f0f0; }
html.dark h-[data-h^=asm_ins] { color:#62ded6; }
html.dark h-[data-h^=asm_ins_psu] { color:#e6aee6; }
  </style>
  <script>
const theme = localStorage.getItem("cowel-theme");
if (theme !== null) {
    document.documentElement.className = theme;
}
  </script>
<title>Provide a better replacement for std::to_chars and std::from_chars</title></head>
<body>
<div id=settings tabindex=0>
    <div id=theme-icon></div>
    <script>
        const settings = document.getElementById("settings");
        const htmlClasses = document.documentElement.classList;
        const themeIcon = document.getElementById("theme-icon");

        settings.classList.add("js");
        themeIcon.onclick = () => {
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)");
            const overrideClass = prefersDark.matches ? "light" : "dark";
            if (htmlClasses.contains("light")) {
                htmlClasses.remove("light");
                localStorage.removeItem("cowel-theme");
            } else if (htmlClasses.contains("dark")) {
                htmlClasses.remove("dark");
                localStorage.removeItem("cowel-theme");
            } else {
                htmlClasses.add(overrideClass);
                // to avoid legal issues or controversy in general,
                // we don't mess with local storage when the page is hosted in arbitrary places
                if (window.location.protocol === "file:") {
                    localStorage.setItem("cowel-theme", overrideClass);
                }
            }
        };
        settings.onkeydown = (e) => {
            if (e.key === "Enter" || e.key === " ") {
                event.preventDefault();
                themeIcon.onclick();
            }
        };
    </script>
</div>
<main>
<style>
  html {
    --light-edit-note-block-border-color: #6faba9;
    --light-edit-note-block-background-color: #e6f4f3;
    --light-edit-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba9"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');

    --dark-edit-note-block-border-color: #6faba9;
    --dark-edit-note-block-background-color: #232f30;
    --dark-edit-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba9"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');

    --light-diff-comment-color: #386a57ff;
    --dark-diff-comment-color: #a7c7bbff;
  }

  @media (prefers-color-scheme: light) {
    html {
      --edit-note-block-border-color: var(--light-edit-note-block-border-color);
      --edit-note-block-background-color: var(--light-edit-note-block-background-color);
      --edit-note-block-image: var(--light-edit-note-block-image);
      --diff-comment-color: var(--light-diff-comment-color);
    }
  }
  @media (prefers-color-scheme: dark) {
    html {
      --edit-note-block-border-color: var(--dark-edit-note-block-border-color);
      --edit-note-block-background-color: var(--dark-edit-note-block-background-color);
      --edit-note-block-image: var(--dark-edit-note-block-image);
      --diff-comment-color: var(--dark-diff-comment-color);
    }
  }
  html.light {
    --edit-note-block-border-color: var(--light-edit-note-block-border-color);
    --edit-note-block-background-color: var(--light-edit-note-block-background-color);
    --edit-note-block-image: var(--light-edit-note-block-image);
    --diff-comment-color: var(--light-diff-comment-color);
  }
  html.dark {
    --edit-note-block-border-color: var(--dark-edit-note-block-border-color);
    --edit-note-block-background-color: var(--dark-edit-note-block-background-color);
    --edit-note-block-image: var(--dark-edit-note-block-image);
    --diff-comment-color: var(--dark-diff-comment-color);
  }

  note-block.edit {
    background-color: var(--edit-note-block-background-color);
    border-left: var(--border-thickness) solid var(--edit-note-block-border-color);
  }

  note-block.edit::before {
    background-image: var(--edit-note-block-image);
  }

  note-block.edit intro-::before {
    content: "Drafting note:";
    color: var(--edit-note-block-border-color);
  }

  ins-block .para::before {
    display: none;
  }

  .grammar dd {
    margin-top: 0;
    margin-bottom: 0;
  }

  .opt {
    font-family: var(--serif-family);
    font-style: oblique;
  }

  .normal {
    font-style: normal;
    font-family: var(--serif-family);
  }

  .stable-ref {
    float: right;
  }

  .five-way-poll {
    table-layout: fixed;
  }
  .five-way-poll td {
    width: 20%;
    text-align: center;
  }

  q::before {
    content: "โ";
  }
  q::after {
    content: "โ";
  }

  diff-block h-[data-h^=cmt],
  html.light diff-block h-[data-h^=cmt],
  html.dark diff-block h-[data-h^=cmt] {
    color: var(--diff-comment-color);
  }
</style>

<div class=wg21-head><h1>Provide a better replacement for <tt->std::to_chars</tt-> and <tt->std::from_chars</tt-></h1>

<dl>
  <dt>Document number:</dt> <dd><a href=https://wg21.link/D3944R0>D3944R0</a></dd>
  <dt>Date:</dt>            <dd><tt->2025-12-12</tt-></dd>
  <dt>Audience:</dt>        <dd>LEWG</dd>
  <dt>Project:</dt>         <dd>ISO/IEC 14882 Programming Languages โ C++, ISO/IEC JTC1/SC22/WG21</dd>
  <dt>Reply-to:</dt>        <dd>Jan Schultke &lt;<a href=mailto:janschultke@gmail.com class=sans>janschultke@gmail.com</a>&gt;</dd>
  <dt>GitHub Issue:</dt>    <dd><a href=https://wg21.link/P3688/github class=sans>wg21.link/P3688/github</a></dd>
  <dt>Source:</dt>          <dd><a href=https://github.com/eisenwave/cpp-proposals/blob/master/src/replace-charconv.cow class=sans>github.com/eisenwave/cpp-proposals/blob/master/src/replace-charconv.cow</a></dd>
</dl>
<hr/>
</div>

<abstract-block><p><intro-></intro-> 
The API of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> is a dead end
for future standardization.
Providing improved replacements is better than maintaining the existing overloads.
</p></abstract-block>

<h2 id=contents><a class=para href=#contents></a>Contents</h2>

<div class=toc><div class=toc-num data-level=2>1</div>
<a href=#problem><h2>Problem</h2></a>
<div class=toc-num data-level=3>1.1</div>
<a href=#too-many-overloads><h3>Too many overloads</h3></a>
<div class=toc-num data-level=3>1.2</div>
<a href=#output-parameters><h3>Output parameters</h3></a>
<div class=toc-num data-level=3>1.3</div>
<a href=#problems-with-floating-point-std::from_chars><h3>Problems with floating-point <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code></h3></a>
<div class=toc-num data-level=3>1.4</div>
<a href=#no-path-forward-for-std::from_chars><h3>No path forward for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code></h3></a>
<div class=toc-num data-level=3>1.5</div>
<a href=#std::from_chars-cannot-parse-digit-separators><h3><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> cannot parse digit separators</h3></a>
<div class=toc-num data-level=3>1.6</div>
<a href=#std::to_chars-output-isnt-customizable-enough><h3><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> output isn't customizable enough</h3></a>
<div class=toc-num data-level=2>2</div>
<a href=#solution><h2>Solution</h2></a>
<div class=toc-num data-level=3>2.1</div>
<a href=#what-to-do-with-std::to_chars-and-std::from_chars><h3>What to do with <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code></h3></a>
<div class=toc-num data-level=3>2.2</div>
<a href=#the-issue-of-floating-point-underflow><h3>The issue of floating-point underflow</h3></a>
<div class=toc-num data-level=3>2.3</div>
<a href=#a-better-alternative-api><h3>A better alternative API</h3></a>
<div class=toc-num data-level=4>2.3.1</div>
<a href=#std::to_characters><h4><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_characters</h-></code></h4></a>
<div class=toc-num data-level=4>2.3.2</div>
<a href=#std::from_characters><h4><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_characters</h-></code></h4></a>
<div class=toc-num data-level=4>2.3.3</div>
<a href=#integrating-other-proposal-into-this-design><h4>Integrating other proposal into this design</h4></a>
<div class=toc-num data-level=2>3</div>
<a href=#implementation><h2>Implementation</h2></a>
<div class=toc-num data-level=2>4</div>
<a href=#wording><h2>Wording</h2></a>
<div class=toc-num data-level=2>5</div>
<a href=#references><h2>References</h2></a>
</div>

<h2 id=problem><a class=para href=#problem></a>1. Problem</h2>

<p>In recent history,
there have been at least five papers proposing changes
to the <code><h- data-h=str>&lt;charconv&gt;</h-></code> API:
</p>
<ol>
  <li>
    <a href="https://wg21%2elink/p2584r0">[P2584R0]</a> points out that <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> isn't composable.
    The APIs neither return a range in the result
    nor do they take a range, but a pair of pointers.
    The paper proposes new overloads that accept <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>string_view</h-></code>
    and return a different result type.
  </li>
  <li>
    <a href="https://isocpp%2eorg/files/papers/P3666R2%2ehtml">[P3666R2]</a> wants to add <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>
    support for the new bit-precise integers.
    However, the current interface has an overload
    for each <code><i><h- data-h=id>integer</h-><h- data-h=sym_op>-</h-><h- data-h=id>type</h-></i></code> placeholder,
    and doing so for bit-precise integers would require millions of overloads.
    The paper proposes a new template overload instead.
  </li>
  <li>
    <a href="https://isocpp%2eorg/files/papers/P3876R0%2ehtml">[P3876R0]</a> wants to add <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>
    for character types other than <code><h- data-h=kw_type>char</h-></code>.
    Since the functions aren't templates and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars_result</h-></code>
    isn't a template either, this is quite difficult to do.
    The paper also proposes function templates to avoid a huge overload set.
  </li>
  <li>
    <a href="https://wg21%2elink/p2827r1">[P2827R1]</a> points out that there is no way to detect floating-point
    overflow and underflow in <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>.
    In fact, the wording for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> always relied on the term
    <q>range of representable values</q> which didn't have a definition in the C++ standard
    at the time <code><h- data-h=str>&lt;charconv&gt;</h-></code> was added.
    The error handling design for floating-point overload has always been unclear,
    and none of libstdc++, libc++, and MSVC STL implement what the wording currently says.
    <q>Fixing</q> the API is not possible without breaking some user code.
  </li>
  <li>
    <a href="https://wg21%2elink/p3652r1">[P3652R1]</a> wants the floating-point overloads to be <code><h- data-h=kw>constexpr</h-></code>.
  </li>
</ol>

<h3 id=too-many-overloads><a class=para href=#too-many-overloads></a>1.1. Too many overloads</h3>

<p>Additionally, it is worth noting that the overload set for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>
is absurdly large.
An implementation that provides all standardized floating point types
(<code><h- data-h=kw_type>float</h-></code>, <code><h- data-h=kw_type>double</h-></code>, <code><h- data-h=kw_type>long</h-> <h- data-h=kw_type>double</h-></code>,
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>float16_t</h-></code>, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>bfloat</h-></code>, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>float32_t</h-></code>,
<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>float64_t</h-></code>, and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>float128_t</h-></code>)
needs to be provide 4 ร 8 = 32 floating-point overloads, as well as 11 integer overloads.
There are 43 candidates participating in overload resolution.
</p>
<p>For <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>,
there are <q>only</q> 27 candidates in that scenario.
</p>
<h3 id=output-parameters><a class=para href=#output-parameters></a>1.2. Output parameters</h3>

<p>The practice of using output parameters like in <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
is widely regarded as bad practice.
It invites bugs such as reading from an uninitialized variable,
prevents the user from making their variables <code><h- data-h=kw>const</h-></code>,
among other issues.
</p>
<h3 id=problems-with-floating-point-std::from_chars><a class=para href=#problems-with-floating-point-std::from_chars></a>1.3. Problems with floating-point <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code></h3>

<p>The specification of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> for floating-point overloads
is currently in a broken state.
To provide some more context beyond <a href="https://wg21%2elink/p2827r1">[P2827R1]</a>,
here is a list of issues:
</p>
<ol>
  <li>
    <code><h- data-h=id>from_chars</h-></code> is required to set <code><h- data-h=id>from_chars_result</h-><h- data-h=sym_op>::</h-><h- data-h=id>ec</h-></code>
    to <code><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code> if
    <q>the parsed value is not in the range representable by the type of <code><h- data-h=id>value</h-></code></q> (<a href=https://eel.is/c++draft/charconv>[charconv]</a>).
    This wording existed since its introduction by <a href="https://wg21%2elink/p0067r5">[P0067R5]</a>,
    but it was never clear what it meant because there existed no definition of
    <q>range of representable value</q> for floating-point types at the time,
    at least not in the C++ standard.
    The design discussion and recorded minutes for the paper offer no clarification.
  </li>
  <li>
    <a href="https://wg21%2elink/CWG2723">[CWG2723]</a> added a definition of
    <q>range of representable values</q>,
    which created the current error handling design,
    but neither LEWG nor LWG polled that design.
    At best, the current design is a <q>happy accident</q>.
  </li>
  <li>
    Since the <q>range of representable values</q> for ISO/IEC 60559 types includes
    all real numbers,
    the wording mandates that overflow such as when parsing <code><h- data-h=str_dlim>"</h-><h- data-h=str>1e10000</h-><h- data-h=str_dlim>"</h-></code> and
    underflow such as when parsing <code><h- data-h=str_dlim>"</h-><h- data-h=str>1e-10000</h-><h- data-h=str_dlim>"</h-></code> result in <code><h- data-h=id>ec</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>errc</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-></code>
    (i.e. no error status),
    and the result being set to infinity and zero, respectively.
    Making both overflow and underflow undetectable may not be desirable.
  </li>
  <li>
    While libstdc++, libc++, and MSVC STL have an implementation,
    none of these comply with the current wording;
    they set <code><h- data-h=id>ec</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code> when they are mandated not to.
  </li>
  <li>
    While <code><h- data-h=id>from_chars</h-></code> is required to parse strings such as <code><h- data-h=str_dlim>"</h-><h- data-h=str>INFINITY</h-><h- data-h=str_dlim>"</h-></code>
    or <code><h- data-h=str_dlim>"</h-><h- data-h=str>NaN</h-><h- data-h=str_dlim>"</h-></code>,
    by definition, these are not in the range of representable values
    (because infinity and NaN are not real numbers).
    This means that <code><h- data-h=id>ec</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code> has to be set
    and the <code><h- data-h=id>value</h-></code> has to stay unmodified,
    making this functionality nonsensical and unusable.
    No implementation complies with the wording.
  </li>
  <li>
    The wording does not explicitly handle floating-point types
    that have no representation of infinity or NaN,
    but the C++ standard permits such floating-point types,
    as evidenced by <code><h- data-h=id>numeric_limits</h-><h- data-h=sym_op>::</h-><h- data-h=id>has_infinity</h-></code>.
    The wording currently mandates that <code><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code> is set
    in both the <code><h- data-h=str_dlim>"</h-><h- data-h=str>INFINITY</h-><h- data-h=str_dlim>"</h-></code> case and the overflow case,
    which may be what we want.
    As stated above, the current wording is a <q>happy accident</q> at best,
    not deliberate design.
  </li>
</ol>

<h3 id=no-path-forward-for-std::from_chars><a class=para href=#no-path-forward-for-std::from_chars></a>1.4. No path forward for <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code></h3>

<p>There are too many problems with the old API,
and the problems are too severe as that the issue could be fixed
by simply adding an overload here and making am minor adjustment there.
Any new overloads would compete with a large amount of candidates
(<a href=#too-many-overloads>ยง1.1. Too many overloads</a>).
There already exists user code that relies on the implemented behavior,
whether it complies or not.
</p>
<p>There is no clear path to getting the floating-point overloads into a desirable state.
Users already rely on one specific error code <code><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code>
signaling different failures:
</p><ul>
  <li>Floating-point overflow.</li>
  <li>Floating-point underflow.</li>
  <li>Value too large for integers.</li>
  <li>Infinity not representable in the resulting floating-point type (?)</li>
</ul>

<p>Even if the wording (which mandates that the first two are entirely undetectable)
was aligned with implementations,
there are clearly too many distinct errors crammed into one error code.
In the <q>too large for the integer</q> case,
there is no meaningful value that could be written,
unlike for floating-point numbers,
where zero or infinity could be written,
and the user likely wants to access these values.
These are differently shaped pegs that shouldn't be fit through the same hole.
</p>
<p>Creating new error codes would break existing user code
that checks for <code><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code>.
</p>
<h3 id=std::from_chars-cannot-parse-digit-separators><a class=para href=#std::from_chars-cannot-parse-digit-separators></a>1.5. <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> cannot parse digit separators</h3>

<p>Neither the integer nor the floating-point overloads of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
can parse digit separators.
This is quite annoying because floating-point numbers in config formats,
scripting languages, etc.
may have digit separators.
It also means that <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> isn't capable of parsing
a C++ <g-term>integer-literal</g-term> or <g-term>floating-point-literal</g-term> in the general case
(even after removing the prefix),
which is the bare minimum functionality a user is entitled to.
</p>
<p>Removing the base prefix (e.g. <tt->0x</tt->) is fairly easy and requires no extra allocations,
but removing digit separators from the middle of the string requires a separate buffer
and non-trivial effort from the user.
</p>
<h3 id=std::to_chars-output-isnt-customizable-enough><a class=para href=#std::to_chars-output-isnt-customizable-enough></a>1.6. <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> output isn't customizable enough</h3>

<p><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> makes some arbitrary, opinionated choices
that the user may not like:
</p><ul>
  <li>
    The integer overload outputs lowercase characters for digits beyond base 10.
  </li>
  <li>
    The floating-point overload outputs lowercase <code><h- data-h=id>e</h-></code> or <code><h- data-h=id>p</h-></code>
    exponent separators.
  </li>
  <li>
    The floating-point overload always outputs exponents zero-padded by one,
    such as <code><h- data-h=id>e</h-><h- data-h=sym_op>+</h-><h- data-h=num>09</h-></code>.
    This doesn't make parsing any easier since <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code> should still
    accept exponents with only a single digit;
    it merely bloats the output with redundant information.
  </li>
  <li>
    The minimum and maximum exponent for exponential notation cannot be customized.
  </li>
</ul>

<p>The first two points are somewhat inconsequential;
the user can simply convert each character to uppercase after running <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code>.
</p>
<p>The zero-padding of the exponent is quite problematic though;
if the user wants the <em>truly</em> shortest representation,
without <q>unfairly handicapping</q> the exponential notation with zero-padding,
they need to run <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> two times in certain cases.
If the goal is to optimize for space by outputting the shortest representation
(even if it's less readable),
why would the user want to waste space with this zero?
</p>
<p>Last but not least,
if the goal is to maximize human-readability,
the user often wants to constrain the exponent instead of going with the shortest representation.
</p>
<example-block><p><intro-></intro-> 
For a floating-point number <tt->1.0e</tt-> with some exponent,
</p><ul>
  <li>
    JS consoles in web browsers output in fixed format
    for exponents in the range [-6, 20].
  </li>
  <li>
    Python consoles output in fixed format
    for exponents in the range [-4, 15].
  </li>
  <li>
    Kotlin's <code><h- data-h=id>println</h-></code> outputs in fixed format
    for exponents in the range [-3, 6].
  </li>
  <li>
    <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> with <code><h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-></code> outputs in fixed format
    for exponents in the range [-4, 5].
  </li>
</ul>
</example-block>

<p><code><h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-></code> is better than no choice,
but only provides the user with one completely arbitrary alternative to the default behavior.
Clearly, every other software has a different opinion on when to choose
fixed notation over exponential notation.
Unfortunately, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> makes it very difficult to implement that opinion.
The default behavior of choosing the shortest representation is not very common
for user-facing output,
and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> doesn't even implement that properly due to zero-padding
the exponent.
</p>
<h2 id=solution><a class=para href=#solution></a>2. Solution</h2>

<h3 id=what-to-do-with-std::to_chars-and-std::from_chars><a class=para href=#what-to-do-with-std::to_chars-and-std::from_chars></a>2.1. What to do with <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code></h3>

<p>To state the obvious:
the functionality provided by <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
is immensely useful,
even if the API is in a bad state.
The user should be given an easy upgrade path,
and deprecation is not desirable,
especially not without a replacement.
At least the integer overload of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
are not defective,
so it would create pointless code churn if those
need to be ported over to a different API.
</p>
<p>However, starting with C++29,
committee work on <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
should be largely abandoned.
These functions could live in the standard without deprecation,
as largely obsolete features, similar to <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>strtod</h-></code>.
</p>
<h3 id=the-issue-of-floating-point-underflow><a class=para href=#the-issue-of-floating-point-underflow></a>2.2. The issue of floating-point underflow</h3>

<p>To ensure round-tripping, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> needs to produce
output that is always accepted by <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
and results in the same floating-point value.
There are three distinct problematic scenarios:
</p><ol>
  <li>
    Parsing an inexact representation of a subnormal number, such as
    <code><h- data-h=str_dlim>"</h-><h- data-h=str>1e-45</h-><h- data-h=str_dlim>"</h-></code>.
  </li>
  <li>
    Parsing an exact representation of a subnormal number, such as
    <code><h- data-h=str_dlim>"</h-><h- data-h=str>0.00000000000000000000000000000000000000000000</h-><h- data-h=str_dlim>"</h-> <h- data-h=str_dlim>"</h-><h- data-h=str>14012984643248170709237295832899161312802619418765157</h-><h- data-h=str_dlim>"</h-> <h- data-h=str_dlim>"</h-><h- data-h=str>7175706828388979108268586060148663818836212158203125</h-><h- data-h=str_dlim>"</h-></code>.
  </li>
  <li>
    Parsing a nonzero number that is zero after rounding, such as
    <code><h- data-h=str_dlim>"</h-><h- data-h=str>1e-100000000000</h-><h- data-h=str_dlim>"</h-></code>.
  </li>
</ol>

<note-block><p><intro-></intro-> 
When parsing a <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>float32_t</h-></code> with the input from the first or second bullet,
the same floating-point value is produced.
However, only the input in the second bullet matches the exact decimal value
of the floating-point number without any rounding.
</p></note-block>

<p>All existing implementations work by extracting the significant digits
(17 in the case of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>float64_t</h-></code>)
and multiplying this mantissa with the exponent part,
adjusted based on the position of the radix point.
This makes it impossible to distinguish between the first and second scenario,
and distinguishing between them would require unreasonable effort because all digits
(possibly over 100) contribute
to whether the string is an exact or inexact representation of a floating-point number.
</p>
<p>Therefore, the only detectable scenario should be the last case,
i.e. parsing an <q>inexact zero</q>.
Neither the first nor second case should result in an error because that would make
parsing subnormal numbers impossible and would violate the round-tripping guarantee.
</p>
<note-block><p><intro-></intro-> 
Distinguishing between the exact and inexact case is not impossible,
just difficult and expensive.
A possible implementation could parse and round,
then feed the rounded value into <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> with a high
precision value to produce as many significant digits as necessary,
then compare those digits to the original input string.
</p></note-block>

<h3 id=a-better-alternative-api><a class=para href=#a-better-alternative-api></a>2.3. A better alternative API</h3>

<p>Rather than continuing work on <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>,
a better API should be provided that combines all the desired changes
listed in the papers above.
The implementation would be relatively trivial because all the hard work
has already been done when <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
were implemented.
</p>
<p>A rough draft of a new API looks as follows.
</p>
<h4 id=std::to_characters><a class=para href=#std::to_characters></a>2.3.1. <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_characters</h-></code></h4>

<code-block><h- data-h=kw>enum</h-> <h- data-h=kw>class</h-> <h- data-h=id>characters_notation</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Only fixed notation permitted.</h->
  <h- data-h=id>fixed</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>unspecified</h-></i><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Only scientific notation permitted.</h->
  <h- data-h=id>scientific</h-> <h- data-h=sym_op>=</h-> <i><h- data-h=id>unspecified</h-></i><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Either notation permitted.</h->
  <h- data-h=id>any</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>fixed</h-> <h- data-h=sym_op>|</h-> <h- data-h=id>scientific</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>struct</h-> <h- data-h=id>to_characters_options</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> For integers, in range [2, 36].</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> For floating-point, either 10 or 16.</h->
  <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Output uppercase characters such as 1E+3 or FF00</h->
  <h- data-h=kw_type>bool</h-> <h- data-h=id>uppercase</h-> <h- data-h=sym_op>=</h-> <h- data-h=bool>false</h-><h- data-h=sym_punc>,</h->

  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Permitted notations.</h->
  <h- data-h=id>characters_notation</h-> <h- data-h=id>notation</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>characters_notation</h-><h- data-h=sym_op>::</h-><h- data-h=id>any</h-><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> If positive, specifies the precision.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Otherwise ignored.</h->
  <h- data-h=kw_type>int</h-> <h- data-h=id>precision</h-> <h- data-h=sym_op>=</h-> <h- data-h=sym_op>-</h-><h- data-h=num>1</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Zero-padding of the exponent.</h->
  <h- data-h=kw_type>int</h-> <h- data-h=id>exponent_zero_pad</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>;</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Force fixed notation if an exponent in scientific notation is in the range</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> [fixed_min_exponent, fixed_max_exponent),</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> even if scientific notation would yield shorter output.</h->
  <h- data-h=kw_type>int</h-> <h- data-h=id>fixed_min_exponent</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw_type>int</h-> <h- data-h=id>fixed_max_exponent</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Same options as to_chars without any std::chars_format.</h->
<h- data-h=kw>inline</h-> <h- data-h=kw>constexpr</h-> <h- data-h=id>to_characters_options</h-> <i><h- data-h=id>to-chars-default-options</h-></i> <h- data-h=sym_brac>{</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>exponent_zero_pad</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Same options as chars_format::general.</h->
<h- data-h=kw>inline</h-> <h- data-h=kw>constexpr</h-> <h- data-h=id>to_characters_options</h-> <i><h- data-h=id>to-chars-general-options</h-></i> <h- data-h=sym_brac>{</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>exponent_zero_pad</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>fixed_min_exponent</h-> <h- data-h=sym_op>=</h-> <h- data-h=sym_op>-</h-><h- data-h=num>4</h-><h- data-h=sym_punc>,</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>fixed_max_exponent</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>6</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Same options as with chars_format::fixed.</h->
<h- data-h=kw>inline</h-> <h- data-h=kw>constexpr</h-> <h- data-h=id>to_characters_options</h-> <i><h- data-h=id>to-chars-fixed-options</h-></i> <h- data-h=sym_brac>{</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>exponent_zero_pad</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>notation</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>characters_notation</h-><h- data-h=sym_op>::</h-><h- data-h=id>fixed</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Same options as with chars_format::scientific.</h->
<h- data-h=kw>inline</h-> <h- data-h=kw>constexpr</h-> <h- data-h=id>to_characters_options</h-> <i><h- data-h=id>to-chars-scientific-options</h-></i> <h- data-h=sym_brac>{</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>exponent_zero_pad</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>notation</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>characters_notation</h-><h- data-h=sym_op>::</h-><h- data-h=id>scientific</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->
<h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Same options as with chars_format::hex.</h->
<h- data-h=kw>inline</h-> <h- data-h=kw>constexpr</h-> <h- data-h=id>to_characters_options</h-> <i><h- data-h=id>to-chars-hex-options</h-></i> <h- data-h=sym_brac>{</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>16</h-><h- data-h=sym_punc>,</h->
  <h- data-h=sym_op>.</h-><h- data-h=id>exponent_zero_pad</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>concept</h-> <i><h- data-h=id>signed-or-unsigned</h-></i> <h- data-h=sym_op>=</h-> <i><h- data-h=id>any signed or unsigned integer type</h-></i><h- data-h=sym_punc>;</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>concept</h-> <i><h- data-h=id>cv-unqualified-floating-point</h-></i>
    <h- data-h=sym_op>=</h-> <h- data-h=sym_op>!</h-><h- data-h=id>is_const_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=sym_op>&amp;&amp;</h-> <h- data-h=sym_op>!</h-><h- data-h=id>is_volatile_v</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=sym_op>&amp;&amp;</h-> <h- data-h=id>floating_point</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>requires</h-> <i><h- data-h=id>signed-or-unsigned</h-></i><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
        <h- data-h=sym_op>||</h-> <i><h- data-h=id>cv-unqualified-floating-point</h-></i><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id_type>size_t</h-> <h- data-h=id>to_characters</h-><h- data-h=sym_par>(</h-><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>out</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>T</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>,</h->
                                 <h- data-h=kw>const</h-> <h- data-h=id>to_characters_options</h-><h- data-h=sym_op>&amp;</h-> <h- data-h=id>options</h-> <h- data-h=sym_op>=</h-> <h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<p><code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> can only signal one possible failure,
namely <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>value_too_large</h-></code>.
On success, <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars_result</h-><h- data-h=sym_op>::</h-><h- data-h=id>ptr</h-></code> can be used to detect how many characters
were written.
</p>
<p>It is actually possible to have all that functionality by simply returning <code><h- data-h=id_type>size_t</h-></code>.
On success, the amount of written characters is returned;
on failure, zero is returned, which also happens to be the amount of (usable) characters written.
A <code><h- data-h=id_type>size_t</h-></code> result completely eliminates the need for a dedicated result type,
while conveying the same amount of information.
</p>
<p>The <code><h- data-h=id>out</h-></code> parameter is deliberately not dependent;
template argument deduction does not consider implicit conversions,
so the API would not be ergonomic.
The <code><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-></code> parameter lets the user store the result in an
<code><h- data-h=id>array</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw_type>char</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>N</h-><h- data-h=sym_op>&gt;</h-></code>, a <code><h- data-h=kw_type>char</h-><h- data-h=sym_sqr>[</h-><h- data-h=id>N</h-><h- data-h=sym_sqr>]</h-></code>, etc.
</p>
<h4 id=std::from_characters><a class=para href=#std::from_characters></a>2.3.2. <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_characters</h-></code></h4>

<code-block><h- data-h=kw>enum</h-> <h- data-h=kw>class</h-> <h- data-h=id>from_characters_status</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Success.</h->
  <h- data-h=id>ok</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> A value could be parsed, but is infinity after rounding.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> For example, "1e999999999999".</h->
  <h- data-h=id>floating_overflow</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>1</h-><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> A value could be parsed, but is zero after rounding,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> and not exactly zero.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> For example, "1e-999999999999".</h->
  <h- data-h=id>floating_underflow</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> The input is is not valid, such as "@#&amp;*".</h->
  <h- data-h=id>invalid_string</h-> <h- data-h=sym_op>=</h-> <h- data-h=sym_op>-</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> A value could be parsed, but is not representable in the type.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> For example, if "INFINITY" is parsed,</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> but the floating-point type cannot represent infinity.</h->
  <h- data-h=cmt_dlim>//</h-><h- data-h=cmt> This also includes integers which are too large.</h->
  <h- data-h=id>unrepresentable</h-> <h- data-h=sym_op>=</h-> <h- data-h=sym_op>-</h-><h- data-h=num>2</h-><h- data-h=sym_punc>,</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>class</h-> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
<h- data-h=kw>struct</h-> <h- data-h=id>from_characters_result</h-> <h- data-h=sym_brac>{</h->
  <h- data-h=id>T</h-> <h- data-h=id>value</h-><h- data-h=sym_punc>;</h->
  <h- data-h=id_type>ptrdiff_t</h-> <h- data-h=id>matched</h-><h- data-h=sym_punc>;</h->
  <h- data-h=id>from_characters_status</h-> <h- data-h=id>status</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>friend</h-> <h- data-h=kw>constexpr</h-> <h- data-h=kw_type>bool</h-> <h- data-h=kw>operator</h-><h- data-h=sym_op>==</h-><h- data-h=sym_par>(</h-><h- data-h=id>from_characters_result</h-><h- data-h=sym_punc>,</h->
                                   <h- data-h=id>from_characters_result</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>=</h-> <h- data-h=kw>default</h-><h- data-h=sym_punc>;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=kw>explicit</h-> <h- data-h=kw>operator</h-> <h- data-h=kw_type>bool</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>const</h-> <h- data-h=sym_brac>{</h-> <h- data-h=kw_ctrl>return</h-> <h- data-h=id>status</h-> <h- data-h=sym_op>==</h-> <h- data-h=id>ok</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>;</h->

<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>signed-or-unsigned</h-></i> <h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id>from_characters_result</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
    <h- data-h=id>from_characters</h-><h- data-h=sym_par>(</h-><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>in</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw_type>int</h-> <h- data-h=id>base</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=kw>template</h-><h- data-h=sym_op>&lt;</h-><i><h- data-h=id>cv-unqualified-floating-point</h-></i> <h- data-h=id>T</h-><h- data-h=sym_punc>,</h-> <h- data-h=kw>class</h-> <h- data-h=id>charT</h-><h- data-h=sym_op>&gt;</h->
  <h- data-h=kw>constexpr</h-> <h- data-h=id>from_characters_result</h-><h- data-h=sym_op>&lt;</h-><h- data-h=id>T</h-><h- data-h=sym_op>&gt;</h->
    <h- data-h=id>from_characters</h-><h- data-h=sym_par>(</h-><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-> <h- data-h=id>in</h-><h- data-h=sym_punc>,</h-> <h- data-h=id>chars_format</h-> <h- data-h=id>fmt</h-> <h- data-h=sym_op>=</h-> <h- data-h=id>chars_format</h-><h- data-h=sym_op>::</h-><h- data-h=id>general</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>

<p>Error handling works as follows:
</p><ul>
  <li>
    For status <code><h- data-h=id>ok</h-></code>,
    <code><h- data-h=id>matched</h-></code> is the amount of matched characters,
    and the parsed and rounded value is stored in <code><h- data-h=id>value</h-></code>.
  </li>
  <li>
    For status <code><h- data-h=id>floating_overflow</h-></code>,
    <code><h- data-h=id>matched</h-></code> is the amount of matched characters,
    and positive or negative infinity is stored in <code><h- data-h=id>value</h-></code>,
    or greatest or lowest finite value if infinity is not representable.
    This does not apply when parsing an exact infinity or NaN,
    like <code><h- data-h=str_dlim>"</h-><h- data-h=str>inf</h-><h- data-h=str_dlim>"</h-></code> or <code><h- data-h=str_dlim>"</h-><h- data-h=str>NaN</h-><h- data-h=str_dlim>"</h-></code>.
  </li>
  <li>
    For status <code><h- data-h=id>floating_underflow</h-></code>,
    <code><h- data-h=id>matched</h-></code> is the amount of matched characters,
    and positive or negative zero is stored in <code><h- data-h=id>value</h-></code>.
    This does not apply when parsing an exact zero,
    like <code><h- data-h=str_dlim>"</h-><h- data-h=str>0.0</h-><h- data-h=str_dlim>"</h-></code> or <code><h- data-h=str_dlim>"</h-><h- data-h=str>0.00000000000000e1000000</h-></code>.
  </li>
  <li>
    For status <code><h- data-h=id>invalid_string</h-></code> or <code><h- data-h=id>unrepresentable</h-></code>,
    <code><h- data-h=id>matched</h-></code> is zero,
    and <code><h- data-h=id>value</h-></code> is value-initialized.
  </li>
</ul>

<p>The status <code><h- data-h=id>floating_overflow</h-></code> and <code><h- data-h=id>floating_underflow</h-></code>
are only returned for floating-point types,
whereas integers which are too large are signaled by <code><h- data-h=id>unrepresentable</h-></code>.
If the user doesn't want to handle overflow or underflow
but is fine with obtaining infinity or zero in that case,
they can check for <code><h- data-h=id>status</h-> <h- data-h=sym_op>&gt;=</h-> <h- data-h=id>from_characters_status</h-><h- data-h=sym_op>::</h-><h- data-h=id>ok</h-></code>.
This is the behavior of the Python and C++ floating-point literals,
for example.
</p>
<note-block><p><intro-></intro-> 
According to the current wording for floating-point <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>,
overflow and underflow are undetectable and simply result
in zero or infinity being stored.
</p>
<p>However, there exists no implementation that complies with the wording.
Overflow and underflow are both signaled by <code><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code>
and thus indistinguishable,
and only some implementations set <code><h- data-h=id>value</h-></code>.
</p>
<p>The case signaled by <code><h- data-h=id>from_characters_status</h-><h- data-h=sym_op>::</h-><h- data-h=id>not_representable</h-></code>
is a hole in the wording and was likely never even considered in the original design,
or perhaps it was the only case that should be signaled by <code><h- data-h=id>errc</h-><h- data-h=sym_op>::</h-><h- data-h=id>result_out_of_range</h-></code>.
Nobody knows.
</p></note-block>

<h4 id=integrating-other-proposal-into-this-design><a class=para href=#integrating-other-proposal-into-this-design></a>2.3.3. Integrating other proposal into this design</h4>

<ul>
  <li>
    <a href="https://wg21%2elink/p2584r0">[P2584R0]</a> wants an API that works with <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>span</h-></code>,
    and the API above provides that.
    There are no more raw pointers in the API.
  </li>
  <li>
    <a href="https://isocpp%2eorg/files/papers/P3666R2%2ehtml">[P3666R2]</a> wants to provide additional overloads for bit-precise integers,
    which becomes a no-op if the functions are already templates
    that support all integer types.
  </li>
  <li>
    <a href="https://isocpp%2eorg/files/papers/P3876R0%2ehtml">[P3876R0]</a> wants to provide additional overloads
    for character types other than <code><h- data-h=kw_type>char</h-></code>.
    Since the base set of overloads is manageable (4ร<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_characters</h-></code>,
    2ร<code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_characters</h-></code>),
    it is not unreasonable to multiply its size by five,
    for each character type.
    Note that having a non-template <code><h- data-h=id>span</h-><h- data-h=sym_op>&lt;</h-><h- data-h=kw>const</h-> <h- data-h=kw_type>char</h-><h- data-h=sym_op>&gt;</h-></code> parameter
    is important for being able to pass <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>string_view</h-></code>
    and other contiguous containers.
    However, 20 overloads of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_characters</h-></code> is still quite a lot,
    so perhaps a <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>contiguous_range</h-> <h- data-h=kw>auto</h-><h- data-h=sym_op>&amp;</h-></code> parameter would be better.
    Furthermore,
    the use of <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id_type>ptrdiff_t</h-></code> instead of a pointer in the result
    works for any character type.
  </li>
  <li>
    <a href="https://wg21%2elink/p2827r1">[P2827R1]</a> wants to detect underflow and overflow,
    which is implemented by the more granular <code><h- data-h=id>from_characters_status</h-></code>.
  </li>
  <li>
    <a href="https://wg21%2elink/p3652r1">[P3652R1]</a> wants the floating-point overloads to be <code><h- data-h=kw>constexpr</h-></code>,
    which is done for the API above.
  </li>
</ul>

<h2 id=implementation><a class=para href=#implementation></a>3. Implementation</h2>

<p>The new API is obviously implementable because it is functionally almost identical
to <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>;
it just takes <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>span</h-></code> instead of pointer pairs,
and uses more distinct error codes for the failures already signaled by implementations.
</p>
<h2 id=wording><a class=para href=#wording></a>4. Wording</h2>

<p>It doesn't make sense to provide wording
until a general design direction has been given by LEWG.
</p>
<p>There are two questions that need to be answered:
</p><ul>
  <li>Do we want the changes proposed by the various other papers listed above?</li>
  <li>
    If so, do we really want them in the <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>to_chars</h-></code> and <code><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>from_chars</h-></code>
    overload set,
    or do we create a new API,
    similar to what is shown above?
  </li>
</ul>

<h2 id=references><a class=para href=#references></a>5. References</h2>


<div class=bib><div id=bib-item-N5014 class=bib-item>
<a href="https://wg21%2elink/n5014">[N5014]</a>
<span class=bib-author>Thomas Kรถppe.</span>
<span class=bib-title>Working Draft, Programming Languages โ C++</span>
<span class=bib-date>2025-08-05</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2025/n5014%2epdf" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/n5014.pdf</a></div><div id=bib-item-P0067R5 class=bib-item>
<a href="https://wg21%2elink/p0067r5">[P0067R5]</a>
<span class=bib-author>Jens Maurer.</span>
<span class=bib-title>Elementary string conversions, revision 5</span>
<span class=bib-date>2016-11-11</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2016/p0067r5%2ehtml" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0067r5.html</a></div><div id=bib-item-P2584R0 class=bib-item>
<a href="https://wg21%2elink/p2584r0">[P2584R0]</a>
<span class=bib-author>Corentin Jabot.</span>
<span class=bib-title>A More Composable from_chars</span>
<span class=bib-date>2022-05-12</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2022/p2584r0%2epdf" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2584r0.pdf</a></div><div id=bib-item-P3666R2 class=bib-item>
<a href="https://isocpp%2eorg/files/papers/P3666R2%2ehtml">[P3666R2]</a>
<span class=bib-author>Jan Schultke.</span>
<span class=bib-title>Bit-precise integers</span>
<a href="https://isocpp%2eorg/files/papers/P3666R2%2ehtml" class=bib-link>https://isocpp.org/files/papers/P3666R2.html</a></div><div id=bib-item-P3876R0 class=bib-item>
<a href="https://isocpp%2eorg/files/papers/P3876R0%2ehtml">[P3876R0]</a>
<span class=bib-author>Jan Schultke, Peter Bindels.</span>
<span class=bib-title>Extending &lt;charconv&gt; support to more character types</span>
<a href="https://isocpp%2eorg/files/papers/P3876R0%2ehtml" class=bib-link>https://isocpp.org/files/papers/P3876R0.html</a></div><div id=bib-item-P2827R1 class=bib-item>
<a href="https://wg21%2elink/p2827r1">[P2827R1]</a>
<span class=bib-author>Zhihao Yan.</span>
<span class=bib-title>Floating-point overflow and underflow in from_chars (LWG 3081)</span>
<span class=bib-date>2023-11-20</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2023/p2827r1%2ehtml" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p2827r1.html</a></div><div id=bib-item-P3652R1 class=bib-item>
<a href="https://wg21%2elink/p3652r1">[P3652R1]</a>
<span class=bib-author>Lรฉnรกrd Szolnoki.</span>
<span class=bib-title>Constexpr floating-point &lt;charconv&gt; functions</span>
<span class=bib-date>2025-04-16</span>
<a href="https://www%2eopen-std%2eorg/jtc1/sc22/wg21/docs/papers/2025/p3652r1%2ehtml" class=bib-link>https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3652r1.html</a></div><div id=bib-item-CWG2723 class=bib-item>
<a href="https://wg21%2elink/CWG2723">[CWG2723]</a>
<span class=bib-author>Jiang An.</span>
<span class=bib-title>Range of representable values for floating-point types</span>
<span class=bib-date>2023-04-21</span>
<a href="https://wg21%2elink/CWG2723" class=bib-link>https://wg21.link/CWG2723</a></div><div id=bib-item-LWG3081 class=bib-item>
<a href="https://wg21%2elink/LWG3081">[LWG3081]</a>
<span class=bib-author>Jiang An.</span>
<span class=bib-title>Floating point from_chars API does not distinguish between overflow and underflow</span>
<span class=bib-date>2018-03-12</span>
<a href="https://wg21%2elink/LWG3081" class=bib-link>https://wg21.link/LWG3081</a></div></div>
</main></body>
</html>
